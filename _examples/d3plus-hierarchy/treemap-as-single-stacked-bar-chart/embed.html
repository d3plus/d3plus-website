<!doctype html>
<html>

  <head>

    <meta charset="utf-8">
    <title>Changing the Treemap Tiling Method | D3plus</title>

    <script src="https://d3plus.org/js/d3plus-hierarchy.v0.8.full.min.js"></script>

    <style>

      body {
        margin: 0;
        overflow: hidden;
      }

    </style>

  </head>

  <body>

    <script src="https://d3js.org/d3-hierarchy.v1.min.js"></script>

  

    <script>

      var myData = [
        {"Group": "Store", "Sub-Group": "Convenience Store", "Number of Stores": 100, year: 2018},
        {"Group": "Store", "Sub-Group": "Grocery Store", "Number of Food Stores": 150, year: 2018},
        {"Group": "Store", "Sub-Group": "Farmer's Market", "Number of Food Stores": 50, year: 2018},
        {"Group": "Store", "Sub-Group": "Supercenters", "Number of Food Stores": 30, year: 2018},
        {"Group": "Restaurant", "Sub-Group": "Fast-Food Restaurant", "Number of Food Stores": 60, year: 2018},
        {"Group": "Restaurant", "Sub-Group": "Full-Service Restaurant", "Number of Food Stores": 120, year: 2018}
      ];
      
      new d3plus.Treemap()
        .config({
          data: myData,
          groupBy: ["Group", "Sub-Group"],
          sum: function(d) {
            return d["Number of Food Stores"];
          },
          tooltipConfig: {
            tbody: [
              ["Total", function(d) { return d["Number of Food Stores"] }], 
              ["Year", function(d) { return d.year }]
            ]
          },
          tile: d3.treemapDice
        })
        .render();

    </script>

  </body>

</html>
