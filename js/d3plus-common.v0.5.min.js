/*
  d3plus-common v0.5.15
  Common functions and methods used across D3plus modules.
  Copyright (c) 2016 D3plus - https://d3plus.org
  @license MIT
*/
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("d3-selection"),require("d3-transition"),require("d3-array"),require("d3-collection")):"function"==typeof define&&define.amd?define("d3plus-common",["exports","d3-selection","d3-transition","d3-array","d3-collection"],n):n(t.d3plus=t.d3plus||{},t.d3Selection,t.d3Transition,t.d3Array,t.d3Collection)}(this,function(t,n,r,e,o){"use strict";function i(t,n){return void 0===n?function(n){return n[t]}:function(r){return void 0===r[t]?n:r[t]}}function a(t,n){void 0===n&&(n={});for(var r in n)({}).hasOwnProperty.call(n,r)&&t.attr(r,n[r])}function c(t,n){return n.reduce(function(n,r){return Math.abs(r-t)<Math.abs(n-t)?r:n})}function u(t){return function(){return t}}function s(t,n){n=Object.assign({},p,n);var r=/\.([^#]+)/g.exec(t),e=/#([^\.]+)/g.exec(t),o=/^([^.^#]+)/g.exec(t)[1],i=n.parent.selectAll(t).data(n.condition?[null]:[]),c=i.enter().append(o).call(a,n.enter);e&&c.attr("id",e[1]),r&&c.attr("class",r[1]),i.exit().transition(n.transition).call(a,n.exit).remove();var u=c.merge(i);return u.transition(n.transition).call(a,n.update),u}function d(t,n){void 0===n&&(n={});var r=new Set(e.merge(t.map(function(t){return o.keys(t)}))),i={};return r.forEach(function(r){var o,a=t.map(function(t){return t[r]});if(n[r])o=n[r](a);else{var c=a.map(function(t){return t.constructor});c.indexOf(Array)>=0?(o=e.merge(a.map(function(t){return t.constructor===Array?t:[t]})),o=Array.from(new Set(o)),1===o.length&&(o=o[0])):c.indexOf(String)>=0?(o=Array.from(new Set(a)),1===o.length&&(o=o[0])):o=e.sum(a)}i[r]=o}),i}function f(){return void 0!==y?y:y="-webkit-transform"in document.body.style?"-webkit-":"-moz-transform"in document.body.style?"-moz-":"-ms-transform"in document.body.style?"-ms-":"-o-transform"in document.body.style?"-o-":""}function l(t,n){void 0===n&&(n={});for(var r in n)({}).hasOwnProperty.call(n,r)&&t.style(r,n[r])}var m=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}this._uuid=""+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()};m.prototype.config=function t(n){var r=this;if(arguments.length){for(var e in n)({}).hasOwnProperty.call(n,e)&&e in r&&r[e](n[e]);return this}var t={};for(var o in this.prototype.constructor)"config"!==o&&{}.hasOwnProperty.call(r,o)&&(t[o]=r[o]());return t};var p={condition:!0,enter:{},exit:{},parent:n.select("body"),transition:r.transition().duration(0),update:{}},y=void 0;t.accessor=i,t.attrize=a,t.BaseClass=m,t.closest=c,t.constant=u,t.elem=s,t.merge=d,t.prefix=f,t.stylize=l,Object.defineProperty(t,"__esModule",{value:!0})});