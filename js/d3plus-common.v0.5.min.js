/*
  d3plus-common v0.5.7
  Common functions and methods used across D3plus modules.
  Copyright (c) 2016 D3plus - https://d3plus.org
  @license MIT
*/
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("d3-selection"),require("d3-transition"),require("d3-array"),require("d3-collection")):"function"==typeof define&&define.amd?define("d3plus-common",["exports","d3-selection","d3-transition","d3-array","d3-collection"],n):n(t.d3plus=t.d3plus||{},t.d3Selection,t.d3Transition,t.d3Array,t.d3Collection)}(this,function(t,n,e,r,i){"use strict";function o(t,n){return void 0===n?function(n){return n[t]}:function(e){return void 0===e[t]?n:e[t]}}function a(t,n){void 0===n&&(n={});for(var e in n)({}).hasOwnProperty.call(n,e)&&t.attr(e,n[e])}function c(t){return function(){return t}}function u(t,n){n=Object.assign({},f,n);var e=/\.([^#]+)/g.exec(t),r=/#([^\.]+)/g.exec(t),i=/^([^.^#]+)/g.exec(t)[1],o=n.parent.selectAll(t).data(n.condition?[null]:[]),c=o.enter().append(i).call(a,n.enter);r&&c.attr("id",r[1]),e&&c.attr("class",e[1]),o.exit().transition(n.transition).call(a,n.exit).remove();var u=c.merge(o);return u.transition(n.transition).call(a,n.update),u}function s(t){var n=new Set(r.merge(t.map(function(t){return i.keys(t)}))),e={};return n.forEach(function(n){var i,o=t.map(function(t){return t[n]});o.map(function(t){return typeof t}).indexOf("string")>=0?(i=Array.from(new Set(o).values()),1===i.length&&(i=i[0])):i=r.sum(o),e[n]=i}),e}function l(t,n){void 0===n&&(n={});for(var e in n)({}).hasOwnProperty.call(n,e)&&t.style(e,n[e])}var d=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}this._uuid=""+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()};d.prototype.config=function t(n){var e=this;if(arguments.length){for(var r in n)({}).hasOwnProperty.call(n,r)&&r in e&&e[r](n[r]);return this}var t={};for(var i in this.prototype.constructor)"config"!==i&&{}.hasOwnProperty.call(e,i)&&(t[i]=e[i]());return t};var f={condition:!0,enter:{},exit:{},parent:n.select("body"),transition:e.transition().duration(0),update:{}};t.accessor=o,t.attrize=a,t.BaseClass=d,t.constant=c,t.elem=u,t.merge=s,t.stylize=l,Object.defineProperty(t,"__esModule",{value:!0})});