/*
  d3plus-common v0.5.11
  Common functions and methods used across D3plus modules.
  Copyright (c) 2016 D3plus - https://d3plus.org
  @license MIT
*/
!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("d3-selection"),require("d3-transition"),require("d3-array"),require("d3-collection")):"function"==typeof define&&define.amd?define("d3plus-common",["exports","d3-selection","d3-transition","d3-array","d3-collection"],n):n(t.d3plus=t.d3plus||{},t.d3Selection,t.d3Transition,t.d3Array,t.d3Collection)}(this,function(t,n,e,r,o){"use strict";var i=function(t,n){return void 0===n?function(n){return n[t]}:function(e){return void 0===e[t]?n:e[t]}},a=function(t,n){void 0===n&&(n={});for(var e in n)({}).hasOwnProperty.call(n,e)&&t.attr(e,n[e])},c=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}this._uuid=""+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()};c.prototype.config=function t(n){var e=this;if(arguments.length){for(var r in n)({}).hasOwnProperty.call(n,r)&&r in e&&e[r](n[r]);return this}var t={};for(var o in this.prototype.constructor)"config"!==o&&{}.hasOwnProperty.call(e,o)&&(t[o]=e[o]());return t};var u=function(t,n){return n.reduce(function(n,e){return Math.abs(e-t)<Math.abs(n-t)?e:n})},s=function(t){return function(){return t}},d={condition:!0,enter:{},exit:{},parent:n.select("body"),transition:e.transition().duration(0),update:{}},l=function(t,n){n=Object.assign({},d,n);var e=/\.([^#]+)/g.exec(t),r=/#([^\.]+)/g.exec(t),o=/^([^.^#]+)/g.exec(t)[1],i=n.parent.selectAll(t).data(n.condition?[null]:[]),c=i.enter().append(o).call(a,n.enter);r&&c.attr("id",r[1]),e&&c.attr("class",e[1]),i.exit().transition(n.transition).call(a,n.exit).remove();var u=c.merge(i);return u.transition(n.transition).call(a,n.update),u},f=function(t,n){void 0===n&&(n={});var e=new Set(r.merge(t.map(function(t){return o.keys(t)}))),i={};return e.forEach(function(e){var o,a=t.map(function(t){return t[e]});n[e]?o=n[e](a):a.map(function(t){return typeof t}).indexOf("string")>=0?(o=Array.from(new Set(a)),1===o.length&&(o=o[0])):o=r.sum(a),i[e]=o}),i},p=void 0,m=function(){return void 0!==p?p:p="-webkit-transform"in document.body.style?"-webkit-":"-moz-transform"in document.body.style?"-moz-":"-ms-transform"in document.body.style?"-ms-":"-o-transform"in document.body.style?"-o-":""},y=function(t,n){void 0===n&&(n={});for(var e in n)({}).hasOwnProperty.call(n,e)&&t.style(e,n[e])};t.accessor=i,t.attrize=a,t.BaseClass=c,t.closest=u,t.constant=s,t.elem=l,t.merge=f,t.prefix=m,t.stylize=y,Object.defineProperty(t,"__esModule",{value:!0})});