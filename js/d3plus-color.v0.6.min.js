/*
  d3plus-color v0.6.4
  Color functions that extent the ability of d3-color.
  Copyright (c) 2019 D3plus - https://d3plus.org
  @license MIT
*/
if(typeof Object.assign!=="function"){Object.defineProperty(Object,"assign",{value:function e(t){"use strict";if(t===null){throw new TypeError("Cannot convert undefined or null to object")}var r=Object(t);for(var i=1;i<arguments.length;i++){var n=arguments[i];if(n!==null){for(var o in n){if(Object.prototype.hasOwnProperty.call(n,o)){r[o]=n[o]}}}}return r},writable:true,configurable:true})}if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function e(t,r){var i=Object(this);var n=i.length>>>0;if(n===0)return false;var o=r|0;var f=Math.max(o>=0?o:n-Math.abs(o),0);function l(e,t){return e===t||typeof e==="number"&&typeof t==="number"&&isNaN(e)&&isNaN(t)}while(f<n){if(l(i[f],t)){return true}f++}return false}})}if(!String.prototype.includes){Object.defineProperty(String.prototype,"includes",{value:function(e,t){if(typeof t!=="number"){t=0}if(t+e.length>this.length){return false}else{return this.indexOf(e,t)!==-1}}})}if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{value:function(e){if(this==null){throw new TypeError('"this" is null or not defined')}var t=Object(this);var r=t.length>>>0;if(typeof e!=="function"){throw new TypeError("predicate must be a function")}var i=arguments[1];var n=0;while(n<r){var o=t[n];if(e.call(i,o,n,t)){return o}n++}return undefined},configurable:true,writable:true})}if(!String.prototype.startsWith){Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){t=!t||t<0?0:+t;return this.substring(t,t+e.length)===e}})}if(typeof window!=="undefined"){(function(){var i=function(e,t){var r=e.nodeType;if(r===3){t.push(e.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"))}else if(r===1){t.push("<",e.tagName);if(e.hasAttributes()){[].forEach.call(e.attributes,function(e){t.push(" ",e.item.name,"='",e.item.value,"'")})}if(e.hasChildNodes()){t.push(">");[].forEach.call(e.childNodes,function(e){i(e,t)});t.push("</",e.tagName,">")}else{t.push("/>")}}else if(r==8){t.push("\x3c!--",e.nodeValue,"--\x3e")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){var e=[];var t=this.firstChild;while(t){i(t,e);t=t.nextSibling}return e.join("")},set:function(e){while(this.firstChild){this.removeChild(this.firstChild)}try{var t=new DOMParser;t.async=false;var r="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+e+"</svg>";var i=t.parseFromString(r,"text/xml").documentElement;var n=i.firstChild;while(n){this.appendChild(this.ownerDocument.importNode(n,true));n=n.nextSibling}}catch(e){}}});Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(e){this.innerHTML=e}})})()}(function(e,t){typeof exports==="object"&&typeof module!=="undefined"?t(exports,require("d3-color"),require("d3-scale")):typeof define==="function"&&define.amd?define("d3plus-color",["exports","d3-color","d3-scale"],t):t(e.d3plus={},e.d3Color,e.d3Scale)})(this,function(e,s,t){"use strict";function r(e,t,r,i){if(r===void 0)r=1;if(i===void 0)i=1;e=s.hsl(e);t=s.hsl(t);var n=Math.abs(t.h*i-e.h*r);if(n>180){n-=360}var o=(Math.min(e.h,t.h)+n/2)%360;var f=e.l+(t.l*i-e.l*r)/2,l=e.s+(t.s*i-e.s*r)/2;if(o<0){o+=360}return s.hsl("hsl("+o+","+l*100+"%,"+f*100+"%)").toString()}var i={dark:"#444444",light:"#f7f7f7",missing:"#cccccc",off:"#b22200",on:"#224f20",scale:t.scaleOrdinal().range(["#b22200","#282f6b","#eace3f","#b35c1e","#224f20","#5f487c","#759143","#419391","#993c88","#e89c89","#ffee8d","#afd5e8","#f7ba77","#a5c697","#c5b5e5","#d1d392","#bbefd0","#e099cf"])};function n(e,t){if(t===void 0)t={};return e in t?t[e]:e in i?i[e]:i.missing}function o(e,t){if(t===void 0)t={};if([null,void 0].indexOf(e)>=0){return n("missing",t)}else if(e===true){return n("on",t)}else if(e===false){return n("off",t)}var r=s.color(e);if(!r){return n("scale",t)(e)}return e.toString()}function f(e,t){if(t===void 0)t={};e=s.rgb(e);var r=(e.r*299+e.g*587+e.b*114)/1e3;return r>=128?n("dark",t):n("light",t)}function l(e){e=s.hsl(e);if(e.l>.45){if(e.s>.8){e.s=.8}e.l=.45}return e.toString()}function a(e,t){if(t===void 0)t=.5;e=s.hsl(e);t*=1-e.l;e.l+=t;e.s-=t;return e.toString()}function u(e,t,r,i){if(r===void 0)r=1;if(i===void 0)i=1;e=s.hsl(e);t=s.hsl(t);var n=t.h*i-e.h*r;if(Math.abs(n)>180){n-=360}var o=(e.h-n)%360;var f=e.l-(t.l*i-e.l*r)/2,l=e.s-(t.s*i-e.s*r)/2;if(o<0){o+=360}return s.hsl("hsl("+o+","+l*100+"%,"+f*100+"%)").toString()}e.colorAdd=r;e.colorAssign=o;e.colorContrast=f;e.colorDefaults=i;e.colorLegible=l;e.colorLighter=a;e.colorSubtract=u;Object.defineProperty(e,"__esModule",{value:true})});