/*
  d3plus-color v0.6.6
  Color functions that extent the ability of d3-color.
  Copyright (c) 2019 D3plus - https://d3plus.org
  @license MIT
*/
(function(r,e){typeof exports==="object"&&typeof module!=="undefined"?e(exports,require("d3-color"),require("d3-scale")):typeof define==="function"&&define.amd?define("d3plus-color",["exports","d3-color","d3-scale"],e):(r=r||self,e(r.d3plus={},r.d3Color,r.d3Scale))})(this,function(r,f,e){"use strict";function n(r,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var t=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;r=f.hsl(r);e=f.hsl(e);var a=Math.abs(e.h*t-r.h*n);if(a>180)a-=360;var i=(Math.min(r.h,e.h)+a/2)%360;var o=r.l+(e.l*t-r.l*n)/2,u=r.s+(e.s*t-r.s*n)/2;if(i<0)i+=360;return f.hsl("hsl(".concat(i,",").concat(u*100,"%,").concat(o*100,"%)")).toString()}var t={dark:"#444444",light:"#f7f7f7",missing:"#cccccc",off:"#b22200",on:"#224f20",scale:e.scaleOrdinal().range(["#b22200","#282f6b","#eace3f","#b35c1e","#224f20","#5f487c","#759143","#419391","#993c88","#e89c89","#ffee8d","#afd5e8","#f7ba77","#a5c697","#c5b5e5","#d1d392","#bbefd0","#e099cf"])};function a(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return r in e?e[r]:r in t?t[r]:t.missing}function i(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if([null,void 0].indexOf(r)>=0)return a("missing",e);else if(r===true)return a("on",e);else if(r===false)return a("off",e);var n=f.color(r);if(!n)return a("scale",e)(r);return r.toString()}function o(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};r=f.rgb(r);var n=(r.r*299+r.g*587+r.b*114)/1e3;return n>=128?a("dark",e):a("light",e)}function u(r){r=f.hsl(r);if(r.l>.45){if(r.s>.8)r.s=.8;r.l=.45}return r.toString()}function c(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.5;r=f.hsl(r);e*=1-r.l;r.l+=e;r.s-=e;return r.toString()}function l(r,e){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var t=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;r=f.hsl(r);e=f.hsl(e);var a=e.h*t-r.h*n;if(Math.abs(a)>180)a-=360;var i=(r.h-a)%360;var o=r.l-(e.l*t-r.l*n)/2,u=r.s-(e.s*t-r.s*n)/2;if(i<0)i+=360;return f.hsl("hsl(".concat(i,",").concat(u*100,"%,").concat(o*100,"%)")).toString()}r.colorAdd=n;r.colorAssign=i;r.colorContrast=o;r.colorDefaults=t;r.colorLegible=u;r.colorLighter=c;r.colorSubtract=l;Object.defineProperty(r,"__esModule",{value:true})});(function(r){typeof define==="function"&&define.amd?define(r):r()})(function(){"use strict";var r=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function e(r,e){return e={exports:{}},r(e,e.exports),e.exports}var n="object";var t=function(r){return r&&r.Math==Math&&r};var v=t(typeof globalThis==n&&globalThis)||t(typeof window==n&&window)||t(typeof self==n&&self)||t(typeof r==n&&r)||Function("return this")();var a=function(r){try{return!!r()}catch(r){return true}};var d=!a(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7});var i={}.propertyIsEnumerable;var o=Object.getOwnPropertyDescriptor;var u=o&&!i.call({1:2},1);var f=u?function r(e){var n=o(this,e);return!!n&&n.enumerable}:i;var h={f:f};var c=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}};var l={}.toString;var s=function(r){return l.call(r).slice(8,-1)};var p="".split;var w=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(r){return s(r)=="String"?p.call(r,""):Object(r)}:Object;var g=function(r){if(r==undefined)throw TypeError("Can't call method on "+r);return r};var y=function(r){return w(g(r))};var b=function(r){return typeof r==="object"?r!==null:typeof r==="function"};var m=function(r,e){if(!b(r))return r;var n,t;if(e&&typeof(n=r.toString)=="function"&&!b(t=n.call(r)))return t;if(typeof(n=r.valueOf)=="function"&&!b(t=n.call(r)))return t;if(!e&&typeof(n=r.toString)=="function"&&!b(t=n.call(r)))return t;throw TypeError("Can't convert object to primitive value")};var S={}.hasOwnProperty;var O=function(r,e){return S.call(r,e)};var j=v.document;var x=b(j)&&b(j.createElement);var E=function(r){return x?j.createElement(r):{}};var P=!d&&!a(function(){return Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a!=7});var T=Object.getOwnPropertyDescriptor;var M=d?T:function r(e,n){e=y(e);n=m(n,true);if(P)try{return T(e,n)}catch(r){}if(O(e,n))return c(!h.f.call(e,n),e[n])};var A={f:M};var C=function(r){if(!b(r)){throw TypeError(String(r)+" is not an object")}return r};var k=Object.defineProperty;var L=d?k:function r(e,n,t){C(e);n=m(n,true);C(t);if(P)try{return k(e,n,t)}catch(r){}if("get"in t||"set"in t)throw TypeError("Accessors not supported");if("value"in t)e[n]=t.value;return e};var N={f:L};var _=d?function(r,e,n){return N.f(r,e,c(1,n))}:function(r,e,n){r[e]=n;return r};var F=function(e,n){try{_(v,e,n)}catch(r){v[e]=n}return n};var I=e(function(r){var e="__core-js_shared__";var n=v[e]||F(e,{});(r.exports=function(r,e){return n[r]||(n[r]=e!==undefined?e:{})})("versions",[]).push({version:"3.1.3",mode:"global",copyright:"Â© 2019 Denis Pushkarev (zloirock.ru)"})});var D=I("native-function-to-string",Function.toString);var W=v.WeakMap;var G=typeof W==="function"&&/native code/.test(D.call(W));var V=0;var q=Math.random();var z=function(r){return"Symbol("+String(r===undefined?"":r)+")_"+(++V+q).toString(36)};var H=I("keys");var R=function(r){return H[r]||(H[r]=z(r))};var K={};var Y=v.WeakMap;var B,J,Q;var U=function(r){return Q(r)?J(r):B(r,{})};var X=function(n){return function(r){var e;if(!b(r)||(e=J(r)).type!==n){throw TypeError("Incompatible receiver, "+n+" required")}return e}};if(G){var Z=new Y;var $=Z.get;var rr=Z.has;var er=Z.set;B=function(r,e){er.call(Z,r,e);return e};J=function(r){return $.call(Z,r)||{}};Q=function(r){return rr.call(Z,r)}}else{var nr=R("state");K[nr]=true;B=function(r,e){_(r,nr,e);return e};J=function(r){return O(r,nr)?r[nr]:{}};Q=function(r){return O(r,nr)}}var tr={set:B,get:J,has:Q,enforce:U,getterFor:X};var ar=e(function(r){var e=tr.get;var u=tr.enforce;var f=String(D).split("toString");I("inspectSource",function(r){return D.call(r)});(r.exports=function(r,e,n,t){var a=t?!!t.unsafe:false;var i=t?!!t.enumerable:false;var o=t?!!t.noTargetGet:false;if(typeof n=="function"){if(typeof e=="string"&&!O(n,"name"))_(n,"name",e);u(n).source=f.join(typeof e=="string"?e:"")}if(r===v){if(i)r[e]=n;else F(e,n);return}else if(!a){delete r[e]}else if(!o&&r[e]){i=true}if(i)r[e]=n;else _(r,e,n)})(Function.prototype,"toString",function r(){return typeof this=="function"&&e(this).source||D.call(this)})});var ir=v;var or=function(r){return typeof r=="function"?r:undefined};var ur=function(r,e){return arguments.length<2?or(ir[r])||or(v[r]):ir[r]&&ir[r][e]||v[r]&&v[r][e]};var fr=Math.ceil;var cr=Math.floor;var lr=function(r){return isNaN(r=+r)?0:(r>0?cr:fr)(r)};var vr=Math.min;var sr=function(r){return r>0?vr(lr(r),9007199254740991):0};var dr=Math.max;var hr=Math.min;var pr=function(r,e){var n=lr(r);return n<0?dr(n+e,0):hr(n,e)};var gr=function(u){return function(r,e,n){var t=y(r);var a=sr(t.length);var i=pr(n,a);var o;if(u&&e!=e)while(a>i){o=t[i++];if(o!=o)return true}else for(;a>i;i++){if((u||i in t)&&t[i]===e)return u||i||0}return!u&&-1}};var yr={includes:gr(true),indexOf:gr(false)};var br=yr.indexOf;var mr=function(r,e){var n=y(r);var t=0;var a=[];var i;for(i in n)!O(K,i)&&O(n,i)&&a.push(i);while(e.length>t)if(O(n,i=e[t++])){~br(a,i)||a.push(i)}return a};var wr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var Sr=wr.concat("length","prototype");var Or=Object.getOwnPropertyNames||function r(e){return mr(e,Sr)};var jr={f:Or};var xr=Object.getOwnPropertySymbols;var Er={f:xr};var Pr=ur("Reflect","ownKeys")||function r(e){var n=jr.f(C(e));var t=Er.f;return t?n.concat(t(e)):n};var Tr=function(r,e){var n=Pr(e);var t=N.f;var a=A.f;for(var i=0;i<n.length;i++){var o=n[i];if(!O(r,o))t(r,o,a(e,o))}};var Mr=/#|\.prototype\./;var Ar=function(r,e){var n=kr[Cr(r)];return n==Nr?true:n==Lr?false:typeof e=="function"?a(e):!!e};var Cr=Ar.normalize=function(r){return String(r).replace(Mr,".").toLowerCase()};var kr=Ar.data={};var Lr=Ar.NATIVE="N";var Nr=Ar.POLYFILL="P";var _r=Ar;var Fr=A.f;var Ir=function(r,e){var n=r.target;var t=r.global;var a=r.stat;var i,o,u,f,c,l;if(t){o=v}else if(a){o=v[n]||F(n,{})}else{o=(v[n]||{}).prototype}if(o)for(u in e){c=e[u];if(r.noTargetGet){l=Fr(o,u);f=l&&l.value}else f=o[u];i=_r(t?u:n+(a?".":"#")+u,r.forced);if(!i&&f!==undefined){if(typeof c===typeof f)continue;Tr(c,f)}if(r.sham||f&&f.sham){_(c,"sham",true)}ar(o,u,c,r)}};var Dr=function(r){if(typeof r!="function"){throw TypeError(String(r)+" is not a function")}return r};var Wr=function(t,a,r){Dr(t);if(a===undefined)return t;switch(r){case 0:return function(){return t.call(a)};case 1:return function(r){return t.call(a,r)};case 2:return function(r,e){return t.call(a,r,e)};case 3:return function(r,e,n){return t.call(a,r,e,n)}}return function(){return t.apply(a,arguments)}};var Gr=function(r){return Object(g(r))};var Vr=Array.isArray||function r(e){return s(e)=="Array"};var qr=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())});var zr=v.Symbol;var Hr=I("wks");var Rr=function(r){return Hr[r]||(Hr[r]=qr&&zr[r]||(qr?zr:z)("Symbol."+r))};var Kr=Rr("species");var Yr=function(r,e){var n;if(Vr(r)){n=r.constructor;if(typeof n=="function"&&(n===Array||Vr(n.prototype)))n=undefined;else if(b(n)){n=n[Kr];if(n===null)n=undefined}}return new(n===undefined?Array:n)(e===0?0:e)};var Br=[].push;var Jr=function(d){var h=d==1;var p=d==2;var g=d==3;var y=d==4;var b=d==6;var m=d==5||b;return function(r,e,n,t){var a=Gr(r);var i=w(a);var o=Wr(e,n,3);var u=sr(i.length);var f=0;var c=t||Yr;var l=h?c(r,u):p?c(r,0):undefined;var v,s;for(;u>f;f++)if(m||f in i){v=i[f];s=o(v,f,a);if(d){if(h)l[f]=s;else if(s)switch(d){case 3:return true;case 5:return v;case 6:return f;case 2:Br.call(l,v)}else if(y)return false}}return b?-1:g||y?y:l}};var Qr={forEach:Jr(0),map:Jr(1),filter:Jr(2),some:Jr(3),every:Jr(4),find:Jr(5),findIndex:Jr(6)};var Ur=Object.keys||function r(e){return mr(e,wr)};var Xr=d?Object.defineProperties:function r(e,n){C(e);var t=Ur(n);var a=t.length;var i=0;var o;while(a>i)N.f(e,o=t[i++],n[o]);return e};var Zr=ur("document","documentElement");var $r=R("IE_PROTO");var re="prototype";var ee=function(){};var ne=function(){var r=E("iframe");var e=wr.length;var n="<";var t="script";var a=">";var i="java"+t+":";var o;r.style.display="none";Zr.appendChild(r);r.src=String(i);o=r.contentWindow.document;o.open();o.write(n+t+a+"document.F=Object"+n+"/"+t+a);o.close();ne=o.F;while(e--)delete ne[re][wr[e]];return ne()};var te=Object.create||function r(e,n){var t;if(e!==null){ee[re]=C(e);t=new ee;ee[re]=null;t[$r]=e}else t=ne();return n===undefined?t:Xr(t,n)};K[$r]=true;var ae=Rr("unscopables");var ie=Array.prototype;if(ie[ae]==undefined){_(ie,ae,te(null))}var oe=function(r){ie[ae][r]=true};var ue=Qr.find;var fe="find";var ce=true;if(fe in[])Array(1)[fe](function(){ce=false});Ir({target:"Array",proto:true,forced:ce},{find:function r(e){return ue(this,e,arguments.length>1?arguments[1]:undefined)}});oe(fe);var le=yr.includes;Ir({target:"Array",proto:true},{includes:function r(e){return le(this,e,arguments.length>1?arguments[1]:undefined)}});oe("includes");var ve=Object.assign;var se=!ve||a(function(){var r={};var e={};var n=Symbol();var t="abcdefghijklmnopqrst";r[n]=7;t.split("").forEach(function(r){e[r]=r});return ve({},r)[n]!=7||Ur(ve({},e)).join("")!=t})?function r(e,n){var t=Gr(e);var a=arguments.length;var i=1;var o=Er.f;var u=h.f;while(a>i){var f=w(arguments[i++]);var c=o?Ur(f).concat(o(f)):Ur(f);var l=c.length;var v=0;var s;while(l>v){s=c[v++];if(!d||u.call(f,s))t[s]=f[s]}}return t}:ve;Ir({target:"Object",stat:true,forced:Object.assign!==se},{assign:se});var de=Rr("match");var he=function(r){var e;return b(r)&&((e=r[de])!==undefined?!!e:s(r)=="RegExp")};var pe=function(r){if(he(r)){throw TypeError("The method doesn't accept regular expressions")}return r};var ge=Rr("match");var ye=function(e){var n=/./;try{"/./"[e](n)}catch(r){try{n[ge]=false;return"/./"[e](n)}catch(r){}}return false};var be="".startsWith;var me=Math.min;Ir({target:"String",proto:true,forced:!ye("startsWith")},{startsWith:function r(e){var n=String(g(this));pe(e);var t=sr(me(arguments.length>1?arguments[1]:undefined,n.length));var a=String(e);return be?be.call(n,a,t):n.slice(t,t+a.length)===a}});if(typeof window!=="undefined"){(function(){var t=function(r,e){var n=r.nodeType;if(n===3){e.push(r.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"))}else if(n===1){e.push("<",r.tagName);if(r.hasAttributes()){[].forEach.call(r.attributes,function(r){e.push(" ",r.item.name,"='",r.item.value,"'")})}if(r.hasChildNodes()){e.push(">");[].forEach.call(r.childNodes,function(r){t(r,e)});e.push("</",r.tagName,">")}else{e.push("/>")}}else if(n==8){e.push("\x3c!--",r.nodeValue,"--\x3e")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){var r=[];var e=this.firstChild;while(e){t(e,r);e=e.nextSibling}return r.join("")},set:function(r){while(this.firstChild){this.removeChild(this.firstChild)}try{var e=new DOMParser;e.async=false;var n="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+r+"</svg>";var t=e.parseFromString(n,"text/xml").documentElement;var a=t.firstChild;while(a){this.appendChild(this.ownerDocument.importNode(a,true));a=a.nextSibling}}catch(r){}}});Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(r){this.innerHTML=r}})})()}});