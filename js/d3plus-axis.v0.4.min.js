/*
  d3plus-axis v0.4.10
  Beautiful javascript scales and axes.
  Copyright (c) 2019 D3plus - https://d3plus.org
  @license MIT
*/
(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?e(exports,require("d3-array"),require("d3-time"),require("d3-time-format"),require("d3-scale"),require("d3-selection"),require("d3-transition"),require("d3plus-common"),require("d3plus-format"),require("d3plus-shape"),require("d3plus-text")):typeof define==="function"&&define.amd?define("d3plus-axis",["exports","d3-array","d3-time","d3-time-format","d3-scale","d3-selection","d3-transition","d3plus-common","d3plus-format","d3plus-shape","d3plus-text"],e):(t=t||self,e(t.d3plus={},t.d3Array,t.d3Time,t.d3TimeFormat,t.scales,t.d3Selection,t.d3Transition,t.d3plusCommon,t.d3plusFormat,t.shapes,t.d3plusText))})(this,function(t,ot,st,e,lt,ut,ct,ht,ft,dt,gt){"use strict";function vt(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){vt=function(t){return typeof t}}else{vt=function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return vt(t)}function n(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function r(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(t,n.key,n)}}function i(t,e,i){if(e)r(t.prototype,e);if(i)r(t,i);return t}function _t(t,e,i){if(e in t){Object.defineProperty(t,e,{value:i,enumerable:true,configurable:true,writable:true})}else{t[e]=i}return t}function a(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});if(e)s(t,e)}function o(t){o=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)};return o(t)}function s(t,e){s=Object.setPrototypeOf||function t(e,i){e.__proto__=i;return e};return s(t,e)}function l(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function u(t,e){if(e&&(typeof e==="object"||typeof e==="function")){return e}return l(t)}function pt(t){return c(t)||h(t)||f()}function c(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function h(t){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]")return Array.from(t)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function mt(t){if(t.constructor===Date)return t;else if(t.constructor===Number&&"".concat(t).length>5&&t%1===0)return new Date(t);var e="".concat(t);var i=new RegExp(/^\d{1,2}[./-]\d{1,2}[./-](-*\d{1,4})$/g).exec(e),n=new RegExp(/^[A-z]{1,3} [A-z]{1,3} \d{1,2} (-*\d{1,4}) \d{1,2}:\d{1,2}:\d{1,2} [A-z]{1,3}-*\d{1,4} \([A-z]{1,3}\)/g).exec(e);if(i){var r=i[1];if(r.indexOf("-")===0)e=e.replace(r,r.substr(1));var a=new Date(e);a.setFullYear(r);return a}else if(n){var o=n[1];if(o.indexOf("-")===0)e=e.replace(o,o.substr(1));var s=new Date(e);s.setFullYear(o);return s}else if(!e.includes("/")&&!e.includes(" ")&&(!e.includes("-")||!e.indexOf("-"))){var l=new Date("".concat(e,"/01/01"));l.setFullYear(t);return l}else return new Date(e)}var bt=e.timeFormat("%a %d"),yt=e.timeFormat("%I %p"),St=e.timeFormat(".%L"),kt=e.timeFormat("%I:%M"),wt=e.timeFormat("%b"),xt=e.timeFormat(":%S"),Ot=e.timeFormat("%b %d"),Ct=e.timeFormat("%Y");var d=function(t){a(e,t);function e(){var i;n(this,e);i=u(this,o(e).call(this));i._align="middle";i._barConfig={stroke:"#000","stroke-width":1};i._domain=[0,10];i._duration=600;i._gridConfig={stroke:"#ccc","stroke-width":1};i._gridLog=false;i._height=400;i._labelOffset=true;i.orient("bottom");i._outerBounds={width:0,height:0,x:0,y:0};i._padding=5;i._paddingInner=.1;i._paddingOuter=.1;i._rotateLabels=false;i._scale="linear";i._shape="Line";i._shapeConfig={fill:"#000",height:function t(e){return e.tick?8:0},label:function t(e){return e.text},labelBounds:function t(e){return e.labelBounds},labelConfig:{fontColor:"#000",fontFamily:(new gt.TextBox).fontFamily(),fontResize:false,fontSize:ht.constant(10),padding:0,textAnchor:function t(){var e=gt.rtl();return i._orient==="left"?e?"start":"end":i._orient==="right"?e?"end":"start":i._rotateLabels?i._orient==="bottom"?"end":"start":"middle"},verticalAlign:function t(){return i._orient==="bottom"?"top":i._orient==="top"?"bottom":"middle"}},r:function t(e){return e.tick?4:0},stroke:"#000",strokeWidth:1,width:function t(e){return e.tick?8:0}};i._tickSize=5;i._tickSpecifier=undefined;i._tickSuffix="normal";i._tickUnit=0;i._titleClass=new gt.TextBox;i._titleConfig={fontSize:12,textAnchor:"middle"};i._width=400;return i}i(e,[{key:"_barPosition",value:function t(e){var i=this._position,n=i.height,r=i.x,a=i.y,o=i.opposite,s=this._getDomain(),l=this._margin[o],u=["top","left"].includes(this._orient)?this._outerBounds[a]+this._outerBounds[n]-l:this._outerBounds[a]+l;e.call(ht.attrize,this._barConfig).attr("".concat(r,"1"),this._getPosition(s[0])-(this._scale==="band"?this._d3Scale.step()-this._d3Scale.bandwidth():0)).attr("".concat(r,"2"),this._getPosition(s[s.length-1])+(this._scale==="band"?this._d3Scale.step():0)).attr("".concat(a,"1"),u).attr("".concat(a,"2"),u)}},{key:"_getDomain",value:function t(){var e=[];if(this._d3ScaleNegative)e=this._d3ScaleNegative.domain();if(this._d3Scale)e=e.concat(this._d3Scale.domain());var i=this._scale==="ordinal"?e:ot.extent(e);return e[0]>e[1]?i.reverse():i}},{key:"_getPosition",value:function t(e){return e<0&&this._d3ScaleNegative?this._d3ScaleNegative(e):this._d3Scale(e)}},{key:"_getRange",value:function t(){var e=[];if(this._d3ScaleNegative)e=this._d3ScaleNegative.range();if(this._d3Scale)e=e.concat(this._d3Scale.range());return e[0]>e[1]?ot.extent(e).reverse():ot.extent(e)}},{key:"_getTicks",value:function t(){var e=lt.scaleSqrt().domain([10,400]).range([10,50]);var i=[];if(this._d3ScaleNegative){var n=this._d3ScaleNegative.range();var r=n[1]-n[0];i=this._d3ScaleNegative.ticks(Math.floor(r/e(r)))}if(this._d3Scale){var a=this._d3Scale.range();var o=a[1]-a[0];i=i.concat(this._d3Scale.ticks(Math.floor(o/e(o))))}return i}},{key:"_gridPosition",value:function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=this._position,r=n.height,a=n.x,o=n.y,s=n.opposite,l=this._margin[s],u=["top","left"].includes(this._orient)?this._outerBounds[o]+this._outerBounds[r]-l:this._outerBounds[o]+l,c=i?this._lastScale||this._getPosition.bind(this):this._getPosition.bind(this),h=["top","left"].includes(this._orient)?l:-l,f=this._scale==="band"?this._d3Scale.bandwidth()/2:0,d=function t(e){return c(e.id)+f};e.call(ht.attrize,this._gridConfig).attr("".concat(a,"1"),d).attr("".concat(a,"2"),d).attr("".concat(o,"1"),u).attr("".concat(o,"2"),i?u:u+h)}},{key:"render",value:function t(e){var d=this,i;if(this._select===void 0){this.select(ut.select("body").append("svg").attr("width","".concat(this._width,"px")).attr("height","".concat(this._height,"px")).node())}var n=this._position,r=n.width,g=n.height,v=n.x,_=n.y,p=n.horizontal,m=n.opposite,a="d3plus-Axis-clip-".concat(this._uuid),b=["top","left"].includes(this._orient),y=this._padding,o=this._select,w=[y,this["_".concat(r)]-y],s=ct.transition().duration(this._duration);var l=this._shape==="Circle"?this._shapeConfig.r:this._shape==="Rect"?this._shapeConfig[r]:this._shapeConfig.strokeWidth;var x=typeof l!=="function"?function(){return l}:l;var S=this._margin={top:0,right:0,bottom:0,left:0};var O,C,j;function u(){var r=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._range;C=t?t.slice():[undefined,undefined];var e=w[0],i=w[1];if(this._range){if(this._range[0]!==undefined)e=this._range[0];if(this._range[this._range.length-1]!==undefined)i=this._range[this._range.length-1]}if(C[0]===undefined||C[0]<e)C[0]=e;if(C[1]===undefined||C[1]>i)C[1]=i;var n=i-e;if(this._scale==="ordinal"&&this._domain.length>C.length){if(t===this._range){var a=this._domain.length+1;C=ot.range(a).map(function(t){return C[0]+n*(t/(a-1))}).slice(1,a);C=C.map(function(t){return t-C[0]/2})}else{var o=this._domain.length;var s=C[1]-C[0];C=ot.range(o).map(function(t){return C[0]+s*(t/(o-1))})}}else if(t===this._range){var l=lt.scaleSqrt().domain([10,400]).range([10,50]);var u=this._scale==="time"?this._domain.map(mt):this._domain;var c=ot.ticks(u[0],u[1],Math.floor(n/l(n)));j=(this._ticks?this._scale==="time"?this._ticks.map(mt):this._ticks:c).slice();O=(this._labels?this._scale==="time"?this._labels.map(mt):this._labels:c).slice();var h=O.length;if(h){var f=Math.ceil(n/h/2);C=[C[0]+f,C[1]-f]}}this._d3Scale=lt["scale".concat(this._scale.charAt(0).toUpperCase()).concat(this._scale.slice(1))]().domain(this._scale==="time"?this._domain.map(mt):this._domain);if(this._d3Scale.round)this._d3Scale.round(true);if(this._d3Scale.paddingInner)this._d3Scale.paddingInner(this._paddingInner);if(this._d3Scale.paddingOuter)this._d3Scale.paddingOuter(this._paddingOuter);if(this._d3Scale.rangeRound)this._d3Scale.rangeRound(C);else this._d3Scale.range(C);this._d3ScaleNegative=null;if(this._scale==="log"){var d=this._d3Scale.domain();if(d[0]===0)d[0]=1;if(d[d.length-1]===0)d[d.length-1]=-1;var g=this._d3Scale.range();if(d[0]<0&&d[d.length-1]<0){this._d3ScaleNegative=this._d3Scale.copy().domain(d).range(g);this._d3Scale=null}else if(d[0]>0&&d[d.length-1]>0){this._d3Scale.domain(d).range(g)}else{var v=lt.scaleLog().domain([1,d[d[1]>0?1:0]]).range([0,1]);var _=v(Math.abs(d[d[1]<0?1:0]));var p=_/(_+1)*(g[1]-g[0]);if(d[0]>0)p=g[1]-g[0]-p;this._d3ScaleNegative=this._d3Scale.copy();(d[0]<0?this._d3Scale:this._d3ScaleNegative).domain([Math.sign(d[1]),d[1]]).range([g[0]+p,g[1]]);(d[0]<0?this._d3ScaleNegative:this._d3Scale).domain([d[0],Math.sign(d[0])]).range([g[0],g[0]+p])}}j=(this._ticks?this._scale==="time"?this._ticks.map(mt):this._ticks:(this._d3Scale?this._d3Scale.ticks:this._d3ScaleNegative.ticks)?this._getTicks():this._domain).slice();O=(this._labels?this._scale==="time"?this._labels.map(mt):this._labels:(this._d3Scale?this._d3Scale.ticks:this._d3ScaleNegative.ticks)?this._getTicks():j).slice();if(this._scale==="log"){O=O.filter(function(t){return Math.abs(t).toString().charAt(0)==="1"&&(r._d3Scale?t!==-1:t!==1)})}else if(this._scale==="time"){j=j.map(Number);O=O.map(Number)}j=j.sort(function(t,e){return r._getPosition(t)-r._getPosition(e)});O=O.sort(function(t,e){return r._getPosition(t)-r._getPosition(e)});if(this._scale==="linear"&&this._tickSuffix==="smallest"){var m=O.filter(function(t){return t>=1e3});if(m.length>0){var b=Math.min.apply(Math,pt(m));var y=1;while(y&&y<7){var S=Math.pow(10,3*y);if(b/S>=1){this._tickUnit=y;y+=1}else{break}}}}var k=[];this._availableTicks=j;j.forEach(function(t,e){var i=x({id:t,tick:true},e);if(r._shape==="Circle")i*=2;var n=r._getPosition(t);if(!k.length||Math.abs(ht.closest(n,k)-n)>i*2)k.push(n);else k.push(false)});j=j.filter(function(t,e){return k[e]!==false});this._visibleTicks=j}u.bind(this)();function c(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var i=t.i,n=t.position;if(this._scale==="band"){return this._d3Scale.bandwidth()}else{var r=i-e<0?w[0]:n-(n-N[i-e].position)/2;var a=Math.abs(n-r);var o=i+e>N.length-1?w[1]:n-(n-N[i+e].position)/2;var s=Math.abs(n-o);return ot.min([a,s])*2}}var k=this._tickFormat?this._tickFormat:function(t){if(d._scale==="log"){var e=Math.round(Math.log(Math.abs(t))/Math.LN10);var i=Math.abs(t).toString().charAt(0);var n="10 ".concat("".concat(e).split("").map(function(t){return"⁰¹²³⁴⁵⁶⁷⁸⁹"[t]}).join(""));if(i!=="1")n="".concat(i," x ").concat(n);return t<0?"-".concat(n):n}else if(d._scale==="time"){return(st.timeSecond(t)<t?St:st.timeMinute(t)<t?xt:st.timeHour(t)<t?kt:st.timeDay(t)<t?yt:st.timeMonth(t)<t?st.timeWeek(t)<t?bt:Ot:st.timeYear(t)<t?wt:Ct)(t)}else if(d._scale==="ordinal"){return t}var r=d._d3Scale.tickFormat?d._d3Scale.tickFormat(O.length-1)(t):t;r=r.replace(/[^\d\.\-\+]/g,"")*1;if(isNaN(r)){return r}else if(d._scale==="linear"&&d._tickSuffix==="smallest"){var a=vt(d._locale)==="object"?d._locale:ft.formatLocale[d._locale];var o=a.separator,s=a.suffixes;var l=r>=1e3?s[d._tickUnit+8]:"";var u=r/Math.pow(10,3*d._tickUnit);var c=ft.formatAbbreviate(u,a,",.".concat(u.toString().length,"r"));return"".concat(c).concat(o).concat(l)}else{return ft.formatAbbreviate(r,d._locale)}};if(this._title){var h=this._titleConfig,f=h.fontFamily,P=h.fontSize,M=h.lineHeight;var A=gt.textWrap().fontFamily(typeof f==="function"?f():f).fontSize(typeof P==="function"?P():P).lineHeight(typeof M==="function"?M():M).width(C[C.length-1]-C[0]-y*2).height(this["_".concat(g)]-this._tickSize-y*2);var z=A(this._title).lines.length;S[this._orient]=z*A.lineHeight()+y}var F=this._shape==="Circle"?typeof this._shapeConfig.r==="function"?this._shapeConfig.r({tick:true}):this._shapeConfig.r:this._shape==="Rect"?typeof this._shapeConfig[g]==="function"?this._shapeConfig[g]({tick:true}):this._shapeConfig[g]:this._tickSize,T=x({tick:true});if(typeof F==="function")F=ot.max(j.map(F));if(this._shape==="Rect")F/=2;if(typeof T==="function")T=ot.max(j.map(T));if(this._shape!=="Circle")T/=2;var N=O.map(function(t,e){var i=d._shapeConfig.labelConfig.fontFamily(t,e),n=d._shapeConfig.labelConfig.fontSize(t,e),r=d._getPosition(t);var a=d._shapeConfig.lineHeight?d._shapeConfig.lineHeight(t,e):n*1.4;return{d:t,i:e,fF:i,fS:n,lineHeight:a,position:r}});function E(t){var e=t.d,i=t.i,n=t.fF,r=t.fS,a=t.rotate,o=t.space;var s=a?"width":"height",l=a?"height":"width";var u=gt.textWrap().fontFamily(n).fontSize(r).lineHeight(this._shapeConfig.lineHeight?this._shapeConfig.lineHeight(e,i):undefined)[l](p?o:ot.min([this._maxSize,this._width])-F-y-this._margin.left-this._margin.right)[s](p?ot.min([this._maxSize,this._height])-F-y-this._margin.top-this._margin.bottom:o);var c=u(k(e));c.lines=c.lines.filter(function(t){return t!==""});c.width=c.lines.length?Math.ceil(ot.max(c.widths))+r/4:0;if(c.width%2)c.width++;c.height=c.lines.length?Math.ceil(c.lines.length*u.lineHeight())+r/4:0;if(c.height%2)c.height++;return c}N=N.map(function(t){t.rotate=d._labelRotation;t.space=c.bind(d)(t);var e=E.bind(d)(t);return Object.assign(e,t)});this._rotateLabels=p&&this._labelRotation===undefined?N.some(function(t){return t.truncated}):this._labelRotation;if(this._rotateLabels){N=N.map(function(t){t.rotate=true;var e=E.bind(d)(t);return Object.assign(t,e)})}var L=[0,0];for(var R=0;R<2;R++){var H=N[R?N.length-1:0];if(!H)break;var I=H.height,B=H.position,q=H.rotate,D=H.width;var W=R?w[1]:w[0];var Y=(q||!p?I:D)/2;var G=R?B+Y-W:B-Y-W;L[R]=G}var U=C[0];var V=C[C.length-1];var K=[U-L[0],V-L[1]];if(this._range){if(this._range[0]!==undefined)K[0]=this._range[0];if(this._range[this._range.length-1]!==undefined)K[1]=this._range[this._range.length-1]}if(K[0]!==U||K[1]!==V){u.bind(this)(K);N=O.map(function(t,e){var i=d._shapeConfig.labelConfig.fontFamily(t,e),n=d._shapeConfig.labelConfig.fontSize(t,e),r=d._getPosition(t);var a=d._shapeConfig.lineHeight?d._shapeConfig.lineHeight(t,e):n*1.4;return{d:t,i:e,fF:i,fS:n,lineHeight:a,position:r}});N=N.map(function(t){t.rotate=d._rotateLabels;t.space=c.bind(d)(t);var e=E.bind(d)(t);return Object.assign(e,t)})}var $=ot.max(N,function(t){return t.height})||0;this._rotateLabels=p&&this._labelRotation===undefined?N.some(function(t){var e=t.i,i=t.height,n=t.position,r=t.truncated;var a=N[e-1];return r||e&&a.position+a.height/2>n-i/2}):this._labelRotation;if(this._rotateLabels){var J=0;N=N.map(function(t){t.space=c.bind(d)(t,2);var e=E.bind(d)(t);t=Object.assign(t,e);var i=N[t.i-1];if(!i){J=1}else if(i.position+i.height/2>t.position){if(J){t.offset=i.width;J=0}else J=1}return t})}var Q=this._labelOffset?ot.max(N,function(t){return t.offset||0}):0;N.forEach(function(t){return t.offset=t.offset?Q:0});var X=this._shape==="Line"?0:F;var Z=this._outerBounds=(i={},_t(i,g,(ot.max(N,function(t){return Math.ceil(t[t.rotate||!p?"width":"height"]+t.offset)})||0)+(N.length?y:0)),_t(i,r,w[w.length-1]-w[0]),_t(i,v,w[0]),i);S[this._orient]+=F;S[m]=this._gridSize!==undefined?ot.max([this._gridSize,X]):this["_".concat(g)]-S[this._orient]-Z[g]-y;Z[g]+=S[m]+S[this._orient];Z[_]=this._align==="start"?this._padding:this._align==="end"?this["_".concat(g)]-Z[g]-this._padding:this["_".concat(g)]/2-Z[g]/2;var tt=ht.elem("g#d3plus-Axis-".concat(this._uuid),{parent:o});this._group=tt;var et=ht.elem("g.grid",{parent:tt}).selectAll("line").data((this._gridSize!==0?this._grid||this._scale==="log"&&!this._gridLog?O:j:[]).map(function(t){return{id:t}}),function(t){return t.id});et.exit().transition(s).attr("opacity",0).call(this._gridPosition.bind(this)).remove();et.enter().append("line").attr("opacity",0).attr("clip-path","url(#".concat(a,")")).call(this._gridPosition.bind(this),true).merge(et).transition(s).attr("opacity",1).call(this._gridPosition.bind(this));var it=O.filter(function(t,e){return N[e].lines.length&&!j.includes(t)});var nt=N.some(function(t){return t.rotate});var rt=j.concat(it).map(function(e){var t;var i=N.find(function(t){return t.d===e});var n=d._getPosition(e);var r=i?i.space:0;var a=i?i.lines.length:1;var o=i?i.lineHeight:1;var s=i&&d._labelOffset?i.offset:0;var l=p?r:Z.width-S[d._position.opposite]-F-S[d._orient]+y;var u=S[m],c=(F+s)*(b?-1:1),h=b?Z[_]+Z[g]-u:Z[_]+u;var f=(t={id:e,labelBounds:nt&&i?{x:-i.width/2+i.fS/4,y:d._orient==="bottom"?c+y+(i.width-o*a)/2:c-y*2-(i.width+o*a)/2,width:i.width,height:i.height}:{x:p?-r/2:d._orient==="left"?-l-y+c:c+y,y:p?d._orient==="bottom"?c+y:c-y-$:-r/2,width:p?r:l,height:p?$:r},rotate:i?i.rotate:false,size:O.includes(e)?c:0,text:O.includes(e)?k(e):false,tick:j.includes(e)},_t(t,v,n+(d._scale==="band"?d._d3Scale.bandwidth()/2:0)),_t(t,_,h),t);return f});if(this._shape==="Line"){rt=rt.concat(rt.map(function(t){var e=Object.assign({},t);e[_]+=t.size;return e}))}(new dt[this._shape]).data(rt).duration(this._duration).labelConfig({ellipsis:function t(e){return e&&e.length?"".concat(e,"..."):""},rotate:function t(e){return e.rotate?-90:0}}).select(ht.elem("g.ticks",{parent:tt}).node()).config(this._shapeConfig).render();var at=tt.selectAll("line.bar").data([null]);at.enter().append("line").attr("class","bar").attr("opacity",0).call(this._barPosition.bind(this)).merge(at).transition(s).attr("opacity",1).call(this._barPosition.bind(this));this._titleClass.data(this._title?[{text:this._title}]:[]).duration(this._duration).height(S[this._orient]).rotate(this._orient==="left"?-90:this._orient==="right"?90:0).select(ht.elem("g.d3plus-Axis-title",{parent:tt}).node()).text(function(t){return t.text}).verticalAlign("middle").width(C[C.length-1]-C[0]).x(p?C[0]:this._orient==="left"?S[this._orient]/2-(C[C.length-1]-C[0])/2+y:y-S.right/2).y(p?this._orient==="bottom"?Z.height-S.bottom+y:Z.y:C[0]+(C[C.length-1]-C[0])/2-S[this._orient]/2).config(this._titleConfig).render();this._lastScale=this._getPosition.bind(this);if(e)setTimeout(e,this._duration+100);return this}},{key:"align",value:function t(e){return arguments.length?(this._align=e,this):this._align}},{key:"barConfig",value:function t(e){return arguments.length?(this._barConfig=Object.assign(this._barConfig,e),this):this._barConfig}},{key:"domain",value:function t(e){return arguments.length?(this._domain=e,this):this._domain}},{key:"duration",value:function t(e){return arguments.length?(this._duration=e,this):this._duration}},{key:"grid",value:function t(e){return arguments.length?(this._grid=e,this):this._grid}},{key:"gridConfig",value:function t(e){return arguments.length?(this._gridConfig=Object.assign(this._gridConfig,e),this):this._gridConfig}},{key:"gridLog",value:function t(e){return arguments.length?(this._gridLog=e,this):this._gridLog}},{key:"gridSize",value:function t(e){return arguments.length?(this._gridSize=e,this):this._gridSize}},{key:"height",value:function t(e){return arguments.length?(this._height=e,this):this._height}},{key:"labels",value:function t(e){return arguments.length?(this._labels=e,this):this._labels}},{key:"labelOffset",value:function t(e){return arguments.length?(this._labelOffset=e,this):this._labelOffset}},{key:"labelRotation",value:function t(e){return arguments.length?(this._labelRotation=e,this):this._labelRotation}},{key:"maxSize",value:function t(e){return arguments.length?(this._maxSize=e,this):this._maxSize}},{key:"orient",value:function t(e){if(arguments.length){var i=["top","bottom"].includes(e),n={top:"bottom",right:"left",bottom:"top",left:"right"};this._position={horizontal:i,width:i?"width":"height",height:i?"height":"width",x:i?"x":"y",y:i?"y":"x",opposite:n[e]};return this._orient=e,this}return this._orient}},{key:"outerBounds",value:function t(){return this._outerBounds}},{key:"padding",value:function t(e){return arguments.length?(this._padding=e,this):this._padding}},{key:"paddingInner",value:function t(e){return arguments.length?(this._paddingInner=e,this):this._paddingInner}},{key:"paddingOuter",value:function t(e){return arguments.length?(this._paddingOuter=e,this):this._paddingOuter}},{key:"range",value:function t(e){return arguments.length?(this._range=e,this):this._range}},{key:"scale",value:function t(e){return arguments.length?(this._scale=e,this):this._scale}},{key:"select",value:function t(e){return arguments.length?(this._select=ut.select(e),this):this._select}},{key:"shape",value:function t(e){return arguments.length?(this._shape=e,this):this._shape}},{key:"shapeConfig",value:function t(e){return arguments.length?(this._shapeConfig=ht.assign(this._shapeConfig,e),this):this._shapeConfig}},{key:"tickFormat",value:function t(e){return arguments.length?(this._tickFormat=e,this):this._tickFormat}},{key:"ticks",value:function t(e){return arguments.length?(this._ticks=e,this):this._ticks}},{key:"tickSize",value:function t(e){return arguments.length?(this._tickSize=e,this):this._tickSize}},{key:"tickSpecifier",value:function t(e){return arguments.length?(this._tickSpecifier=e,this):this._tickSpecifier}},{key:"tickSuffix",value:function t(e){return arguments.length?(this._tickSuffix=e,this):this._tickSuffix}},{key:"title",value:function t(e){return arguments.length?(this._title=e,this):this._title}},{key:"titleConfig",value:function t(e){return arguments.length?(this._titleConfig=Object.assign(this._titleConfig,e),this):this._titleConfig}},{key:"width",value:function t(e){return arguments.length?(this._width=e,this):this._width}}]);return e}(ht.BaseClass);var g=function(t){a(e,t);function e(){var t;n(this,e);t=u(this,o(e).call(this));t.orient("bottom");return t}return e}(d);var v=function(t){a(e,t);function e(){var t;n(this,e);t=u(this,o(e).call(this));t.orient("left");return t}return e}(d);var _=function(t){a(e,t);function e(){var t;n(this,e);t=u(this,o(e).call(this));t.orient("right");return t}return e}(d);var p=function(t){a(e,t);function e(){var t;n(this,e);t=u(this,o(e).call(this));t.orient("top");return t}return e}(d);t.Axis=d;t.AxisBottom=g;t.AxisLeft=v;t.AxisRight=_;t.AxisTop=p;t.date=mt;Object.defineProperty(t,"__esModule",{value:true})});(function(t){typeof define==="function"&&define.amd?define(t):t()})(function(){"use strict";var t=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}var i="object";var n=function(t){return t&&t.Math==Math&&t};var h=n(typeof globalThis==i&&globalThis)||n(typeof window==i&&window)||n(typeof self==i&&self)||n(typeof t==i&&t)||Function("return this")();var r=function(t){try{return!!t()}catch(t){return true}};var d=!r(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7});var a={}.propertyIsEnumerable;var o=Object.getOwnPropertyDescriptor;var s=o&&!a.call({1:2},1);var l=s?function t(e){var i=o(this,e);return!!i&&i.enumerable}:a;var g={f:l};var u=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}};var c={}.toString;var f=function(t){return c.call(t).slice(8,-1)};var v="".split;var y=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return f(t)=="String"?v.call(t,""):Object(t)}:Object;var _=function(t){if(t==undefined)throw TypeError("Can't call method on "+t);return t};var p=function(t){return y(_(t))};var m=function(t){return typeof t==="object"?t!==null:typeof t==="function"};var b=function(t,e){if(!m(t))return t;var i,n;if(e&&typeof(i=t.toString)=="function"&&!m(n=i.call(t)))return n;if(typeof(i=t.valueOf)=="function"&&!m(n=i.call(t)))return n;if(!e&&typeof(i=t.toString)=="function"&&!m(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")};var S={}.hasOwnProperty;var k=function(t,e){return S.call(t,e)};var w=h.document;var x=m(w)&&m(w.createElement);var O=function(t){return x?w.createElement(t):{}};var C=!d&&!r(function(){return Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a!=7});var j=Object.getOwnPropertyDescriptor;var P=d?j:function t(e,i){e=p(e);i=b(i,true);if(C)try{return j(e,i)}catch(t){}if(k(e,i))return u(!g.f.call(e,i),e[i])};var M={f:P};var A=function(t){if(!m(t)){throw TypeError(String(t)+" is not an object")}return t};var z=Object.defineProperty;var F=d?z:function t(e,i,n){A(e);i=b(i,true);A(n);if(C)try{return z(e,i,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");if("value"in n)e[i]=n.value;return e};var T={f:F};var N=d?function(t,e,i){return T.f(t,e,u(1,i))}:function(t,e,i){t[e]=i;return t};var E=function(e,i){try{N(h,e,i)}catch(t){h[e]=i}return i};var L=e(function(t){var e="__core-js_shared__";var i=h[e]||E(e,{});(t.exports=function(t,e){return i[t]||(i[t]=e!==undefined?e:{})})("versions",[]).push({version:"3.1.3",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})});var R=L("native-function-to-string",Function.toString);var H=h.WeakMap;var I=typeof H==="function"&&/native code/.test(R.call(H));var B=0;var q=Math.random();var D=function(t){return"Symbol("+String(t===undefined?"":t)+")_"+(++B+q).toString(36)};var W=L("keys");var Y=function(t){return W[t]||(W[t]=D(t))};var G={};var U=h.WeakMap;var V,K,$;var J=function(t){return $(t)?K(t):V(t,{})};var Q=function(i){return function(t){var e;if(!m(t)||(e=K(t)).type!==i){throw TypeError("Incompatible receiver, "+i+" required")}return e}};if(I){var X=new U;var Z=X.get;var tt=X.has;var et=X.set;V=function(t,e){et.call(X,t,e);return e};K=function(t){return Z.call(X,t)||{}};$=function(t){return tt.call(X,t)}}else{var it=Y("state");G[it]=true;V=function(t,e){N(t,it,e);return e};K=function(t){return k(t,it)?t[it]:{}};$=function(t){return k(t,it)}}var nt={set:V,get:K,has:$,enforce:J,getterFor:Q};var rt=e(function(t){var e=nt.get;var s=nt.enforce;var l=String(R).split("toString");L("inspectSource",function(t){return R.call(t)});(t.exports=function(t,e,i,n){var r=n?!!n.unsafe:false;var a=n?!!n.enumerable:false;var o=n?!!n.noTargetGet:false;if(typeof i=="function"){if(typeof e=="string"&&!k(i,"name"))N(i,"name",e);s(i).source=l.join(typeof e=="string"?e:"")}if(t===h){if(a)t[e]=i;else E(e,i);return}else if(!r){delete t[e]}else if(!o&&t[e]){a=true}if(a)t[e]=i;else N(t,e,i)})(Function.prototype,"toString",function t(){return typeof this=="function"&&e(this).source||R.call(this)})});var at=h;var ot=function(t){return typeof t=="function"?t:undefined};var st=function(t,e){return arguments.length<2?ot(at[t])||ot(h[t]):at[t]&&at[t][e]||h[t]&&h[t][e]};var lt=Math.ceil;var ut=Math.floor;var ct=function(t){return isNaN(t=+t)?0:(t>0?ut:lt)(t)};var ht=Math.min;var ft=function(t){return t>0?ht(ct(t),9007199254740991):0};var dt=Math.max;var gt=Math.min;var vt=function(t,e){var i=ct(t);return i<0?dt(i+e,0):gt(i,e)};var _t=function(s){return function(t,e,i){var n=p(t);var r=ft(n.length);var a=vt(i,r);var o;if(s&&e!=e)while(r>a){o=n[a++];if(o!=o)return true}else for(;r>a;a++){if((s||a in n)&&n[a]===e)return s||a||0}return!s&&-1}};var pt={includes:_t(true),indexOf:_t(false)};var mt=pt.indexOf;var bt=function(t,e){var i=p(t);var n=0;var r=[];var a;for(a in i)!k(G,a)&&k(i,a)&&r.push(a);while(e.length>n)if(k(i,a=e[n++])){~mt(r,a)||r.push(a)}return r};var yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var St=yt.concat("length","prototype");var kt=Object.getOwnPropertyNames||function t(e){return bt(e,St)};var wt={f:kt};var xt=Object.getOwnPropertySymbols;var Ot={f:xt};var Ct=st("Reflect","ownKeys")||function t(e){var i=wt.f(A(e));var n=Ot.f;return n?i.concat(n(e)):i};var jt=function(t,e){var i=Ct(e);var n=T.f;var r=M.f;for(var a=0;a<i.length;a++){var o=i[a];if(!k(t,o))n(t,o,r(e,o))}};var Pt=/#|\.prototype\./;var Mt=function(t,e){var i=zt[At(t)];return i==Tt?true:i==Ft?false:typeof e=="function"?r(e):!!e};var At=Mt.normalize=function(t){return String(t).replace(Pt,".").toLowerCase()};var zt=Mt.data={};var Ft=Mt.NATIVE="N";var Tt=Mt.POLYFILL="P";var Nt=Mt;var Et=M.f;var Lt=function(t,e){var i=t.target;var n=t.global;var r=t.stat;var a,o,s,l,u,c;if(n){o=h}else if(r){o=h[i]||E(i,{})}else{o=(h[i]||{}).prototype}if(o)for(s in e){u=e[s];if(t.noTargetGet){c=Et(o,s);l=c&&c.value}else l=o[s];a=Nt(n?s:i+(r?".":"#")+s,t.forced);if(!a&&l!==undefined){if(typeof u===typeof l)continue;jt(u,l)}if(t.sham||l&&l.sham){N(u,"sham",true)}rt(o,s,u,t)}};var Rt=function(t){if(typeof t!="function"){throw TypeError(String(t)+" is not a function")}return t};var Ht=function(n,r,t){Rt(n);if(r===undefined)return n;switch(t){case 0:return function(){return n.call(r)};case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,i){return n.call(r,t,e,i)}}return function(){return n.apply(r,arguments)}};var It=function(t){return Object(_(t))};var Bt=Array.isArray||function t(e){return f(e)=="Array"};var qt=!!Object.getOwnPropertySymbols&&!r(function(){return!String(Symbol())});var Dt=h.Symbol;var Wt=L("wks");var Yt=function(t){return Wt[t]||(Wt[t]=qt&&Dt[t]||(qt?Dt:D)("Symbol."+t))};var Gt=Yt("species");var Ut=function(t,e){var i;if(Bt(t)){i=t.constructor;if(typeof i=="function"&&(i===Array||Bt(i.prototype)))i=undefined;else if(m(i)){i=i[Gt];if(i===null)i=undefined}}return new(i===undefined?Array:i)(e===0?0:e)};var Vt=[].push;var Kt=function(d){var g=d==1;var v=d==2;var _=d==3;var p=d==4;var m=d==6;var b=d==5||m;return function(t,e,i,n){var r=It(t);var a=y(r);var o=Ht(e,i,3);var s=ft(a.length);var l=0;var u=n||Ut;var c=g?u(t,s):v?u(t,0):undefined;var h,f;for(;s>l;l++)if(b||l in a){h=a[l];f=o(h,l,r);if(d){if(g)c[l]=f;else if(f)switch(d){case 3:return true;case 5:return h;case 6:return l;case 2:Vt.call(c,h)}else if(p)return false}}return m?-1:_||p?p:c}};var $t={forEach:Kt(0),map:Kt(1),filter:Kt(2),some:Kt(3),every:Kt(4),find:Kt(5),findIndex:Kt(6)};var Jt=Object.keys||function t(e){return bt(e,yt)};var Qt=d?Object.defineProperties:function t(e,i){A(e);var n=Jt(i);var r=n.length;var a=0;var o;while(r>a)T.f(e,o=n[a++],i[o]);return e};var Xt=st("document","documentElement");var Zt=Y("IE_PROTO");var te="prototype";var ee=function(){};var ie=function(){var t=O("iframe");var e=yt.length;var i="<";var n="script";var r=">";var a="java"+n+":";var o;t.style.display="none";Xt.appendChild(t);t.src=String(a);o=t.contentWindow.document;o.open();o.write(i+n+r+"document.F=Object"+i+"/"+n+r);o.close();ie=o.F;while(e--)delete ie[te][yt[e]];return ie()};var ne=Object.create||function t(e,i){var n;if(e!==null){ee[te]=A(e);n=new ee;ee[te]=null;n[Zt]=e}else n=ie();return i===undefined?n:Qt(n,i)};G[Zt]=true;var re=Yt("unscopables");var ae=Array.prototype;if(ae[re]==undefined){N(ae,re,ne(null))}var oe=function(t){ae[re][t]=true};var se=$t.find;var le="find";var ue=true;if(le in[])Array(1)[le](function(){ue=false});Lt({target:"Array",proto:true,forced:ue},{find:function t(e){return se(this,e,arguments.length>1?arguments[1]:undefined)}});oe(le);var ce=pt.includes;Lt({target:"Array",proto:true},{includes:function t(e){return ce(this,e,arguments.length>1?arguments[1]:undefined)}});oe("includes");var he=Object.assign;var fe=!he||r(function(){var t={};var e={};var i=Symbol();var n="abcdefghijklmnopqrst";t[i]=7;n.split("").forEach(function(t){e[t]=t});return he({},t)[i]!=7||Jt(he({},e)).join("")!=n})?function t(e,i){var n=It(e);var r=arguments.length;var a=1;var o=Ot.f;var s=g.f;while(r>a){var l=y(arguments[a++]);var u=o?Jt(l).concat(o(l)):Jt(l);var c=u.length;var h=0;var f;while(c>h){f=u[h++];if(!d||s.call(l,f))n[f]=l[f]}}return n}:he;Lt({target:"Object",stat:true,forced:Object.assign!==fe},{assign:fe});var de=Yt("match");var ge=function(t){var e;return m(t)&&((e=t[de])!==undefined?!!e:f(t)=="RegExp")};var ve=function(t){if(ge(t)){throw TypeError("The method doesn't accept regular expressions")}return t};var _e=Yt("match");var pe=function(e){var i=/./;try{"/./"[e](i)}catch(t){try{i[_e]=false;return"/./"[e](i)}catch(t){}}return false};var me="".startsWith;var be=Math.min;Lt({target:"String",proto:true,forced:!pe("startsWith")},{startsWith:function t(e){var i=String(_(this));ve(e);var n=ft(be(arguments.length>1?arguments[1]:undefined,i.length));var r=String(e);return me?me.call(i,r,n):i.slice(n,n+r.length)===r}});if(typeof window!=="undefined"){(function(){var n=function(t,e){var i=t.nodeType;if(i===3){e.push(t.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"))}else if(i===1){e.push("<",t.tagName);if(t.hasAttributes()){[].forEach.call(t.attributes,function(t){e.push(" ",t.item.name,"='",t.item.value,"'")})}if(t.hasChildNodes()){e.push(">");[].forEach.call(t.childNodes,function(t){n(t,e)});e.push("</",t.tagName,">")}else{e.push("/>")}}else if(i==8){e.push("\x3c!--",t.nodeValue,"--\x3e")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){var t=[];var e=this.firstChild;while(e){n(e,t);e=e.nextSibling}return t.join("")},set:function(t){while(this.firstChild){this.removeChild(this.firstChild)}try{var e=new DOMParser;e.async=false;var i="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+t+"</svg>";var n=e.parseFromString(i,"text/xml").documentElement;var r=n.firstChild;while(r){this.appendChild(this.ownerDocument.importNode(r,true));r=r.nextSibling}}catch(t){}}});Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}})})()}});