/*
  d3plus-common v0.6.61
  Common functions and methods used across D3plus modules.
  Copyright (c) 2020 D3plus - https://d3plus.org
  @license MIT
*/
(function(e){typeof define==="function"&&define.amd?define(e):e()})(function(){"use strict";var e=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function r(e,r){return r={exports:{}},e(r,r.exports),r.exports}var t=function(e){return e&&e.Math==Math&&e};var s=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof e=="object"&&e)||Function("return this")();var o=function(e){try{return!!e()}catch(e){return true}};var d=!o(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7});var n={}.propertyIsEnumerable;var i=Object.getOwnPropertyDescriptor;var a=i&&!n.call({1:2},1);var u=a?function e(r){var t=i(this,r);return!!t&&t.enumerable}:n;var p={f:u};var f=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}};var c={}.toString;var l=function(e){return c.call(e).slice(8,-1)};var v="".split;var w=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return l(e)=="String"?v.call(e,""):Object(e)}:Object;var h=function(e){if(e==undefined)throw TypeError("Can't call method on "+e);return e};var y=function(e){return w(h(e))};var g=function(e){return typeof e==="object"?e!==null:typeof e==="function"};var b=function(e,r){if(!g(e))return e;var t,n;if(r&&typeof(t=e.toString)=="function"&&!g(n=t.call(e)))return n;if(typeof(t=e.valueOf)=="function"&&!g(n=t.call(e)))return n;if(!r&&typeof(t=e.toString)=="function"&&!g(n=t.call(e)))return n;throw TypeError("Can't convert object to primitive value")};var m={}.hasOwnProperty;var O=function(e,r){return m.call(e,r)};var S=s.document;var j=g(S)&&g(S.createElement);var _=function(e){return j?S.createElement(e):{}};var C=!d&&!o(function(){return Object.defineProperty(_("div"),"a",{get:function(){return 7}}).a!=7});var x=Object.getOwnPropertyDescriptor;var E=d?x:function e(r,t){r=y(r);t=b(t,true);if(C)try{return x(r,t)}catch(e){}if(O(r,t))return f(!p.f.call(r,t),r[t])};var P={f:E};var k=function(e){if(!g(e)){throw TypeError(String(e)+" is not an object")}return e};var A=Object.defineProperty;var T=d?A:function e(r,t,n){k(r);t=b(t,true);k(n);if(C)try{return A(r,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");if("value"in n)r[t]=n.value;return r};var M={f:T};var D=d?function(e,r,t){return M.f(e,r,f(1,t))}:function(e,r,t){e[r]=t;return e};var N=function(r,t){try{D(s,r,t)}catch(e){s[r]=t}return t};var L="__core-js_shared__";var R=s[L]||N(L,{});var F=R;var q=Function.toString;if(typeof F.inspectSource!="function"){F.inspectSource=function(e){return q.call(e)}}var z=F.inspectSource;var I=s.WeakMap;var V=typeof I==="function"&&/native code/.test(z(I));var W=r(function(e){(e.exports=function(e,r){return F[e]||(F[e]=r!==undefined?r:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})});var H=0;var G=Math.random();var U=function(e){return"Symbol("+String(e===undefined?"":e)+")_"+(++H+G).toString(36)};var B=W("keys");var K=function(e){return B[e]||(B[e]=U(e))};var X={};var Y=s.WeakMap;var J,Q,Z;var $=function(e){return Z(e)?Q(e):J(e,{})};var ee=function(t){return function(e){var r;if(!g(e)||(r=Q(e)).type!==t){throw TypeError("Incompatible receiver, "+t+" required")}return r}};if(V){var re=new Y;var te=re.get;var ne=re.has;var ie=re.set;J=function(e,r){ie.call(re,e,r);return r};Q=function(e){return te.call(re,e)||{}};Z=function(e){return ne.call(re,e)}}else{var ae=K("state");X[ae]=true;J=function(e,r){D(e,ae,r);return r};Q=function(e){return O(e,ae)?e[ae]:{}};Z=function(e){return O(e,ae)}}var oe={set:J,get:Q,has:Z,enforce:$,getterFor:ee};var ue=r(function(e){var r=oe.get;var u=oe.enforce;var f=String(String).split("String");(e.exports=function(e,r,t,n){var i=n?!!n.unsafe:false;var a=n?!!n.enumerable:false;var o=n?!!n.noTargetGet:false;if(typeof t=="function"){if(typeof r=="string"&&!O(t,"name"))D(t,"name",r);u(t).source=f.join(typeof r=="string"?r:"")}if(e===s){if(a)e[r]=t;else N(r,t);return}else if(!i){delete e[r]}else if(!o&&e[r]){a=true}if(a)e[r]=t;else D(e,r,t)})(Function.prototype,"toString",function e(){return typeof this=="function"&&r(this).source||z(this)})});var fe=s;var ce=function(e){return typeof e=="function"?e:undefined};var le=function(e,r){return arguments.length<2?ce(fe[e])||ce(s[e]):fe[e]&&fe[e][r]||s[e]&&s[e][r]};var se=Math.ceil;var ve=Math.floor;var de=function(e){return isNaN(e=+e)?0:(e>0?ve:se)(e)};var pe=Math.min;var he=function(e){return e>0?pe(de(e),9007199254740991):0};var ye=Math.max;var ge=Math.min;var be=function(e,r){var t=de(e);return t<0?ye(t+r,0):ge(t,r)};var me=function(u){return function(e,r,t){var n=y(e);var i=he(n.length);var a=be(t,i);var o;if(u&&r!=r)while(i>a){o=n[a++];if(o!=o)return true}else for(;i>a;a++){if((u||a in n)&&n[a]===r)return u||a||0}return!u&&-1}};var we={includes:me(true),indexOf:me(false)};var Oe=we.indexOf;var Se=function(e,r){var t=y(e);var n=0;var i=[];var a;for(a in t)!O(X,a)&&O(t,a)&&i.push(a);while(r.length>n)if(O(t,a=r[n++])){~Oe(i,a)||i.push(a)}return i};var je=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var _e=je.concat("length","prototype");var Ce=Object.getOwnPropertyNames||function e(r){return Se(r,_e)};var xe={f:Ce};var Ee=Object.getOwnPropertySymbols;var Pe={f:Ee};var ke=le("Reflect","ownKeys")||function e(r){var t=xe.f(k(r));var n=Pe.f;return n?t.concat(n(r)):t};var Ae=function(e,r){var t=ke(r);var n=M.f;var i=P.f;for(var a=0;a<t.length;a++){var o=t[a];if(!O(e,o))n(e,o,i(r,o))}};var Te=/#|\.prototype\./;var Me=function(e,r){var t=Ne[De(e)];return t==Re?true:t==Le?false:typeof r=="function"?o(r):!!r};var De=Me.normalize=function(e){return String(e).replace(Te,".").toLowerCase()};var Ne=Me.data={};var Le=Me.NATIVE="N";var Re=Me.POLYFILL="P";var Fe=Me;var qe=P.f;var ze=function(e,r){var t=e.target;var n=e.global;var i=e.stat;var a,o,u,f,c,l;if(n){o=s}else if(i){o=s[t]||N(t,{})}else{o=(s[t]||{}).prototype}if(o)for(u in r){c=r[u];if(e.noTargetGet){l=qe(o,u);f=l&&l.value}else f=o[u];a=Fe(n?u:t+(i?".":"#")+u,e.forced);if(!a&&f!==undefined){if(typeof c===typeof f)continue;Ae(c,f)}if(e.sham||f&&f.sham){D(c,"sham",true)}ue(o,u,c,e)}};var Ie=function(e){if(typeof e!="function"){throw TypeError(String(e)+" is not a function")}return e};var Ve=function(n,i,e){Ie(n);if(i===undefined)return n;switch(e){case 0:return function(){return n.call(i)};case 1:return function(e){return n.call(i,e)};case 2:return function(e,r){return n.call(i,e,r)};case 3:return function(e,r,t){return n.call(i,e,r,t)}}return function(){return n.apply(i,arguments)}};var We=function(e){return Object(h(e))};var He=Array.isArray||function e(r){return l(r)=="Array"};var Ge=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())});var Ue=Ge&&!Symbol.sham&&typeof Symbol.iterator=="symbol";var Be=W("wks");var Ke=s.Symbol;var Xe=Ue?Ke:Ke&&Ke.withoutSetter||U;var Ye=function(e){if(!O(Be,e)){if(Ge&&O(Ke,e))Be[e]=Ke[e];else Be[e]=Xe("Symbol."+e)}return Be[e]};var Je=Ye("species");var Qe=function(e,r){var t;if(He(e)){t=e.constructor;if(typeof t=="function"&&(t===Array||He(t.prototype)))t=undefined;else if(g(t)){t=t[Je];if(t===null)t=undefined}}return new(t===undefined?Array:t)(r===0?0:r)};var Ze=[].push;var $e=function(d){var p=d==1;var h=d==2;var y=d==3;var g=d==4;var b=d==6;var m=d==5||b;return function(e,r,t,n){var i=We(e);var a=w(i);var o=Ve(r,t,3);var u=he(a.length);var f=0;var c=n||Qe;var l=p?c(e,u):h?c(e,0):undefined;var s,v;for(;u>f;f++)if(m||f in a){s=a[f];v=o(s,f,i);if(d){if(p)l[f]=v;else if(v)switch(d){case 3:return true;case 5:return s;case 6:return f;case 2:Ze.call(l,s)}else if(g)return false}}return b?-1:y||g?g:l}};var er={forEach:$e(0),map:$e(1),filter:$e(2),some:$e(3),every:$e(4),find:$e(5),findIndex:$e(6)};var rr=Object.keys||function e(r){return Se(r,je)};var tr=d?Object.defineProperties:function e(r,t){k(r);var n=rr(t);var i=n.length;var a=0;var o;while(i>a)M.f(r,o=n[a++],t[o]);return r};var nr=le("document","documentElement");var ir=">";var ar="<";var or="prototype";var ur="script";var fr=K("IE_PROTO");var cr=function(){};var lr=function(e){return ar+ur+ir+e+ar+"/"+ur+ir};var sr=function(e){e.write(lr(""));e.close();var r=e.parentWindow.Object;e=null;return r};var vr=function(){var e=_("iframe");var r="java"+ur+":";var t;e.style.display="none";nr.appendChild(e);e.src=String(r);t=e.contentWindow.document;t.open();t.write(lr("document.F=Object"));t.close();return t.F};var dr;var pr=function(){try{dr=document.domain&&new ActiveXObject("htmlfile")}catch(e){}pr=dr?sr(dr):vr();var e=je.length;while(e--)delete pr[or][je[e]];return pr()};X[fr]=true;var hr=Object.create||function e(r,t){var n;if(r!==null){cr[or]=k(r);n=new cr;cr[or]=null;n[fr]=r}else n=pr();return t===undefined?n:tr(n,t)};var yr=Ye("unscopables");var gr=Array.prototype;if(gr[yr]==undefined){M.f(gr,yr,{configurable:true,value:hr(null)})}var br=function(e){gr[yr][e]=true};var mr=Object.defineProperty;var wr={};var Or=function(e){throw e};var Sr=function(e,r){if(O(wr,e))return wr[e];if(!r)r={};var t=[][e];var n=O(r,"ACCESSORS")?r.ACCESSORS:false;var i=O(r,0)?r[0]:Or;var a=O(r,1)?r[1]:undefined;return wr[e]=!!t&&!o(function(){if(n&&!d)return true;var e={length:-1};if(n)mr(e,1,{enumerable:true,get:Or});else e[1]=1;t.call(e,i,a)})};var jr=er.find;var _r="find";var Cr=true;var xr=Sr(_r);if(_r in[])Array(1)[_r](function(){Cr=false});ze({target:"Array",proto:true,forced:Cr||!xr},{find:function e(r){return jr(this,r,arguments.length>1?arguments[1]:undefined)}});br(_r);var Er=we.includes;var Pr=Sr("indexOf",{ACCESSORS:true,1:0});ze({target:"Array",proto:true,forced:!Pr},{includes:function e(r){return Er(this,r,arguments.length>1?arguments[1]:undefined)}});br("includes");var kr=Object.assign;var Ar=Object.defineProperty;var Tr=!kr||o(function(){if(d&&kr({b:1},kr(Ar({},"a",{enumerable:true,get:function(){Ar(this,"b",{value:3,enumerable:false})}}),{b:2})).b!==1)return true;var e={};var r={};var t=Symbol();var n="abcdefghijklmnopqrst";e[t]=7;n.split("").forEach(function(e){r[e]=e});return kr({},e)[t]!=7||rr(kr({},r)).join("")!=n})?function e(r,t){var n=We(r);var i=arguments.length;var a=1;var o=Pe.f;var u=p.f;while(i>a){var f=w(arguments[a++]);var c=o?rr(f).concat(o(f)):rr(f);var l=c.length;var s=0;var v;while(l>s){v=c[s++];if(!d||u.call(f,v))n[v]=f[v]}}return n}:kr;ze({target:"Object",stat:true,forced:Object.assign!==Tr},{assign:Tr});var Mr=Ye("match");var Dr=function(e){var r;return g(e)&&((r=e[Mr])!==undefined?!!r:l(e)=="RegExp")};var Nr=function(e){if(Dr(e)){throw TypeError("The method doesn't accept regular expressions")}return e};var Lr=Ye("match");var Rr=function(r){var t=/./;try{"/./"[r](t)}catch(e){try{t[Lr]=false;return"/./"[r](t)}catch(e){}}return false};ze({target:"String",proto:true,forced:!Rr("includes")},{includes:function e(r){return!!~String(h(this)).indexOf(Nr(r),arguments.length>1?arguments[1]:undefined)}});var Fr=P.f;var qr="".startsWith;var zr=Math.min;var Ir=Rr("startsWith");var Vr=!Ir&&!!function(){var e=Fr(String.prototype,"startsWith");return e&&!e.writable}();ze({target:"String",proto:true,forced:!Vr&&!Ir},{startsWith:function e(r){var t=String(h(this));Nr(r);var n=he(zr(arguments.length>1?arguments[1]:undefined,t.length));var i=String(r);return qr?qr.call(t,i,n):t.slice(n,n+i.length)===i}});if(typeof window!=="undefined"){(function(){var n=function(e,r){var t=e.nodeType;if(t===3){r.push(e.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"))}else if(t===1){r.push("<",e.tagName);if(e.hasAttributes()){[].forEach.call(e.attributes,function(e){r.push(" ",e.item.name,"='",e.item.value,"'")})}if(e.hasChildNodes()){r.push(">");[].forEach.call(e.childNodes,function(e){n(e,r)});r.push("</",e.tagName,">")}else{r.push("/>")}}else if(t==8){r.push("\x3c!--",e.nodeValue,"--\x3e")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){var e=[];var r=this.firstChild;while(r){n(r,e);r=r.nextSibling}return e.join("")},set:function(e){while(this.firstChild){this.removeChild(this.firstChild)}try{var r=new DOMParser;r.async=false;var t="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+e+"</svg>";var n=r.parseFromString(t,"text/xml").documentElement;var i=n.firstChild;while(i){this.appendChild(this.ownerDocument.importNode(i,true));i=i.nextSibling}}catch(e){}}});Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(e){this.innerHTML=e}})})()}});(function(e,r){typeof exports==="object"&&typeof module!=="undefined"?r(exports,require("windows-locale"),require("iso639-codes"),require("d3-selection"),require("d3-transition"),require("d3-array"),require("d3-collection")):typeof define==="function"&&define.amd?define("d3plus-common",["exports","windows-locale","iso639-codes","d3-selection","d3-transition","d3-array","d3-collection"],r):(e=e||self,r(e.d3plus={},e.lcid,e.iso,e.d3Selection,e.d3Transition,e.d3Array,e.d3Collection))})(this,function(e,i,a,f,c,u,r){"use strict";i=i&&Object.prototype.hasOwnProperty.call(i,"default")?i["default"]:i;a=a&&Object.prototype.hasOwnProperty.call(a,"default")?a["default"]:a;function t(r,t){if(t===void 0)return function(e){return e[r]};return function(e){return e[r]===void 0?t:e[r]}}function l(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){l=function(e){return typeof e}}else{l=function(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return l(e)}function o(e,r){if(!(e instanceof r)){throw new TypeError("Cannot call a class as a function")}}function n(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function s(e,r,t){if(r)n(e.prototype,r);if(t)n(e,t);return e}function v(e,r,t){if(r in e){Object.defineProperty(e,r,{value:t,enumerable:true,configurable:true,writable:true})}else{e[r]=t}return e}function d(e){return e&&l(e)==="object"&&(typeof window==="undefined"||e!==window&&e!==window.document&&!(e instanceof Element))&&!Array.isArray(e)?true:false}function p(e){if(typeof window==="undefined")return true;else return e!==window&&e!==document}function h(){var n=arguments;var i=arguments.length<=0?undefined:arguments[0];var e=function e(r){var t=r<0||n.length<=r?undefined:n[r];Object.keys(t).forEach(function(e){var r=t[e];if(d(r)&&p(r)){if(i.hasOwnProperty(e)&&d(i[e]))i[e]=h({},i[e],r);else i[e]=h({},r)}else if(Array.isArray(r))i[e]=r.slice();else i[e]=r})};for(var r=1;r<arguments.length;r++){e(r)}return i}function y(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};for(var t in r){if({}.hasOwnProperty.call(r,t))e.attr(t,r[t])}}var g=[];var b=Object.keys(a);Object.keys(i).map(function(e){var r=i[e];var t=b.find(function(e){return e.toLowerCase()===r.language.toLowerCase()});if(r.location&&t){var n;g.push((n={},v(n,"name",r.language),v(n,"location",r.location),v(n,"tag",r.tag),v(n,"lcid",r.id),v(n,"iso639-2",a[t]["iso639-2"]),v(n,"iso639-1",a[t]["iso639-1"]),n))}});var m={ar:"ar-SA",ca:"ca-ES",da:"da-DK",en:"en-US",ko:"ko-KR",pa:"pa-IN",pt:"pt-BR",sv:"sv-SE"};function w(r){if(typeof r!=="string"||r.length===5)return r;if(m[r])return m[r];var e=g.filter(function(e){return e["iso639-1"]===r});if(!e.length)return r;else if(e.length===1)return e[0].tag;else if(e.find(function(e){return e.tag==="".concat(r,"-").concat(r.toUpperCase())}))return"".concat(r,"-").concat(r.toUpperCase());else return e[0].tag}function O(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function S(){return"".concat(O()).concat(O(),"-").concat(O(),"-").concat(O(),"-").concat(O(),"-").concat(O()).concat(O()).concat(O())}var j="D3PLUS-COMMON-RESET";var _={and:"y",Back:"AtrÃ¡s","Click to Expand":"Clic para Ampliar","Click to Hide":"Clic para Ocultar","Click to Highlight":"Clic para Resaltar","Click to Reset":"Clic para Restablecer",Download:"Descargar","Loading Visualization":"Cargando VisualizaciÃ³n","No Data Available":"Datos No Disponibles","Powered by D3plus":"Funciona con D3plus",Share:"Porcentaje","Shift+Click to Hide":"MayÃºs+Clic para Ocultar",Total:"Total",Values:"Valores"};var C={"es-ES":_};function x(e,r){if(d(e)){for(var t in e){if({}.hasOwnProperty.call(e,t)&&!t.startsWith("_")){var n=r&&d(r)?r[t]:undefined;if(e[t]===j){if(n)e[t]=n;else delete e[t]}else if(d(e[t])){x(e[t],n)}}}}}function E(e){var r=[];do{r=r.concat(Object.getOwnPropertyNames(e));e=Object.getPrototypeOf(e)}while(e&&e!==Object.prototype);return r.filter(function(e){return e.indexOf("_")!==0&&!["config","constructor","parent","render"].includes(e)})}var P=function(){function e(){var n=this;o(this,e);this._locale="en-US";this._on={};this._parent={};this._translate=function(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:n._locale;var t=C[r];return t&&t[e]?t[e]:e};this._uuid=S()}s(e,[{key:"config",value:function t(e){var n=this;if(!this._configDefault){var t={};E(this.__proto__).forEach(function(e){var r=n[e]();if(r!==n)t[e]=d(r)?h({},r):r});this._configDefault=t}if(arguments.length){for(var r in e){if({}.hasOwnProperty.call(e,r)&&r in this){var i=e[r];if(i===j){if(r==="on")this._on=this._configDefault[r];else this[r](this._configDefault[r])}else{x(i,this._configDefault[r]);this[r](i)}}}return this}else{var a={};E(this.__proto__).forEach(function(e){a[e]=n[e]()});return a}}},{key:"locale",value:function e(r){return arguments.length?(this._locale=w(r),this):this._locale}},{key:"on",value:function e(r,t){return arguments.length===2?(this._on[r]=t,this):arguments.length?typeof r==="string"?this._on[r]:(this._on=Object.assign({},this._on,r),this):this._on}},{key:"parent",value:function e(r){return arguments.length?(this._parent=r,this):this._parent}},{key:"translate",value:function e(r){return arguments.length?(this._translate=r,this):this._translate}},{key:"shapeConfig",value:function e(r){return arguments.length?(this._shapeConfig=h(this._shapeConfig,r),this):this._shapeConfig}}]);return e}();function k(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];if(!e||!(e instanceof Array)||!e.length)return undefined;return e.reduce(function(e,r){return Math.abs(r-t)<Math.abs(e-t)?r:e})}function A(){var a=this;var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._shapeConfig;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"shape";var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var t={duration:this._duration,on:{}};var o=function e(i){return function(e,r,t){var n;while(e.__d3plus__){if(n)e.__d3plusParent__=n;n=e;r=e.i;e=e.data||e.feature}return i.bind(a)(e,r,t||n)}};var u=function e(r,t){for(var n in t){if({}.hasOwnProperty.call(t,n)&&!n.includes(".")||n.includes(".".concat(i))){r.on[n]=o(t[n])}}};var f=function r(e){return e.map(function(e){if(e instanceof Array)return r(e);else if(l(e)==="object")return n({},e);else if(typeof e==="function")return o(e);else return e})};var n=function e(r,t){for(var n in t){if({}.hasOwnProperty.call(t,n)){if(n==="on")u(r,t[n]);else if(typeof t[n]==="function"){r[n]=o(t[n])}else if(t[n]instanceof Array){r[n]=f(t[n])}else if(l(t[n])==="object"){r[n]={on:{}};e(r[n],t[n])}else r[n]=t[n]}}};n(t,e);if(this._on)u(t,this._on);if(r&&e[r]){n(t,e[r]);if(e[r].on)u(t,e[r].on)}return t}function T(r){return function e(){return r}}function M(e,r){r=Object.assign({},{condition:true,enter:{},exit:{},parent:f.select("body"),transition:c.transition().duration(0),update:{}},r);var t=/\.([^#]+)/g.exec(e),n=/#([^\.]+)/g.exec(e),i=/^([^.^#]+)/g.exec(e)[1];var a=r.parent.selectAll(e.includes(":")?e.split(":")[1]:e).data(r.condition?[null]:[]);var o=a.enter().append(i).call(y,r.enter);if(n)o.attr("id",n[1]);if(t)o.attr("class",t[1]);a.exit().transition(r.transition).call(y,r.exit).remove();var u=o.merge(a);u.transition(r.transition).call(y,r.update);return u}function D(e){return e.filter(function(e,r,t){return t.indexOf(e)===r})}function N(i){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var e=D(u.merge(i.map(function(e){return r.keys(e)}))),o={};e.forEach(function(r){var e=i.map(function(e){return e[r]});var t;if(a[r])t=a[r](e);else{var n=e.map(function(e){return e||e===false?e.constructor:e}).filter(function(e){return e!==void 0});if(!n.length)t=undefined;else if(n.indexOf(Array)>=0){t=u.merge(e.map(function(e){return e instanceof Array?e:[e]}));t=D(t);if(t.length===1)t=t[0]}else if(n.indexOf(String)>=0){t=D(e);if(t.length===1)t=t[0]}else if(n.indexOf(Number)>=0)t=u.sum(e);else if(n.indexOf(Object)>=0){t=D(e.filter(function(e){return e}));if(t.length===1)t=t[0];else t=N(t)}else{t=D(e.filter(function(e){return e!==void 0}));if(t.length===1)t=t[0]}}o[r]=t});return o}function L(e){var i;if(typeof e==="number")i=[e];else i=e.split(/\s+/);if(i.length===1)i=[i[0],i[0],i[0],i[0]];else if(i.length===2)i=i.concat(i);else if(i.length===3)i.push(i[1]);return["top","right","bottom","left"].reduce(function(e,r,t){var n=parseFloat(i[t]);e[r]=n||0;return e},{})}function R(){if("-webkit-transform"in document.body.style)return"-webkit-";else if("-moz-transform"in document.body.style)return"-moz-";else if("-ms-transform"in document.body.style)return"-ms-";else if("-o-transform"in document.body.style)return"-o-";else return""}function F(e){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};for(var t in r){if({}.hasOwnProperty.call(r,t))e.style(t,r[t])}}e.BaseClass=P;e.RESET=j;e.accessor=t;e.assign=h;e.attrize=y;e.closest=k;e.configPrep=A;e.constant=T;e.elem=M;e.findLocale=w;e.isObject=d;e.merge=N;e.parseSides=L;e.prefix=R;e.stylize=F;e.unique=D;e.uuid=S;Object.defineProperty(e,"__esModule",{value:true})});