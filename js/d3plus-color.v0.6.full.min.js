/*
  d3plus-color v0.6.4
  Color functions that extent the ability of d3-color.
  Copyright (c) 2019 D3plus - https://d3plus.org
  @license MIT
*/
if(typeof Object.assign!=="function"){Object.defineProperty(Object,"assign",{value:function t(e){"use strict";if(e===null){throw new TypeError("Cannot convert undefined or null to object")}var n=Object(e);for(var r=1;r<arguments.length;r++){var i=arguments[r];if(i!==null){for(var u in i){if(Object.prototype.hasOwnProperty.call(i,u)){n[u]=i[u]}}}}return n},writable:true,configurable:true})}if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function t(e,n){var r=Object(this);var i=r.length>>>0;if(i===0)return false;var u=n|0;var o=Math.max(u>=0?u:i-Math.abs(u),0);function a(t,e){return t===e||typeof t==="number"&&typeof e==="number"&&isNaN(t)&&isNaN(e)}while(o<i){if(a(r[o],e)){return true}o++}return false}})}if(!String.prototype.includes){Object.defineProperty(String.prototype,"includes",{value:function(t,e){if(typeof e!=="number"){e=0}if(e+t.length>this.length){return false}else{return this.indexOf(t,e)!==-1}}})}if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{value:function(t){if(this==null){throw new TypeError('"this" is null or not defined')}var e=Object(this);var n=e.length>>>0;if(typeof t!=="function"){throw new TypeError("predicate must be a function")}var r=arguments[1];var i=0;while(i<n){var u=e[i];if(t.call(r,u,i,e)){return u}i++}return undefined},configurable:true,writable:true})}if(!String.prototype.startsWith){Object.defineProperty(String.prototype,"startsWith",{value:function(t,e){e=!e||e<0?0:+e;return this.substring(e,e+t.length)===t}})}if(typeof window!=="undefined"){(function(){var r=function(t,e){var n=t.nodeType;if(n===3){e.push(t.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"))}else if(n===1){e.push("<",t.tagName);if(t.hasAttributes()){[].forEach.call(t.attributes,function(t){e.push(" ",t.item.name,"='",t.item.value,"'")})}if(t.hasChildNodes()){e.push(">");[].forEach.call(t.childNodes,function(t){r(t,e)});e.push("</",t.tagName,">")}else{e.push("/>")}}else if(n==8){e.push("\x3c!--",t.nodeValue,"--\x3e")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){var t=[];var e=this.firstChild;while(e){r(e,t);e=e.nextSibling}return t.join("")},set:function(t){while(this.firstChild){this.removeChild(this.firstChild)}try{var e=new DOMParser;e.async=false;var n="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+t+"</svg>";var r=e.parseFromString(n,"text/xml").documentElement;var i=r.firstChild;while(i){this.appendChild(this.ownerDocument.importNode(i,true));i=i.nextSibling}}catch(t){}}});Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}})})()}(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?e(exports):typeof define==="function"&&define.amd?define("d3plus-color",["exports"],e):e(t.d3plus={})})(this,function(t){function e(t,e,n){t.prototype=e.prototype=n;n.constructor=t}function n(t,e){var n=Object.create(t.prototype);for(var r in e){n[r]=e[r]}return n}function s(){}var r=.7;var i=1/r;var u="\\s*([+-]?\\d+)\\s*",o="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,f=new RegExp("^rgb\\("+[u,u,u]+"\\)$"),h=new RegExp("^rgb\\("+[a,a,a]+"\\)$"),g=new RegExp("^rgba\\("+[u,u,u,o]+"\\)$"),v=new RegExp("^rgba\\("+[a,a,a,o]+"\\)$"),d=new RegExp("^hsl\\("+[o,a,a]+"\\)$"),p=new RegExp("^hsla\\("+[o,a,a,o]+"\\)$");var y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};e(s,w,{displayable:function(){return this.rgb().displayable()},hex:function(){return this.rgb().hex()},toString:function(){return this.rgb()+""}});function w(t){var e;t=(t+"").trim().toLowerCase();return(e=c.exec(t))?(e=parseInt(e[1],16),new x(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1)):(e=l.exec(t))?m(parseInt(e[1],16)):(e=f.exec(t))?new x(e[1],e[2],e[3],1):(e=h.exec(t))?new x(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=g.exec(t))?b(e[1],e[2],e[3],e[4]):(e=v.exec(t))?b(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=d.exec(t))?U(e[1],e[2]/100,e[3]/100,1):(e=p.exec(t))?U(e[1],e[2]/100,e[3]/100,e[4]):y.hasOwnProperty(t)?m(y[t]):t==="transparent"?new x(NaN,NaN,NaN,0):null}function m(t){return new x(t>>16&255,t>>8&255,t&255,1)}function b(t,e,n,r){if(r<=0){t=e=n=NaN}return new x(t,e,n,r)}function M(t){if(!(t instanceof s)){t=w(t)}if(!t){return new x}t=t.rgb();return new x(t.r,t.g,t.b,t.opacity)}function T(t,e,n,r){return arguments.length===1?M(t):new x(t,e,n,r==null?1:r)}function x(t,e,n,r){this.r=+t;this.g=+e;this.b=+n;this.opacity=+r}e(x,T,n(s,{brighter:function(t){t=t==null?i:Math.pow(i,t);return new x(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){t=t==null?r:Math.pow(r,t);return new x(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&(0<=this.g&&this.g<=255)&&(0<=this.b&&this.b<=255)&&(0<=this.opacity&&this.opacity<=1)},hex:function(){return"#"+C(this.r)+C(this.g)+C(this.b)},toString:function(){var t=this.opacity;t=isNaN(t)?1:Math.max(0,Math.min(1,t));return(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}}));function C(t){t=Math.max(0,Math.min(255,Math.round(t)||0));return(t<16?"0":"")+t.toString(16)}function U(t,e,n,r){if(r<=0){t=e=n=NaN}else if(n<=0||n>=1){t=e=NaN}else if(e<=0){t=NaN}return new S(t,e,n,r)}function D(t){if(t instanceof S){return new S(t.h,t.s,t.l,t.opacity)}if(!(t instanceof s)){t=w(t)}if(!t){return new S}if(t instanceof S){return t}t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),u=Math.max(e,n,r),o=NaN,a=u-i,c=(u+i)/2;if(a){if(e===u){o=(n-r)/a+(n<r)*6}else if(n===u){o=(r-e)/a+2}else{o=(e-n)/a+4}a/=c<.5?u+i:2-u-i;o*=60}else{a=c>0&&c<1?0:o}return new S(o,a,c,t.opacity)}function k(t,e,n,r){return arguments.length===1?D(t):new S(t,e,n,r==null?1:r)}function S(t,e,n,r){this.h=+t;this.s=+e;this.l=+n;this.opacity=+r}e(S,k,n(s,{brighter:function(t){t=t==null?i:Math.pow(i,t);return new S(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?r:Math.pow(r,t);return new S(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new x(N(t>=240?t-240:t+120,i,r),N(t,i,r),N(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)}}));function N(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}var F=Math.PI/180;var Y=180/Math.PI;var H=18,A=.96422,j=1,O=.82521,L=4/29,E=6/29,P=3*E*E,$=E*E*E;function z(t){if(t instanceof V){return new V(t.l,t.a,t.b,t.opacity)}if(t instanceof J){if(isNaN(t.h)){return new V(t.l,0,0,t.opacity)}var e=t.h*F;return new V(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}if(!(t instanceof x)){t=M(t)}var n=Q(t.r),r=Q(t.g),i=Q(t.b),u=Z((.2225045*n+.7168786*r+.0606169*i)/j),o,a;if(n===r&&r===i){o=a=u}else{o=Z((.4360747*n+.3850649*r+.1430804*i)/A);a=Z((.0139322*n+.0971045*r+.7141733*i)/O)}return new V(116*u-16,500*(o-u),200*(u-a),t.opacity)}function I(t,e,n,r){return arguments.length===1?z(t):new V(t,e,n,r==null?1:r)}function V(t,e,n,r){this.l=+t;this.a=+e;this.b=+n;this.opacity=+r}e(V,I,n(s,{brighter:function(t){return new V(this.l+H*(t==null?1:t),this.a,this.b,this.opacity)},darker:function(t){return new V(this.l-H*(t==null?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;e=A*W(e);t=j*W(t);n=O*W(n);return new x(q(3.1338561*e-1.6168667*t-.4906146*n),q(-.9787684*e+1.9161415*t+.033454*n),q(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Z(t){return t>$?Math.pow(t,1/3):t/P+L}function W(t){return t>E?t*t*t:P*(t-L)}function q(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Q(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function R(t){if(t instanceof J){return new J(t.h,t.c,t.l,t.opacity)}if(!(t instanceof V)){t=z(t)}if(t.a===0&&t.b===0){return new J(NaN,0,t.l,t.opacity)}var e=Math.atan2(t.b,t.a)*Y;return new J(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function X(t,e,n,r){return arguments.length===1?R(t):new J(t,e,n,r==null?1:r)}function J(t,e,n,r){this.h=+t;this.c=+e;this.l=+n;this.opacity=+r}e(J,X,n(s,{brighter:function(t){return new J(this.h,this.c,this.l+H*(t==null?1:t),this.opacity)},darker:function(t){return new J(this.h,this.c,this.l-H*(t==null?1:t),this.opacity)},rgb:function(){return z(this).rgb()}}));var G=-.14861,B=+1.78277,_=-.29227,K=-.90649,tt=+1.97294,et=tt*K,nt=tt*B,rt=B*_-K*G;function it(t){if(t instanceof ot){return new ot(t.h,t.s,t.l,t.opacity)}if(!(t instanceof x)){t=M(t)}var e=t.r/255,n=t.g/255,r=t.b/255,i=(rt*r+et*e-nt*n)/(rt+et-nt),u=r-i,o=(tt*(n-i)-_*u)/K,a=Math.sqrt(o*o+u*u)/(tt*i*(1-i)),c=a?Math.atan2(o,u)*Y-120:NaN;return new ot(c<0?c+360:c,a,i,t.opacity)}function ut(t,e,n,r){return arguments.length===1?it(t):new ot(t,e,n,r==null?1:r)}function ot(t,e,n,r){this.h=+t;this.s=+e;this.l=+n;this.opacity=+r}e(ot,ut,n(s,{brighter:function(t){t=t==null?i:Math.pow(i,t);return new ot(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?r:Math.pow(r,t);return new ot(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*F,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new x(255*(e+n*(G*r+B*i)),255*(e+n*(_*r+K*i)),255*(e+n*(tt*r)),this.opacity)}}));function at(t,e,n,r){if(n===void 0)n=1;if(r===void 0)r=1;t=k(t);e=k(e);var i=Math.abs(e.h*r-t.h*n);if(i>180){i-=360}var u=(Math.min(t.h,e.h)+i/2)%360;var o=t.l+(e.l*r-t.l*n)/2,a=t.s+(e.s*r-t.s*n)/2;if(u<0){u+=360}return k("hsl("+u+","+a*100+"%,"+o*100+"%)").toString()}function ct(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function st(u){if(u.length===1){u=lt(u)}return{left:function(t,e,n,r){if(n==null){n=0}if(r==null){r=t.length}while(n<r){var i=n+r>>>1;if(u(t[i],e)<0){n=i+1}else{r=i}}return n},right:function(t,e,n,r){if(n==null){n=0}if(r==null){r=t.length}while(n<r){var i=n+r>>>1;if(u(t[i],e)>0){r=i}else{n=i+1}}return n}}}function lt(n){return function(t,e){return ct(n(t),e)}}var ft=st(ct);function ht(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}var gt="$";function vt(){}vt.prototype=dt.prototype={constructor:vt,has:function(t){return gt+t in this},get:function(t){return this[gt+t]},set:function(t,e){this[gt+t]=e;return this},remove:function(t){var e=gt+t;return e in this&&delete this[e]},clear:function(){for(var t in this){if(t[0]===gt){delete this[t]}}},keys:function(){var t=[];for(var e in this){if(e[0]===gt){t.push(e.slice(1))}}return t},values:function(){var t=[];for(var e in this){if(e[0]===gt){t.push(this[e])}}return t},entries:function(){var t=[];for(var e in this){if(e[0]===gt){t.push({key:e.slice(1),value:this[e]})}}return t},size:function(){var t=0;for(var e in this){if(e[0]===gt){++t}}return t},empty:function(){for(var t in this){if(t[0]===gt){return false}}return true},each:function(t){for(var e in this){if(e[0]===gt){t(this[e],e.slice(1),this)}}}};function dt(t,e){var n=new vt;if(t instanceof vt){t.each(function(t,e){n.set(e,t)})}else if(Array.isArray(t)){var r=-1,i=t.length,u;if(e==null){while(++r<i){n.set(r,t[r])}}else{while(++r<i){n.set(e(u=t[r],r,t),u)}}}else if(t){for(var o in t){n.set(o,t[o])}}return n}function pt(){}var yt=dt.prototype;pt.prototype=wt.prototype={constructor:pt,has:yt.has,add:function(t){t+="";this[gt+t]=t;return this},remove:yt.remove,clear:yt.clear,values:yt.keys,size:yt.size,empty:yt.empty,each:yt.each};function wt(t,e){var n=new pt;if(t instanceof pt){t.each(function(t){n.add(t)})}else if(t){var r=-1,i=t.length;if(e==null){while(++r<i){n.add(t[r])}}else{while(++r<i){n.add(e(t[r],r,t))}}}return n}var mt=Array.prototype;var bt=mt.slice;var Mt={name:"implicit"};function Tt(){var u=dt(),o=[],r=[],i=Mt;function a(t){var e=t+"",n=u.get(e);if(!n){if(i!==Mt){return i}u.set(e,n=o.push(t))}return r[(n-1)%r.length]}a.domain=function(t){if(!arguments.length){return o.slice()}o=[],u=dt();var e=-1,n=t.length,r,i;while(++e<n){if(!u.has(i=(r=t[e])+"")){u.set(i,o.push(r))}}return a};a.range=function(t){return arguments.length?(r=bt.call(t),a):r.slice()};a.unknown=function(t){return arguments.length?(i=t,a):i};a.copy=function(){return Tt(o,r).unknown(i)};ht.apply(a,arguments);return a}var xt=180/Math.PI;var Ct=Math.SQRT2;function Ut(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0){return null}var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Dt(t){return t=Ut(Math.abs(t)),t?t[1]:NaN}function kt(a,c){return function(t,e){var n=t.length,r=[],i=0,u=a[0],o=0;while(n>0&&u>0){if(o+u+1>e){u=Math.max(1,e-o)}r.push(t.substring(n-=u,n+u));if((o+=u+1)>e){break}u=a[i=(i+1)%a.length]}return r.reverse().join(c)}}function St(e){return function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}}var Nt=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ft(t){return new Yt(t)}Ft.prototype=Yt.prototype;function Yt(t){if(!(e=Nt.exec(t))){throw new Error("invalid format: "+t)}var e;this.fill=e[1]||" ";this.align=e[2]||">";this.sign=e[3]||"-";this.symbol=e[4]||"";this.zero=!!e[5];this.width=e[6]&&+e[6];this.comma=!!e[7];this.precision=e[8]&&+e[8].slice(1);this.trim=!!e[9];this.type=e[10]||""}Yt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ht(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n){switch(t[n]){case".":r=i=n;break;case"0":if(r===0){r=n}i=n;break;default:if(r>0){if(!+t[n]){break t}r=0}break}}return r>0?t.slice(0,r)+t.slice(i+1):t}var At;function jt(t,e){var n=Ut(t,e);if(!n){return t+""}var r=n[0],i=n[1],u=i-(At=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return u===o?r:u>o?r+new Array(u-o+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+Ut(t,Math.max(0,e+u-1))[0]}function Ot(t,e){var n=Ut(t,e);if(!n){return t+""}var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Lt={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Ot(t*100,e)},r:Ot,s:jt,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Et(t){return t}var Pt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $t(t){var T=t.grouping&&t.thousands?kt(t.grouping,t.thousands):Et,r=t.currency,x=t.decimal,C=t.numerals?St(t.numerals):Et,i=t.percent||"%";function o(t){t=Ft(t);var s=t.fill,l=t.align,f=t.sign,e=t.symbol,h=t.zero,g=t.width,v=t.comma,d=t.precision,p=t.trim,y=t.type;if(y==="n"){v=true,y="g"}else if(!Lt[y]){d==null&&(d=12),p=true,y="g"}if(h||s==="0"&&l==="="){h=true,s="0",l="="}var w=e==="$"?r[0]:e==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",m=e==="$"?r[1]:/[%p]/.test(y)?i:"";var b=Lt[y],M=/[defgprs%]/.test(y);d=d==null?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,d)):Math.max(0,Math.min(20,d));function n(t){var e=w,n=m,r,i,u;if(y==="c"){n=b(t)+n;t=""}else{t=+t;var o=t<0;t=b(Math.abs(t),d);if(p){t=Ht(t)}if(o&&+t===0){o=false}e=(o?f==="("?f:"-":f==="-"||f==="("?"":f)+e;n=(y==="s"?Pt[8+At/3]:"")+n+(o&&f==="("?")":"");if(M){r=-1,i=t.length;while(++r<i){if(u=t.charCodeAt(r),48>u||u>57){n=(u===46?x+t.slice(r+1):t.slice(r))+n;t=t.slice(0,r);break}}}}if(v&&!h){t=T(t,Infinity)}var a=e.length+t.length+n.length,c=a<g?new Array(g-a+1).join(s):"";if(v&&h){t=T(c+t,c.length?g-n.length:Infinity),c=""}switch(l){case"<":t=e+t+n+c;break;case"=":t=e+c+t+n;break;case"^":t=c.slice(0,a=c.length>>1)+e+t+n+c.slice(a);break;default:t=c+e+t+n;break}return C(t)}n.toString=function(){return t+""};return n}function e(t,e){var n=o((t=Ft(t),t.type="f",t)),r=Math.max(-8,Math.min(8,Math.floor(Dt(e)/3)))*3,i=Math.pow(10,-r),u=Pt[8+r/3];return function(t){return n(i*t)+u}}return{format:o,formatPrefix:e}}var zt;var It;var Vt;Zt({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function Zt(t){zt=$t(t);It=zt.format;Vt=zt.formatPrefix;return zt}var Wt=new Date,qt=new Date;function Qt(u,o,n,r){function a(t){return u(t=new Date(+t)),t}a.floor=a;a.ceil=function(t){return u(t=new Date(t-1)),o(t,1),u(t),t};a.round=function(t){var e=a(t),n=a.ceil(t);return t-e<n-t?e:n};a.offset=function(t,e){return o(t=new Date(+t),e==null?1:Math.floor(e)),t};a.range=function(t,e,n){var r=[],i;t=a.ceil(t);n=n==null?1:Math.floor(n);if(!(t<e)||!(n>0)){return r}do{r.push(i=new Date(+t)),o(t,n),u(t)}while(i<t&&t<e);return r};a.filter=function(n){return Qt(function(t){if(t>=t){while(u(t),!n(t)){t.setTime(t-1)}}},function(t,e){if(t>=t){if(e<0){while(++e<=0){while(o(t,-1),!n(t)){}}}else{while(--e>=0){while(o(t,+1),!n(t)){}}}}})};if(n){a.count=function(t,e){Wt.setTime(+t),qt.setTime(+e);u(Wt),u(qt);return Math.floor(n(Wt,qt))};a.every=function(e){e=Math.floor(e);return!isFinite(e)||!(e>0)?null:!(e>1)?a:a.filter(r?function(t){return r(t)%e===0}:function(t){return a.count(0,t)%e===0})}}return a}var Rt=Qt(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Rt.every=function(n){n=Math.floor(n);if(!isFinite(n)||!(n>0)){return null}if(!(n>1)){return Rt}return Qt(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n})};var Xt=Rt.range;var Jt=1e3;var Gt=6e4;var Bt=36e5;var _t=864e5;var Kt=6048e5;var te=Qt(function(t){t.setTime(Math.floor(t/Jt)*Jt)},function(t,e){t.setTime(+t+e*Jt)},function(t,e){return(e-t)/Jt},function(t){return t.getUTCSeconds()});var ee=te.range;var ne=Qt(function(t){t.setTime(Math.floor(t/Gt)*Gt)},function(t,e){t.setTime(+t+e*Gt)},function(t,e){return(e-t)/Gt},function(t){return t.getMinutes()});var re=ne.range;var ie=Qt(function(t){var e=t.getTimezoneOffset()*Gt%Bt;if(e<0){e+=Bt}t.setTime(Math.floor((+t-e)/Bt)*Bt+e)},function(t,e){t.setTime(+t+e*Bt)},function(t,e){return(e-t)/Bt},function(t){return t.getHours()});var ue=ie.range;var oe=Qt(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gt)/_t},function(t){return t.getDate()-1});var ae=oe.range;function ce(e){return Qt(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7);t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e*7)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Gt)/Kt})}var se=ce(0);var le=ce(1);var fe=ce(2);var he=ce(3);var ge=ce(4);var ve=ce(5);var de=ce(6);var pe=se.range;var ye=Qt(function(t){t.setDate(1);t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});var we=ye.range;var me=Qt(function(t){t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});me.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:Qt(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n);t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)})};var be=me.range;var Me=Qt(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Gt)},function(t,e){return(e-t)/Gt},function(t){return t.getUTCMinutes()});var Te=Me.range;var xe=Qt(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Bt)},function(t,e){return(e-t)/Bt},function(t){return t.getUTCHours()});var Ce=xe.range;var Ue=Qt(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/_t},function(t){return t.getUTCDate()-1});var De=Ue.range;function ke(e){return Qt(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7);t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e*7)},function(t,e){return(e-t)/Kt})}var Se=ke(0);var Ne=ke(1);var Fe=ke(2);var Ye=ke(3);var He=ke(4);var Ae=ke(5);var je=ke(6);var Oe=Se.range;var Le=Qt(function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});var Ee=Le.range;var Pe=Qt(function(t){t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Pe.every=function(n){return!isFinite(n=Math.floor(n))||!(n>0)?null:Qt(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n);t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)})};var $e=Pe.range;function ze(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);e.setFullYear(t.y);return e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ie(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));e.setUTCFullYear(t.y);return e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ve(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Ze(t){var r=t.dateTime,i=t.date,u=t.time,e=t.periods,n=t.days,o=t.shortDays,a=t.months,c=t.shortMonths;var s=Ge(e),l=Be(e),f=Ge(n),h=Be(n),g=Ge(o),v=Be(o),d=Ge(a),p=Be(a),y=Ge(c),w=Be(c);var m={a:A,A:j,b:O,B:L,c:null,d:wn,e:wn,f:xn,H:mn,I:bn,j:Mn,L:Tn,m:Cn,M:Un,p:E,Q:Kn,s:tr,S:Dn,u:kn,U:Sn,V:Nn,w:Fn,W:Yn,x:null,X:null,y:Hn,Y:An,Z:jn,"%":_n};var b={a:P,A:$,b:z,B:I,c:null,d:On,e:On,f:zn,H:Ln,I:En,j:Pn,L:$n,m:In,M:Vn,p:V,Q:Kn,s:tr,S:Zn,u:Wn,U:qn,V:Qn,w:Rn,W:Xn,x:null,X:null,y:Jn,Y:Gn,Z:Bn,"%":_n};var M={a:D,A:k,b:S,B:N,c:F,d:cn,e:cn,f:vn,H:ln,I:ln,j:sn,L:gn,m:an,M:fn,p:U,Q:pn,s:yn,S:hn,u:Ke,U:tn,V:en,w:_e,W:nn,x:Y,X:H,y:un,Y:rn,Z:on,"%":dn};m.x=T(i,m);m.X=T(u,m);m.c=T(r,m);b.x=T(i,b);b.X=T(u,b);b.c=T(r,b);function T(c,s){return function(t){var e=[],n=-1,r=0,i=c.length,u,o,a;if(!(t instanceof Date)){t=new Date(+t)}while(++n<i){if(c.charCodeAt(n)===37){e.push(c.slice(r,n));if((o=We[u=c.charAt(++n)])!=null){u=c.charAt(++n)}else{o=u==="e"?" ":"0"}if(a=s[u]){u=a(t,o)}e.push(u);r=n+1}}e.push(c.slice(r,n));return e.join("")}}function x(u,o){return function(t){var e=Ve(1900),n=C(e,u,t+="",0),r,i;if(n!=t.length){return null}if("Q"in e){return new Date(e.Q)}if("p"in e){e.H=e.H%12+e.p*12}if("V"in e){if(e.V<1||e.V>53){return null}if(!("w"in e)){e.w=1}if("Z"in e){r=Ie(Ve(e.y)),i=r.getUTCDay();r=i>4||i===0?Ne.ceil(r):Ne(r);r=Ue.offset(r,(e.V-1)*7);e.y=r.getUTCFullYear();e.m=r.getUTCMonth();e.d=r.getUTCDate()+(e.w+6)%7}else{r=o(Ve(e.y)),i=r.getDay();r=i>4||i===0?le.ceil(r):le(r);r=oe.offset(r,(e.V-1)*7);e.y=r.getFullYear();e.m=r.getMonth();e.d=r.getDate()+(e.w+6)%7}}else if("W"in e||"U"in e){if(!("w"in e)){e.w="u"in e?e.u%7:"W"in e?1:0}i="Z"in e?Ie(Ve(e.y)).getUTCDay():o(Ve(e.y)).getDay();e.m=0;e.d="W"in e?(e.w+6)%7+e.W*7-(i+5)%7:e.w+e.U*7-(i+6)%7}if("Z"in e){e.H+=e.Z/100|0;e.M+=e.Z%100;return Ie(e)}return o(e)}}function C(t,e,n,r){var i=0,u=e.length,o=n.length,a,c;while(i<u){if(r>=o){return-1}a=e.charCodeAt(i++);if(a===37){a=e.charAt(i++);c=M[a in We?e.charAt(i++):a];if(!c||(r=c(t,n,r))<0){return-1}}else if(a!=n.charCodeAt(r++)){return-1}}return r}function U(t,e,n){var r=s.exec(e.slice(n));return r?(t.p=l[r[0].toLowerCase()],n+r[0].length):-1}function D(t,e,n){var r=g.exec(e.slice(n));return r?(t.w=v[r[0].toLowerCase()],n+r[0].length):-1}function k(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1}function S(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=w[r[0].toLowerCase()],n+r[0].length):-1}function N(t,e,n){var r=d.exec(e.slice(n));return r?(t.m=p[r[0].toLowerCase()],n+r[0].length):-1}function F(t,e,n){return C(t,r,e,n)}function Y(t,e,n){return C(t,i,e,n)}function H(t,e,n){return C(t,u,e,n)}function A(t){return o[t.getDay()]}function j(t){return n[t.getDay()]}function O(t){return c[t.getMonth()]}function L(t){return a[t.getMonth()]}function E(t){return e[+(t.getHours()>=12)]}function P(t){return o[t.getUTCDay()]}function $(t){return n[t.getUTCDay()]}function z(t){return c[t.getUTCMonth()]}function I(t){return a[t.getUTCMonth()]}function V(t){return e[+(t.getUTCHours()>=12)]}return{format:function(t){var e=T(t+="",m);e.toString=function(){return t};return e},parse:function(t){var e=x(t+="",ze);e.toString=function(){return t};return e},utcFormat:function(t){var e=T(t+="",b);e.toString=function(){return t};return e},utcParse:function(t){var e=x(t,Ie);e.toString=function(){return t};return e}}}var We={"-":"",_:" ",0:"0"},qe=/^\s*\d+/,Qe=/^%/,Re=/[\\^$*+?|[\]().{}]/g;function Xe(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",u=i.length;return r+(u<n?new Array(n-u+1).join(e)+i:i)}function Je(t){return t.replace(Re,"\\$&")}function Ge(t){return new RegExp("^(?:"+t.map(Je).join("|")+")","i")}function Be(t){var e={},n=-1,r=t.length;while(++n<r){e[t[n].toLowerCase()]=n}return e}function _e(t,e,n){var r=qe.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ke(t,e,n){var r=qe.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function tn(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function en(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function nn(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function rn(t,e,n){var r=qe.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function un(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function on(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function an(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function cn(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function sn(t,e,n){var r=qe.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function ln(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function fn(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function hn(t,e,n){var r=qe.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function gn(t,e,n){var r=qe.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function vn(t,e,n){var r=qe.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function dn(t,e,n){var r=Qe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function pn(t,e,n){var r=qe.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function yn(t,e,n){var r=qe.exec(e.slice(n));return r?(t.Q=+r[0]*1e3,n+r[0].length):-1}function wn(t,e){return Xe(t.getDate(),e,2)}function mn(t,e){return Xe(t.getHours(),e,2)}function bn(t,e){return Xe(t.getHours()%12||12,e,2)}function Mn(t,e){return Xe(1+oe.count(me(t),t),e,3)}function Tn(t,e){return Xe(t.getMilliseconds(),e,3)}function xn(t,e){return Tn(t,e)+"000"}function Cn(t,e){return Xe(t.getMonth()+1,e,2)}function Un(t,e){return Xe(t.getMinutes(),e,2)}function Dn(t,e){return Xe(t.getSeconds(),e,2)}function kn(t){var e=t.getDay();return e===0?7:e}function Sn(t,e){return Xe(se.count(me(t),t),e,2)}function Nn(t,e){var n=t.getDay();t=n>=4||n===0?ge(t):ge.ceil(t);return Xe(ge.count(me(t),t)+(me(t).getDay()===4),e,2)}function Fn(t){return t.getDay()}function Yn(t,e){return Xe(le.count(me(t),t),e,2)}function Hn(t,e){return Xe(t.getFullYear()%100,e,2)}function An(t,e){return Xe(t.getFullYear()%1e4,e,4)}function jn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Xe(e/60|0,"0",2)+Xe(e%60,"0",2)}function On(t,e){return Xe(t.getUTCDate(),e,2)}function Ln(t,e){return Xe(t.getUTCHours(),e,2)}function En(t,e){return Xe(t.getUTCHours()%12||12,e,2)}function Pn(t,e){return Xe(1+Ue.count(Pe(t),t),e,3)}function $n(t,e){return Xe(t.getUTCMilliseconds(),e,3)}function zn(t,e){return $n(t,e)+"000"}function In(t,e){return Xe(t.getUTCMonth()+1,e,2)}function Vn(t,e){return Xe(t.getUTCMinutes(),e,2)}function Zn(t,e){return Xe(t.getUTCSeconds(),e,2)}function Wn(t){var e=t.getUTCDay();return e===0?7:e}function qn(t,e){return Xe(Se.count(Pe(t),t),e,2)}function Qn(t,e){var n=t.getUTCDay();t=n>=4||n===0?He(t):He.ceil(t);return Xe(He.count(Pe(t),t)+(Pe(t).getUTCDay()===4),e,2)}function Rn(t){return t.getUTCDay()}function Xn(t,e){return Xe(Ne.count(Pe(t),t),e,2)}function Jn(t,e){return Xe(t.getUTCFullYear()%100,e,2)}function Gn(t,e){return Xe(t.getUTCFullYear()%1e4,e,4)}function Bn(){return"+0000"}function _n(){return"%"}function Kn(t){return+t}function tr(t){return Math.floor(+t/1e3)}var er;var nr;var rr;var ir;var ur;or({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function or(t){er=Ze(t);nr=er.format;rr=er.parse;ir=er.utcFormat;ur=er.utcParse;return er}var ar="%Y-%m-%dT%H:%M:%S.%LZ";function cr(t){return t.toISOString()}var sr=Date.prototype.toISOString?cr:ir(ar);function lr(t){var e=new Date(t);return isNaN(e)?null:e}var fr=+new Date("2000-01-01T00:00:00.000Z")?lr:ur(ar);var hr={dark:"#444444",light:"#f7f7f7",missing:"#cccccc",off:"#b22200",on:"#224f20",scale:Tt().range(["#b22200","#282f6b","#eace3f","#b35c1e","#224f20","#5f487c","#759143","#419391","#993c88","#e89c89","#ffee8d","#afd5e8","#f7ba77","#a5c697","#c5b5e5","#d1d392","#bbefd0","#e099cf"])};function gr(t,e){if(e===void 0)e={};return t in e?e[t]:t in hr?hr[t]:hr.missing}function vr(t,e){if(e===void 0)e={};if([null,void 0].indexOf(t)>=0){return gr("missing",e)}else if(t===true){return gr("on",e)}else if(t===false){return gr("off",e)}var n=w(t);if(!n){return gr("scale",e)(t)}return t.toString()}function dr(t,e){if(e===void 0)e={};t=T(t);var n=(t.r*299+t.g*587+t.b*114)/1e3;return n>=128?gr("dark",e):gr("light",e)}function pr(t){t=k(t);if(t.l>.45){if(t.s>.8){t.s=.8}t.l=.45}return t.toString()}function yr(t,e){if(e===void 0)e=.5;t=k(t);e*=1-t.l;t.l+=e;t.s-=e;return t.toString()}function wr(t,e,n,r){if(n===void 0)n=1;if(r===void 0)r=1;t=k(t);e=k(e);var i=e.h*r-t.h*n;if(Math.abs(i)>180){i-=360}var u=(t.h-i)%360;var o=t.l-(e.l*r-t.l*n)/2,a=t.s-(e.s*r-t.s*n)/2;if(u<0){u+=360}return k("hsl("+u+","+a*100+"%,"+o*100+"%)").toString()}t.colorAdd=at;t.colorAssign=vr;t.colorContrast=dr;t.colorDefaults=hr;t.colorLegible=pr;t.colorLighter=yr;t.colorSubtract=wr;Object.defineProperty(t,"__esModule",{value:true})});