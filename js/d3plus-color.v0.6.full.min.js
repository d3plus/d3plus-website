/*
  d3plus-color v0.6.3
  Color functions that extent the ability of d3-color.
  Copyright (c) 2019 D3plus - https://d3plus.org
  @license MIT
*/
if(typeof Object.assign!=="function"){Object.defineProperty(Object,"assign",{value:function t(n){"use strict";if(n===null){throw new TypeError("Cannot convert undefined or null to object")}var e=Object(n);for(var r=1;r<arguments.length;r++){var i=arguments[r];if(i!==null){for(var u in i){if(Object.prototype.hasOwnProperty.call(i,u)){e[u]=i[u]}}}}return e},writable:true,configurable:true})}if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function t(n,e){var r=Object(this);var i=r.length>>>0;if(i===0)return false;var u=e|0;var o=Math.max(u>=0?u:i-Math.abs(u),0);function a(t,n){return t===n||typeof t==="number"&&typeof n==="number"&&isNaN(t)&&isNaN(n)}while(o<i){if(a(r[o],n)){return true}o++}return false}})}(function(t,n){typeof exports==="object"&&typeof module!=="undefined"?n(exports):typeof define==="function"&&define.amd?define("d3plus-color",["exports"],n):n(t.d3plus={})})(this,function(t){function n(t,n,e){t.prototype=n.prototype=e;e.constructor=t}function e(t,n){var e=Object.create(t.prototype);for(var r in n){e[r]=n[r]}return e}function r(){}var i=.7;var u=1/i;var o="\\s*([+-]?\\d+)\\s*",a="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",c="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",s=/^#([0-9a-f]{3})$/,l=/^#([0-9a-f]{6})$/,f=new RegExp("^rgb\\("+[o,o,o]+"\\)$"),h=new RegExp("^rgb\\("+[c,c,c]+"\\)$"),g=new RegExp("^rgba\\("+[o,o,o,a]+"\\)$"),v=new RegExp("^rgba\\("+[c,c,c,a]+"\\)$"),d=new RegExp("^hsl\\("+[a,c,c]+"\\)$"),p=new RegExp("^hsla\\("+[a,c,c,a]+"\\)$");var y={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};n(r,w,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}});function w(t){var n;t=(t+"").trim().toLowerCase();return(n=s.exec(t))?(n=parseInt(n[1],16),new C(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1)):(n=l.exec(t))?m(parseInt(n[1],16)):(n=f.exec(t))?new C(n[1],n[2],n[3],1):(n=h.exec(t))?new C(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=g.exec(t))?b(n[1],n[2],n[3],n[4]):(n=v.exec(t))?b(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=d.exec(t))?x(n[1],n[2]/100,n[3]/100,1):(n=p.exec(t))?x(n[1],n[2]/100,n[3]/100,n[4]):y.hasOwnProperty(t)?m(y[t]):t==="transparent"?new C(NaN,NaN,NaN,0):null}function m(t){return new C(t>>16&255,t>>8&255,t&255,1)}function b(t,n,e,r){if(r<=0){t=n=e=NaN}return new C(t,n,e,r)}function M(t){if(!(t instanceof r)){t=w(t)}if(!t){return new C}t=t.rgb();return new C(t.r,t.g,t.b,t.opacity)}function T(t,n,e,r){return arguments.length===1?M(t):new C(t,n,e,r==null?1:r)}function C(t,n,e,r){this.r=+t;this.g=+n;this.b=+e;this.opacity=+r}n(C,T,e(r,{brighter:function(t){t=t==null?u:Math.pow(u,t);return new C(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){t=t==null?i:Math.pow(i,t);return new C(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&(0<=this.g&&this.g<=255)&&(0<=this.b&&this.b<=255)&&(0<=this.opacity&&this.opacity<=1)},toString:function(){var t=this.opacity;t=isNaN(t)?1:Math.max(0,Math.min(1,t));return(t===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(t===1?")":", "+t+")")}}));function x(t,n,e,r){if(r<=0){t=n=e=NaN}else if(e<=0||e>=1){t=n=NaN}else if(n<=0){t=NaN}return new k(t,n,e,r)}function U(t){if(t instanceof k){return new k(t.h,t.s,t.l,t.opacity)}if(!(t instanceof r)){t=w(t)}if(!t){return new k}if(t instanceof k){return t}t=t.rgb();var n=t.r/255,e=t.g/255,i=t.b/255,u=Math.min(n,e,i),o=Math.max(n,e,i),a=NaN,c=o-u,s=(o+u)/2;if(c){if(n===o){a=(e-i)/c+(e<i)*6}else if(e===o){a=(i-n)/c+2}else{a=(n-e)/c+4}c/=s<.5?o+u:2-o-u;a*=60}else{c=s>0&&s<1?0:a}return new k(a,c,s,t.opacity)}function D(t,n,e,r){return arguments.length===1?U(t):new k(t,n,e,r==null?1:r)}function k(t,n,e,r){this.h=+t;this.s=+n;this.l=+e;this.opacity=+r}n(k,D,e(r,{brighter:function(t){t=t==null?u:Math.pow(u,t);return new k(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?i:Math.pow(i,t);return new k(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new C(N(t>=240?t-240:t+120,i,r),N(t,i,r),N(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&(0<=this.l&&this.l<=1)&&(0<=this.opacity&&this.opacity<=1)}}));function N(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}var S=Math.PI/180;var F=180/Math.PI;var Y=18,H=.95047,A=1,j=1.08883,O=4/29,L=6/29,P=3*L*L,$=L*L*L;function z(t){if(t instanceof I){return new I(t.l,t.a,t.b,t.opacity)}if(t instanceof X){var n=t.h*S;return new I(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}if(!(t instanceof C)){t=M(t)}var e=V(t.r),r=V(t.g),i=V(t.b),u=Z((.4124564*e+.3575761*r+.1804375*i)/H),o=Z((.2126729*e+.7151522*r+.072175*i)/A),a=Z((.0193339*e+.119192*r+.9503041*i)/j);return new I(116*o-16,500*(u-o),200*(o-a),t.opacity)}function E(t,n,e,r){return arguments.length===1?z(t):new I(t,n,e,r==null?1:r)}function I(t,n,e,r){this.l=+t;this.a=+n;this.b=+e;this.opacity=+r}n(I,E,e(r,{brighter:function(t){return new I(this.l+Y*(t==null?1:t),this.a,this.b,this.opacity)},darker:function(t){return new I(this.l-Y*(t==null?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;t=A*q(t);n=H*q(n);e=j*q(e);return new C(W(3.2404542*n-1.5371385*t-.4985314*e),W(-.969266*n+1.8760108*t+.041556*e),W(.0556434*n-.2040259*t+1.0572252*e),this.opacity)}}));function Z(t){return t>$?Math.pow(t,1/3):t/P+O}function q(t){return t>L?t*t*t:P*(t-O)}function W(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function V(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Q(t){if(t instanceof X){return new X(t.h,t.c,t.l,t.opacity)}if(!(t instanceof I)){t=z(t)}var n=Math.atan2(t.b,t.a)*F;return new X(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function R(t,n,e,r){return arguments.length===1?Q(t):new X(t,n,e,r==null?1:r)}function X(t,n,e,r){this.h=+t;this.c=+n;this.l=+e;this.opacity=+r}n(X,R,e(r,{brighter:function(t){return new X(this.h,this.c,this.l+Y*(t==null?1:t),this.opacity)},darker:function(t){return new X(this.h,this.c,this.l-Y*(t==null?1:t),this.opacity)},rgb:function(){return z(this).rgb()}}));var J=-.14861,B=+1.78277,_=-.29227,G=-.90649,K=+1.97294,tt=K*G,nt=K*B,et=B*_-G*J;function rt(t){if(t instanceof ut){return new ut(t.h,t.s,t.l,t.opacity)}if(!(t instanceof C)){t=M(t)}var n=t.r/255,e=t.g/255,r=t.b/255,i=(et*r+tt*n-nt*e)/(et+tt-nt),u=r-i,o=(K*(e-i)-_*u)/G,a=Math.sqrt(o*o+u*u)/(K*i*(1-i)),c=a?Math.atan2(o,u)*F-120:NaN;return new ut(c<0?c+360:c,a,i,t.opacity)}function it(t,n,e,r){return arguments.length===1?rt(t):new ut(t,n,e,r==null?1:r)}function ut(t,n,e,r){this.h=+t;this.s=+n;this.l=+e;this.opacity=+r}n(ut,it,e(r,{brighter:function(t){t=t==null?u:Math.pow(u,t);return new ut(this.h,this.s,this.l*t,this.opacity)},darker:function(t){t=t==null?i:Math.pow(i,t);return new ut(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*S,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new C(255*(n+e*(J*r+B*i)),255*(n+e*(_*r+G*i)),255*(n+e*(K*r)),this.opacity)}}));function ot(t,n,e,r){if(e===void 0)e=1;if(r===void 0)r=1;t=D(t);n=D(n);var i=Math.abs(n.h*r-t.h*e);if(i>180){i-=360}var u=(Math.min(t.h,n.h)+i/2)%360;var o=t.l+(n.l*r-t.l*e)/2,a=t.s+(n.s*r-t.s*e)/2;if(u<0){u+=360}return D("hsl("+u+","+a*100+"%,"+o*100+"%)").toString()}function at(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function ct(t){if(t.length===1){t=st(t)}return{left:function(n,e,r,i){if(r==null){r=0}if(i==null){i=n.length}while(r<i){var u=r+i>>>1;if(t(n[u],e)<0){r=u+1}else{i=u}}return r},right:function(n,e,r,i){if(r==null){r=0}if(i==null){i=n.length}while(r<i){var u=r+i>>>1;if(t(n[u],e)>0){i=u}else{r=u+1}}return r}}}function st(t){return function(n,e){return at(t(n),e)}}var lt=ct(at);var ft="$";function ht(){}ht.prototype=gt.prototype={constructor:ht,has:function(t){return ft+t in this},get:function(t){return this[ft+t]},set:function(t,n){this[ft+t]=n;return this},remove:function(t){var n=ft+t;return n in this&&delete this[n]},clear:function(){var t=this;for(var n in t){if(n[0]===ft){delete t[n]}}},keys:function(){var t=this;var n=[];for(var e in t){if(e[0]===ft){n.push(e.slice(1))}}return n},values:function(){var t=this;var n=[];for(var e in t){if(e[0]===ft){n.push(t[e])}}return n},entries:function(){var t=this;var n=[];for(var e in t){if(e[0]===ft){n.push({key:e.slice(1),value:t[e]})}}return n},size:function(){var t=this;var n=0;for(var e in t){if(e[0]===ft){++n}}return n},empty:function(){var t=this;for(var n in t){if(n[0]===ft){return false}}return true},each:function(t){var n=this;for(var e in n){if(e[0]===ft){t(n[e],e.slice(1),n)}}}};function gt(t,n){var e=new ht;if(t instanceof ht){t.each(function(t,n){e.set(n,t)})}else if(Array.isArray(t)){var r=-1,i=t.length,u;if(n==null){while(++r<i){e.set(r,t[r])}}else{while(++r<i){e.set(n(u=t[r],r,t),u)}}}else if(t){for(var o in t){e.set(o,t[o])}}return e}function vt(){}var dt=gt.prototype;vt.prototype=pt.prototype={constructor:vt,has:dt.has,add:function(t){t+="";this[ft+t]=t;return this},remove:dt.remove,clear:dt.clear,values:dt.keys,size:dt.size,empty:dt.empty,each:dt.each};function pt(t,n){var e=new vt;if(t instanceof vt){t.each(function(t){e.add(t)})}else if(t){var r=-1,i=t.length;if(n==null){while(++r<i){e.add(t[r])}}else{while(++r<i){e.add(n(t[r],r,t))}}}return e}var yt=Array.prototype;var wt=yt.slice;var mt={name:"implicit"};function bt(t){var n=gt(),e=[],r=mt;t=t==null?[]:wt.call(t);function i(i){var u=i+"",o=n.get(u);if(!o){if(r!==mt){return r}n.set(u,o=e.push(i))}return t[(o-1)%t.length]}i.domain=function(t){if(!arguments.length){return e.slice()}e=[],n=gt();var r=-1,u=t.length,o,a;while(++r<u){if(!n.has(a=(o=t[r])+"")){n.set(a,e.push(o))}}return i};i.range=function(n){return arguments.length?(t=wt.call(n),i):t.slice()};i.unknown=function(t){return arguments.length?(r=t,i):r};i.copy=function(){return bt().domain(e).range(t).unknown(r)};return i}var Mt=180/Math.PI;var Tt=Math.SQRT2;function Ct(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0){return null}var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}function xt(t){return t=Ct(Math.abs(t)),t?t[1]:NaN}function Ut(t,n){return function(e,r){var i=e.length,u=[],o=0,a=t[0],c=0;while(i>0&&a>0){if(c+a+1>r){a=Math.max(1,r-c)}u.push(e.substring(i-=a,i+a));if((c+=a+1)>r){break}a=t[o=(o+1)%t.length]}return u.reverse().join(n)}}function Dt(t){return function(n){return n.replace(/[0-9]/g,function(n){return t[+n]})}}function kt(t,n){t=t.toPrecision(n);t:for(var e=t.length,r=1,i=-1,u;r<e;++r){switch(t[r]){case".":i=u=r;break;case"0":if(i===0){i=r}u=r;break;case"e":break t;default:if(i>0){i=0}break}}return i>0?t.slice(0,i)+t.slice(u+1):t}var Nt;function St(t,n){var e=Ct(t,n);if(!e){return t+""}var r=e[0],i=e[1],u=i-(Nt=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return u===o?r:u>o?r+new Array(u-o+1).join("0"):u>0?r.slice(0,u)+"."+r.slice(u):"0."+new Array(1-u).join("0")+Ct(t,Math.max(0,n+u-1))[0]}function Ft(t,n){var e=Ct(t,n);if(!e){return t+""}var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var Yt={"":kt,"%":function(t,n){return(t*100).toFixed(n)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,n){return t.toExponential(n)},f:function(t,n){return t.toFixed(n)},g:function(t,n){return t.toPrecision(n)},o:function(t){return Math.round(t).toString(8)},p:function(t,n){return Ft(t*100,n)},r:Ft,s:St,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};var Ht=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function At(t){return new jt(t)}At.prototype=jt.prototype;function jt(t){if(!(n=Ht.exec(t))){throw new Error("invalid format: "+t)}var n,e=n[1]||" ",r=n[2]||">",i=n[3]||"-",u=n[4]||"",o=!!n[5],a=n[6]&&+n[6],c=!!n[7],s=n[8]&&+n[8].slice(1),l=n[9]||"";if(l==="n"){c=true,l="g"}else if(!Yt[l]){l=""}if(o||e==="0"&&r==="="){o=true,e="0",r="="}this.fill=e;this.align=r;this.sign=i;this.symbol=u;this.zero=o;this.width=a;this.comma=c;this.precision=s;this.type=l}jt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width==null?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision==null?"":"."+Math.max(0,this.precision|0))+this.type};function Ot(t){return t}var Lt=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Pt(t){var n=t.grouping&&t.thousands?Ut(t.grouping,t.thousands):Ot,e=t.currency,r=t.decimal,i=t.numerals?Dt(t.numerals):Ot,u=t.percent||"%";function o(t){t=At(t);var o=t.fill,a=t.align,c=t.sign,s=t.symbol,l=t.zero,f=t.width,h=t.comma,g=t.precision,v=t.type;var d=s==="$"?e[0]:s==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",p=s==="$"?e[1]:/[%p]/.test(v)?u:"";var y=Yt[v],w=!v||/[defgprs%]/.test(v);g=g==null?v?6:12:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g));function m(t){var e=d,u=p,s,m,b;if(v==="c"){u=y(t)+u;t=""}else{t=+t;var M=t<0;t=y(Math.abs(t),g);if(M&&+t===0){M=false}e=(M?c==="("?c:"-":c==="-"||c==="("?"":c)+e;u=(v==="s"?Lt[8+Nt/3]:"")+u+(M&&c==="("?")":"");if(w){s=-1,m=t.length;while(++s<m){if(b=t.charCodeAt(s),48>b||b>57){u=(b===46?r+t.slice(s+1):t.slice(s))+u;t=t.slice(0,s);break}}}}if(h&&!l){t=n(t,Infinity)}var T=e.length+t.length+u.length,C=T<f?new Array(f-T+1).join(o):"";if(h&&l){t=n(C+t,C.length?f-u.length:Infinity),C=""}switch(a){case"<":t=e+t+u+C;break;case"=":t=e+C+t+u;break;case"^":t=C.slice(0,T=C.length>>1)+e+t+u+C.slice(T);break;default:t=C+e+t+u;break}return i(t)}m.toString=function(){return t+""};return m}function a(t,n){var e=o((t=At(t),t.type="f",t)),r=Math.max(-8,Math.min(8,Math.floor(xt(n)/3)))*3,i=Math.pow(10,-r),u=Lt[8+r/3];return function(t){return e(i*t)+u}}return{format:o,formatPrefix:a}}var $t;var zt;var Et;It({decimal:".",thousands:",",grouping:[3],currency:["$",""]});function It(t){$t=Pt(t);zt=$t.format;Et=$t.formatPrefix;return $t}var Zt=new Date,qt=new Date;function Wt(t,n,e,r){function i(n){return t(n=new Date(+n)),n}i.floor=i;i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e};i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e};i.offset=function(t,e){return n(t=new Date(+t),e==null?1:Math.floor(e)),t};i.range=function(e,r,u){var o=[],a;e=i.ceil(e);u=u==null?1:Math.floor(u);if(!(e<r)||!(u>0)){return o}do{o.push(a=new Date(+e)),n(e,u),t(e)}while(a<e&&e<r);return o};i.filter=function(e){return Wt(function(n){if(n>=n){while(t(n),!e(n)){n.setTime(n-1)}}},function(t,r){if(t>=t){if(r<0){while(++r<=0){while(n(t,-1),!e(t)){}}}else{while(--r>=0){while(n(t,+1),!e(t)){}}}}})};if(e){i.count=function(n,r){Zt.setTime(+n),qt.setTime(+r);t(Zt),t(qt);return Math.floor(e(Zt,qt))};i.every=function(t){t=Math.floor(t);return!isFinite(t)||!(t>0)?null:!(t>1)?i:i.filter(r?function(n){return r(n)%t===0}:function(n){return i.count(0,n)%t===0})}}return i}var Vt=Wt(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});Vt.every=function(t){t=Math.floor(t);if(!isFinite(t)||!(t>0)){return null}if(!(t>1)){return Vt}return Wt(function(n){n.setTime(Math.floor(n/t)*t)},function(n,e){n.setTime(+n+e*t)},function(n,e){return(e-n)/t})};var Qt=1e3;var Rt=6e4;var Xt=36e5;var Jt=864e5;var Bt=6048e5;var _t=Wt(function(t){t.setTime(Math.floor(t/Qt)*Qt)},function(t,n){t.setTime(+t+n*Qt)},function(t,n){return(n-t)/Qt},function(t){return t.getUTCSeconds()});var Gt=Wt(function(t){t.setTime(Math.floor(t/Rt)*Rt)},function(t,n){t.setTime(+t+n*Rt)},function(t,n){return(n-t)/Rt},function(t){return t.getMinutes()});var Kt=Wt(function(t){var n=t.getTimezoneOffset()*Rt%Xt;if(n<0){n+=Xt}t.setTime(Math.floor((+t-n)/Xt)*Xt+n)},function(t,n){t.setTime(+t+n*Xt)},function(t,n){return(n-t)/Xt},function(t){return t.getHours()});var tn=Wt(function(t){t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Rt)/Jt},function(t){return t.getDate()-1});function nn(t){return Wt(function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7);n.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+n*7)},function(t,n){return(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Rt)/Bt})}var en=nn(0);var rn=nn(1);var un=nn(2);var on=nn(3);var an=nn(4);var cn=nn(5);var sn=nn(6);var ln=Wt(function(t){t.setDate(1);t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+(n.getFullYear()-t.getFullYear())*12},function(t){return t.getMonth()});var fn=Wt(function(t){t.setMonth(0,1);t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});fn.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Wt(function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t);n.setMonth(0,1);n.setHours(0,0,0,0)},function(n,e){n.setFullYear(n.getFullYear()+e*t)})};var hn=Wt(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+n*Rt)},function(t,n){return(n-t)/Rt},function(t){return t.getUTCMinutes()});var gn=Wt(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+n*Xt)},function(t,n){return(n-t)/Xt},function(t){return t.getUTCHours()});var vn=Wt(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/Jt},function(t){return t.getUTCDate()-1});function dn(t){return Wt(function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7);n.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n*7)},function(t,n){return(n-t)/Bt})}var pn=dn(0);var yn=dn(1);var wn=dn(2);var mn=dn(3);var bn=dn(4);var Mn=dn(5);var Tn=dn(6);var Cn=Wt(function(t){t.setUTCDate(1);t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+(n.getUTCFullYear()-t.getUTCFullYear())*12},function(t){return t.getUTCMonth()});var xn=Wt(function(t){t.setUTCMonth(0,1);t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});xn.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:Wt(function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t);n.setUTCMonth(0,1);n.setUTCHours(0,0,0,0)},function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})};function Un(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);n.setFullYear(t.y);return n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Dn(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));n.setUTCFullYear(t.y);return n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function kn(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Nn(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,u=t.days,o=t.shortDays,a=t.months,c=t.shortMonths;var s=On(i),l=Ln(i),f=On(u),h=Ln(u),g=On(o),v=Ln(o),d=On(a),p=Ln(a),y=On(c),w=Ln(c);var m={a:A,A:j,b:O,B:L,c:null,d:ee,e:ee,f:ae,H:re,I:ie,j:ue,L:oe,m:ce,M:se,p:P,Q:Pe,s:$e,S:le,u:fe,U:he,V:ge,w:ve,W:de,x:null,X:null,y:pe,Y:ye,Z:we,"%":Le};var b={a:$,A:z,b:E,B:I,c:null,d:me,e:me,f:xe,H:be,I:Me,j:Te,L:Ce,m:Ue,M:De,p:Z,Q:Pe,s:$e,S:ke,u:Ne,U:Se,V:Fe,w:Ye,W:He,x:null,X:null,y:Ae,Y:je,Z:Oe,"%":Le};var M={a:D,A:k,b:N,B:S,c:F,d:Qn,e:Qn,f:Gn,H:Xn,I:Xn,j:Rn,L:_n,m:Vn,M:Jn,p:U,Q:te,s:ne,S:Bn,u:$n,U:zn,V:En,w:Pn,W:In,x:Y,X:H,y:qn,Y:Zn,Z:Wn,"%":Kn};m.x=T(e,m);m.X=T(r,m);m.c=T(n,m);b.x=T(e,b);b.X=T(r,b);b.c=T(n,b);function T(t,n){return function(e){var r=[],i=-1,u=0,o=t.length,a,c,s;if(!(e instanceof Date)){e=new Date(+e)}while(++i<o){if(t.charCodeAt(i)===37){r.push(t.slice(u,i));if((c=Sn[a=t.charAt(++i)])!=null){a=t.charAt(++i)}else{c=a==="e"?" ":"0"}if(s=n[a]){a=s(e,c)}r.push(a);u=i+1}}r.push(t.slice(u,i));return r.join("")}}function C(t,n){return function(e){var r=kn(1900),i=x(r,t,e+="",0),u,o;if(i!=e.length){return null}if("Q"in r){return new Date(r.Q)}if("p"in r){r.H=r.H%12+r.p*12}if("V"in r){if(r.V<1||r.V>53){return null}if(!("w"in r)){r.w=1}if("Z"in r){u=Dn(kn(r.y)),o=u.getUTCDay();u=o>4||o===0?yn.ceil(u):yn(u);u=vn.offset(u,(r.V-1)*7);r.y=u.getUTCFullYear();r.m=u.getUTCMonth();r.d=u.getUTCDate()+(r.w+6)%7}else{u=n(kn(r.y)),o=u.getDay();u=o>4||o===0?rn.ceil(u):rn(u);u=tn.offset(u,(r.V-1)*7);r.y=u.getFullYear();r.m=u.getMonth();r.d=u.getDate()+(r.w+6)%7}}else if("W"in r||"U"in r){if(!("w"in r)){r.w="u"in r?r.u%7:"W"in r?1:0}o="Z"in r?Dn(kn(r.y)).getUTCDay():n(kn(r.y)).getDay();r.m=0;r.d="W"in r?(r.w+6)%7+r.W*7-(o+5)%7:r.w+r.U*7-(o+6)%7}if("Z"in r){r.H+=r.Z/100|0;r.M+=r.Z%100;return Dn(r)}return n(r)}}function x(t,n,e,r){var i=0,u=n.length,o=e.length,a,c;while(i<u){if(r>=o){return-1}a=n.charCodeAt(i++);if(a===37){a=n.charAt(i++);c=M[a in Sn?n.charAt(i++):a];if(!c||(r=c(t,e,r))<0){return-1}}else if(a!=e.charCodeAt(r++)){return-1}}return r}function U(t,n,e){var r=s.exec(n.slice(e));return r?(t.p=l[r[0].toLowerCase()],e+r[0].length):-1}function D(t,n,e){var r=g.exec(n.slice(e));return r?(t.w=v[r[0].toLowerCase()],e+r[0].length):-1}function k(t,n,e){var r=f.exec(n.slice(e));return r?(t.w=h[r[0].toLowerCase()],e+r[0].length):-1}function N(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=w[r[0].toLowerCase()],e+r[0].length):-1}function S(t,n,e){var r=d.exec(n.slice(e));return r?(t.m=p[r[0].toLowerCase()],e+r[0].length):-1}function F(t,e,r){return x(t,n,e,r)}function Y(t,n,r){return x(t,e,n,r)}function H(t,n,e){return x(t,r,n,e)}function A(t){return o[t.getDay()]}function j(t){return u[t.getDay()]}function O(t){return c[t.getMonth()]}function L(t){return a[t.getMonth()]}function P(t){return i[+(t.getHours()>=12)]}function $(t){return o[t.getUTCDay()]}function z(t){return u[t.getUTCDay()]}function E(t){return c[t.getUTCMonth()]}function I(t){return a[t.getUTCMonth()]}function Z(t){return i[+(t.getUTCHours()>=12)]}return{format:function(t){var n=T(t+="",m);n.toString=function(){return t};return n},parse:function(t){var n=C(t+="",Un);n.toString=function(){return t};return n},utcFormat:function(t){var n=T(t+="",b);n.toString=function(){return t};return n},utcParse:function(t){var n=C(t,Dn);n.toString=function(){return t};return n}}}var Sn={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,Yn=/^%/,Hn=/[\\^$*+?|[\]().{}]/g;function An(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",u=i.length;return r+(u<e?new Array(e-u+1).join(n)+i:i)}function jn(t){return t.replace(Hn,"\\$&")}function On(t){return new RegExp("^(?:"+t.map(jn).join("|")+")","i")}function Ln(t){var n={},e=-1,r=t.length;while(++e<r){n[t[e].toLowerCase()]=e}return n}function Pn(t,n,e){var r=Fn.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function $n(t,n,e){var r=Fn.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function zn(t,n,e){var r=Fn.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function En(t,n,e){var r=Fn.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function In(t,n,e){var r=Fn.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Zn(t,n,e){var r=Fn.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function qn(t,n,e){var r=Fn.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function Wn(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function Vn(t,n,e){var r=Fn.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function Qn(t,n,e){var r=Fn.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function Rn(t,n,e){var r=Fn.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function Xn(t,n,e){var r=Fn.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function Jn(t,n,e){var r=Fn.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function Bn(t,n,e){var r=Fn.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function _n(t,n,e){var r=Fn.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function Gn(t,n,e){var r=Fn.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function Kn(t,n,e){var r=Yn.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function te(t,n,e){var r=Fn.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function ne(t,n,e){var r=Fn.exec(n.slice(e));return r?(t.Q=+r[0]*1e3,e+r[0].length):-1}function ee(t,n){return An(t.getDate(),n,2)}function re(t,n){return An(t.getHours(),n,2)}function ie(t,n){return An(t.getHours()%12||12,n,2)}function ue(t,n){return An(1+tn.count(fn(t),t),n,3)}function oe(t,n){return An(t.getMilliseconds(),n,3)}function ae(t,n){return oe(t,n)+"000"}function ce(t,n){return An(t.getMonth()+1,n,2)}function se(t,n){return An(t.getMinutes(),n,2)}function le(t,n){return An(t.getSeconds(),n,2)}function fe(t){var n=t.getDay();return n===0?7:n}function he(t,n){return An(en.count(fn(t),t),n,2)}function ge(t,n){var e=t.getDay();t=e>=4||e===0?an(t):an.ceil(t);return An(an.count(fn(t),t)+(fn(t).getDay()===4),n,2)}function ve(t){return t.getDay()}function de(t,n){return An(rn.count(fn(t),t),n,2)}function pe(t,n){return An(t.getFullYear()%100,n,2)}function ye(t,n){return An(t.getFullYear()%1e4,n,4)}function we(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+An(n/60|0,"0",2)+An(n%60,"0",2)}function me(t,n){return An(t.getUTCDate(),n,2)}function be(t,n){return An(t.getUTCHours(),n,2)}function Me(t,n){return An(t.getUTCHours()%12||12,n,2)}function Te(t,n){return An(1+vn.count(xn(t),t),n,3)}function Ce(t,n){return An(t.getUTCMilliseconds(),n,3)}function xe(t,n){return Ce(t,n)+"000"}function Ue(t,n){return An(t.getUTCMonth()+1,n,2)}function De(t,n){return An(t.getUTCMinutes(),n,2)}function ke(t,n){return An(t.getUTCSeconds(),n,2)}function Ne(t){var n=t.getUTCDay();return n===0?7:n}function Se(t,n){return An(pn.count(xn(t),t),n,2)}function Fe(t,n){var e=t.getUTCDay();t=e>=4||e===0?bn(t):bn.ceil(t);return An(bn.count(xn(t),t)+(xn(t).getUTCDay()===4),n,2)}function Ye(t){return t.getUTCDay()}function He(t,n){return An(yn.count(xn(t),t),n,2)}function Ae(t,n){return An(t.getUTCFullYear()%100,n,2)}function je(t,n){return An(t.getUTCFullYear()%1e4,n,4)}function Oe(){return"+0000"}function Le(){return"%"}function Pe(t){return+t}function $e(t){return Math.floor(+t/1e3)}var ze;var Ee;var Ie;var Ze;var qe;We({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function We(t){ze=Nn(t);Ee=ze.format;Ie=ze.parse;Ze=ze.utcFormat;qe=ze.utcParse;return ze}var Ve="%Y-%m-%dT%H:%M:%S.%LZ";function Qe(t){return t.toISOString()}var Re=Date.prototype.toISOString?Qe:Ze(Ve);function Xe(t){var n=new Date(t);return isNaN(n)?null:n}var Je=+new Date("2000-01-01T00:00:00.000Z")?Xe:qe(Ve);var Be={dark:"#444444",light:"#f7f7f7",missing:"#cccccc",off:"#b22200",on:"#224f20",scale:bt().range(["#b22200","#282f6b","#eace3f","#b35c1e","#224f20","#5f487c","#759143","#419391","#993c88","#e89c89","#ffee8d","#afd5e8","#f7ba77","#a5c697","#c5b5e5","#d1d392","#bbefd0","#e099cf"])};function _e(t,n){if(n===void 0)n={};return t in n?n[t]:t in Be?Be[t]:Be.missing}function Ge(t,n){if(n===void 0)n={};if([null,void 0].indexOf(t)>=0){return _e("missing",n)}else if(t===true){return _e("on",n)}else if(t===false){return _e("off",n)}var e=w(t);if(!e){return _e("scale",n)(t)}return t.toString()}function Ke(t,n){if(n===void 0)n={};t=T(t);var e=(t.r*299+t.g*587+t.b*114)/1e3;return e>=128?_e("dark",n):_e("light",n)}function tr(t){t=D(t);if(t.l>.45){if(t.s>.8){t.s=.8}t.l=.45}return t.toString()}function nr(t,n){if(n===void 0)n=.5;t=D(t);n*=1-t.l;t.l+=n;t.s-=n;return t.toString()}function er(t,n,e,r){if(e===void 0)e=1;if(r===void 0)r=1;t=D(t);n=D(n);var i=n.h*r-t.h*e;if(Math.abs(i)>180){i-=360}var u=(t.h-i)%360;var o=t.l-(n.l*r-t.l*e)/2,a=t.s-(n.s*r-t.s*e)/2;if(u<0){u+=360}return D("hsl("+u+","+a*100+"%,"+o*100+"%)").toString()}t.colorAdd=ot;t.colorAssign=Ge;t.colorContrast=Ke;t.colorDefaults=Be;t.colorLegible=tr;t.colorLighter=nr;t.colorSubtract=er;Object.defineProperty(t,"__esModule",{value:true})});