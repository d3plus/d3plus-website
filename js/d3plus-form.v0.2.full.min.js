/*
  d3plus-form v0.2.8
  Javascript rendered input forms.
  Copyright (c) 2019 D3plus - https://d3plus.org
  @license MIT
*/
(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?e(exports):typeof define==="function"&&define.amd?define("d3plus-form",["exports"],e):(t=t||self,e(t.d3plus={}))})(this,function(t){function n(t){if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function(t){return typeof t}}else{n=function(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return n(t)}function r(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function o(t,e,n){if(e)i(t.prototype,e);if(n)i(t,n);return t}function a(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});if(e)l(t,e)}function u(t){u=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)};return u(t)}function l(t,e){l=Object.setPrototypeOf||function t(e,n){e.__proto__=n;return e};return l(t,e)}function c(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function s(t,e){if(e&&(typeof e==="object"||typeof e==="function")){return e}return c(t)}var f="http://www.w3.org/1999/xhtml";var h={svg:"http://www.w3.org/2000/svg",xhtml:f,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function v(t){var e=t+="",n=e.indexOf(":");if(n>=0&&(e=t.slice(0,n))!=="xmlns")t=t.slice(n+1);return h.hasOwnProperty(e)?{space:h[e],local:t}:t}function p(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===f&&t.documentElement.namespaceURI===f?t.createElement(n):t.createElementNS(e,n)}}function d(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function y(t){var e=v(t);return(e.local?d:p)(e)}function e(){}function _(t){return t==null?e:function(){return this.querySelector(t)}}function g(t){if(typeof t!=="function")t=_(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var o=e[i],a=o.length,u=r[i]=new Array(a),l,c,s=0;s<a;++s){if((l=o[s])&&(c=t.call(l,l.__data__,s,o))){if("__data__"in l)c.__data__=l.__data__;u[s]=c}}}return new $t(r,this._parents)}function m(){return[]}function b(t){return t==null?m:function(){return this.querySelectorAll(t)}}function w(t){if(typeof t!=="function")t=b(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o){for(var a=e[o],u=a.length,l,c=0;c<u;++c){if(l=a[c]){r.push(t.call(l,l.__data__,c,a));i.push(l)}}}return new $t(r,i)}function S(t){return function(){return this.matches(t)}}function x(t){if(typeof t!=="function")t=S(t);for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i){for(var o=e[i],a=o.length,u=r[i]=[],l,c=0;c<a;++c){if((l=o[c])&&t.call(l,l.__data__,c,o)){u.push(l)}}}return new $t(r,this._parents)}function O(t){return new Array(t.length)}function A(){return new $t(this._enter||this._groups.map(O),this._parents)}function k(t,e){this.ownerDocument=t.ownerDocument;this.namespaceURI=t.namespaceURI;this._next=null;this._parent=t;this.__data__=e}k.prototype={constructor:k,appendChild:function t(e){return this._parent.insertBefore(e,this._next)},insertBefore:function t(e,n){return this._parent.insertBefore(e,n)},querySelector:function t(e){return this._parent.querySelector(e)},querySelectorAll:function t(e){return this._parent.querySelectorAll(e)}};function j(t){return function(){return t}}var E="$";function N(t,e,n,r,i,o){var a=0,u,l=e.length,c=o.length;for(;a<c;++a){if(u=e[a]){u.__data__=o[a];r[a]=u}else{n[a]=new k(t,o[a])}}for(;a<l;++a){if(u=e[a]){i[a]=u}}}function P(t,e,n,r,i,o,a){var u,l,c={},s=e.length,f=o.length,h=new Array(s),v;for(u=0;u<s;++u){if(l=e[u]){h[u]=v=E+a.call(l,l.__data__,u,e);if(v in c){i[u]=l}else{c[v]=l}}}for(u=0;u<f;++u){v=E+a.call(t,o[u],u,o);if(l=c[v]){r[u]=l;l.__data__=o[u];c[v]=null}else{n[u]=new k(t,o[u])}}for(u=0;u<s;++u){if((l=e[u])&&c[h[u]]===l){i[u]=l}}}function L(t,e){if(!t){v=new Array(this.size()),c=-1;this.each(function(t){v[++c]=t});return v}var n=e?P:N,r=this._parents,i=this._groups;if(typeof t!=="function")t=j(t);for(var o=i.length,a=new Array(o),u=new Array(o),l=new Array(o),c=0;c<o;++c){var s=r[c],f=i[c],h=f.length,v=t.call(s,s&&s.__data__,c,r),p=v.length,d=u[c]=new Array(p),y=a[c]=new Array(p),_=l[c]=new Array(h);n(s,f,d,y,_,v,e);for(var g=0,m=0,b,w;g<p;++g){if(b=d[g]){if(g>=m)m=g+1;while(!(w=y[m])&&++m<p){}b._next=w||null}}}a=new $t(a,r);a._enter=u;a._exit=l;return a}function C(){return new $t(this._exit||this._groups.map(O),this._parents)}function T(t,e,n){var r=this.enter(),i=this,o=this.exit();r=typeof t==="function"?t(r):r.append(t+"");if(e!=null)i=e(i);if(n==null)o.remove();else n(o);return r&&i?r.merge(i).order():i}function M(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u){for(var l=e[u],c=n[u],s=l.length,f=a[u]=new Array(s),h,v=0;v<s;++v){if(h=l[v]||c[v]){f[v]=h}}}for(;u<r;++u){a[u]=e[u]}return new $t(a,this._parents)}function H(){for(var t=this._groups,e=-1,n=t.length;++e<n;){for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;){if(a=r[i]){if(o&&a.compareDocumentPosition(o)^4)o.parentNode.insertBefore(a,o);o=a}}}return this}function F(n){if(!n)n=D;function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a=e[o],u=a.length,l=i[o]=new Array(u),c,s=0;s<u;++s){if(c=a[s]){l[s]=c}}l.sort(t)}return new $t(i,this._parents).order()}function D(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function R(){var t=arguments[0];arguments[0]=this;t.apply(null,arguments);return this}function z(){var t=new Array(this.size()),e=-1;this.each(function(){t[++e]=this});return t}function B(){for(var t=this._groups,e=0,n=t.length;e<n;++e){for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}}return null}function I(){var t=0;this.each(function(){++t});return t}function q(){return!this.node()}function V(t){for(var e=this._groups,n=0,r=e.length;n<r;++n){for(var i=e[n],o=0,a=i.length,u;o<a;++o){if(u=i[o])t.call(u,u.__data__,o,i)}}return this}function W(t){return function(){this.removeAttribute(t)}}function U(t){return function(){this.removeAttributeNS(t.space,t.local)}}function G(t,e){return function(){this.setAttribute(t,e)}}function K(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function X(e,n){return function(){var t=n.apply(this,arguments);if(t==null)this.removeAttribute(e);else this.setAttribute(e,t)}}function Y(e,n){return function(){var t=n.apply(this,arguments);if(t==null)this.removeAttributeNS(e.space,e.local);else this.setAttributeNS(e.space,e.local,t)}}function $(t,e){var n=v(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?U:W:typeof e==="function"?n.local?Y:X:n.local?K:G)(n,e))}function J(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Q(t){return function(){this.style.removeProperty(t)}}function Z(t,e,n){return function(){this.style.setProperty(t,e,n)}}function tt(e,n,r){return function(){var t=n.apply(this,arguments);if(t==null)this.style.removeProperty(e);else this.style.setProperty(e,t,r)}}function et(t,e,n){return arguments.length>1?this.each((e==null?Q:typeof e==="function"?tt:Z)(t,e,n==null?"":n)):nt(this.node(),t)}function nt(t,e){return t.style.getPropertyValue(e)||J(t).getComputedStyle(t,null).getPropertyValue(e)}function rt(t){return function(){delete this[t]}}function it(t,e){return function(){this[t]=e}}function ot(e,n){return function(){var t=n.apply(this,arguments);if(t==null)delete this[e];else this[e]=t}}function at(t,e){return arguments.length>1?this.each((e==null?rt:typeof e==="function"?ot:it)(t,e)):this.node()[t]}function ut(t){return t.trim().split(/^|\s+/)}function lt(t){return t.classList||new ct(t)}function ct(t){this._node=t;this._names=ut(t.getAttribute("class")||"")}ct.prototype={add:function t(e){var n=this._names.indexOf(e);if(n<0){this._names.push(e);this._node.setAttribute("class",this._names.join(" "))}},remove:function t(e){var n=this._names.indexOf(e);if(n>=0){this._names.splice(n,1);this._node.setAttribute("class",this._names.join(" "))}},contains:function t(e){return this._names.indexOf(e)>=0}};function st(t,e){var n=lt(t),r=-1,i=e.length;while(++r<i){n.add(e[r])}}function ft(t,e){var n=lt(t),r=-1,i=e.length;while(++r<i){n.remove(e[r])}}function ht(t){return function(){st(this,t)}}function vt(t){return function(){ft(this,t)}}function pt(t,e){return function(){(e.apply(this,arguments)?st:ft)(this,t)}}function dt(t,e){var n=ut(t+"");if(arguments.length<2){var r=lt(this.node()),i=-1,o=n.length;while(++i<o){if(!r.contains(n[i]))return false}return true}return this.each((typeof e==="function"?pt:e?ht:vt)(n,e))}function yt(){this.textContent=""}function _t(t){return function(){this.textContent=t}}function gt(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function mt(t){return arguments.length?this.each(t==null?yt:(typeof t==="function"?gt:_t)(t)):this.node().textContent}function bt(){this.innerHTML=""}function wt(t){return function(){this.innerHTML=t}}function St(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function xt(t){return arguments.length?this.each(t==null?bt:(typeof t==="function"?St:wt)(t)):this.node().innerHTML}function Ot(){if(this.nextSibling)this.parentNode.appendChild(this)}function At(){return this.each(Ot)}function kt(){if(this.previousSibling)this.parentNode.insertBefore(this,this.parentNode.firstChild)}function jt(){return this.each(kt)}function Et(t){var e=typeof t==="function"?t:y(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Nt(){return null}function Pt(t,e){var n=typeof t==="function"?t:y(t),r=e==null?Nt:typeof e==="function"?e:_(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Lt(){var t=this.parentNode;if(t)t.removeChild(this)}function Ct(){return this.each(Lt)}function Tt(){return this.parentNode.insertBefore(this.cloneNode(false),this.nextSibling)}function Mt(){return this.parentNode.insertBefore(this.cloneNode(true),this.nextSibling)}function Ht(t){return this.select(t?Mt:Tt)}function Ft(t){return arguments.length?this.property("__data__",t):this.node().__data__}var Dt={};if(typeof document!=="undefined"){var Rt=document.documentElement;if(!("onmouseenter"in Rt)){Dt={mouseenter:"mouseover",mouseleave:"mouseout"}}}function zt(n,t,e){n=Bt(n,t,e);return function(t){var e=t.relatedTarget;if(!e||e!==this&&!(e.compareDocumentPosition(this)&8)){n.call(this,t)}}}function Bt(e,n,r){return function(t){try{e.call(this,this.__data__,n,r)}finally{}}}function It(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(n>=0)e=t.slice(n+1),t=t.slice(0,n);return{type:t,name:e}})}function qt(o){return function(){var t=this.__on;if(!t)return;for(var e=0,n=-1,r=t.length,i;e<r;++e){if(i=t[e],(!o.type||i.type===o.type)&&i.name===o.name){this.removeEventListener(i.type,i.listener,i.capture)}else{t[++n]=i}}if(++n)t.length=n;else delete this.__on}}function Vt(l,c,s){var f=Dt.hasOwnProperty(l.type)?zt:Bt;return function(t,e,n){var r=this.__on,i,o=f(c,e,n);if(r)for(var a=0,u=r.length;a<u;++a){if((i=r[a]).type===l.type&&i.name===l.name){this.removeEventListener(i.type,i.listener,i.capture);this.addEventListener(i.type,i.listener=o,i.capture=s);i.value=c;return}}this.addEventListener(l.type,o,s);i={type:l.type,name:l.name,value:c,listener:o,capture:s};if(!r)this.__on=[i];else r.push(i)}}function Wt(t,e,n){var r=It(t+""),i,o=r.length,a;if(arguments.length<2){var u=this.node().__on;if(u)for(var l=0,c=u.length,s;l<c;++l){for(i=0,s=u[l];i<o;++i){if((a=r[i]).type===s.type&&a.name===s.name){return s.value}}}return}u=e?Vt:qt;if(n==null)n=false;for(i=0;i<o;++i){this.each(u(r[i],e,n))}return this}function Ut(t,e,n){var r=J(t),i=r.CustomEvent;if(typeof i==="function"){i=new i(e,n)}else{i=r.document.createEvent("Event");if(n)i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail;else i.initEvent(e,false,false)}t.dispatchEvent(i)}function Gt(t,e){return function(){return Ut(this,t,e)}}function Kt(t,e){return function(){return Ut(this,t,e.apply(this,arguments))}}function Xt(t,e){return this.each((typeof e==="function"?Kt:Gt)(t,e))}var Yt=[null];function $t(t,e){this._groups=t;this._parents=e}function Jt(){return new $t([[document.documentElement]],Yt)}$t.prototype=Jt.prototype={constructor:$t,select:g,selectAll:w,filter:x,data:L,enter:A,exit:C,join:T,merge:M,order:H,sort:F,call:R,nodes:z,node:B,size:I,empty:q,each:V,attr:$,style:et,property:at,classed:dt,text:mt,html:xt,raise:At,lower:jt,append:Et,insert:Pt,remove:Ct,clone:Ht,datum:Ft,on:Wt,dispatch:Xt};function Qt(t){return typeof t==="string"?new $t([[document.querySelector(t)]],[document.documentElement]):new $t([[t]],Yt)}function Zt(e,n){if(n===void 0)return function(t){return t[e]};return function(t){return t[e]===void 0?n:t[e]}}function te(t){if(typeof Symbol==="function"&&n(Symbol.iterator)==="symbol"){te=function t(e){return n(e)}}else{te=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)}}return te(t)}function ee(t){return t&&te(t)==="object"&&(typeof window==="undefined"||t!==window&&t!==window.document&&!(t instanceof Element))&&!Array.isArray(t)?true:false}function ne(t){if(typeof window==="undefined")return true;else return t!==window&&t!==document}function re(){var r=arguments;var i=arguments.length<=0?undefined:arguments[0];var t=function t(e){var n=e<0||r.length<=e?undefined:r[e];Object.keys(n).forEach(function(t){var e=n[t];if(ee(e)&&ne(e)){if(i.hasOwnProperty(t)&&ee(i[t]))i[t]=re({},i[t],e);else i[t]=re({},e)}else if(Array.isArray(e))i[t]=e.slice();else i[t]=e})};for(var e=1;e<arguments.length;e++){t(e)}return i}function ie(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function oe(){return"".concat(ie()).concat(ie(),"-").concat(ie(),"-").concat(ie(),"-").concat(ie(),"-").concat(ie()).concat(ie()).concat(ie())}var ae="D3PLUS-COMMON-RESET";function ue(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function le(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(t,r.key,r)}}function ce(t,e,n){if(e)le(t.prototype,e);if(n)le(t,n);return t}function se(t,e){if(ee(t)){for(var n in t){if({}.hasOwnProperty.call(t,n)&&!n.startsWith("_")){var r=e&&ee(e)?e[n]:undefined;if(t[n]===ae){t[n]=r}else if(ee(t[n])){se(t[n],r)}}}}}var fe=function(){function t(){ue(this,t);this._locale="en-US";this._on={};this._uuid=oe()}ce(t,[{key:"config",value:function t(e){if(!this._configDefault){var t={};for(var n in this.__proto__){if(n.indexOf("_")!==0&&!["config","constructor","render"].includes(n)){var r=this[n]();t[n]=ee(r)?re({},r):r}}this._configDefault=t}if(arguments.length){for(var i in e){if({}.hasOwnProperty.call(e,i)&&i in this){var o=e[i];if(o===ae){if(i==="on")this._on=this._configDefault[i];else this[i](this._configDefault[i])}else{se(o,this._configDefault[i]);this[i](o)}}}return this}else{var a={};for(var u in this.__proto__){if(u.indexOf("_")!==0&&!["config","constructor","render"].includes(u))a[u]=this[u]()}return a}}},{key:"locale",value:function t(e){return arguments.length?(this._locale=e,this):this._locale}},{key:"on",value:function t(e,n){return arguments.length===2?(this._on[e]=n,this):arguments.length?typeof e==="string"?this._on[e]:(this._on=Object.assign({},this._on,e),this):this._on}}]);return t}();function he(e){return function t(){return e}}function ve(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};for(var n in e){if({}.hasOwnProperty.call(e,n))t.style(n,e[n])}}var pe=function(t){a(e,t);function e(){var t;r(this,e);t=s(this,u(e).call(this));t._buttonStyle={"font-family":"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif","font-size":"14px",margin:"0 5px"};t._data=[];t._text=Zt("text");t._value=Zt("value");return t}o(e,[{key:"render",value:function t(){var n=this;if(this._container===void 0)this.container(Qt("body").append("div").node());var e=this._container.selectAll("div#d3plus-Form-".concat(this._uuid)).data([0]);var r=this._container.node().tagName.toLowerCase()==="foreignobject";e=e.enter().append(r?"xhtml:div":"div").attr("id","d3plus-Form-".concat(this._uuid)).attr("class","d3plus-Form d3plus-Form-Button").merge(e);var i=e.selectAll("button").data(this._data,function(t,e){return n._value(t,e)});i.exit().remove();i=i.enter().append("button").attr("class","d3plus-Button").attr("type","button").merge(i).call(ve,this._buttonStyle).html(function(t,e){return n._text(t,e)});for(var o in this._on){if({}.hasOwnProperty.call(this._on,o))i.on(o,this._on[o])}return this}},{key:"buttonStyle",value:function t(e){return arguments.length?(this._buttonStyle=e,this):this._buttonStyle}},{key:"container",value:function t(e){return arguments.length?(this._container=Qt(e),this):this._container}},{key:"data",value:function t(e){return arguments.length?(this._data=e,this):this._data}},{key:"text",value:function t(e){return arguments.length?(this._text=typeof e==="function"?e:he(e),this):this._text}},{key:"value",value:function t(e){return arguments.length?(this._value=e,this):this._value}}]);return e}(fe);var de=function(t){a(e,t);function e(){var t;r(this,e);t=s(this,u(e).call(this));t._labelStyle={"font-family":"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif","font-size":"14px","padding-right":"5px"};t._legendStyle={"font-family":"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif","font-size":"14px","padding-right":"5px"};t._options=[];t._radioStyle={"margin-right":"10px"};t._text=Zt("text");t._value=Zt("value");return t}o(e,[{key:"render",value:function t(){var n=this;if(this._container===void 0)this.container(Qt("body").append("div").node());var o=this;var e=this._container.selectAll("div#d3plus-Form-".concat(this._uuid)).data([0]);var r=this._container.node().tagName.toLowerCase()==="foreignobject";e=e.enter().append(r?"xhtml:div":"div").attr("id","d3plus-Form-".concat(this._uuid)).attr("class","d3plus-Form d3plus-Form-Radio").merge(e);var a=e.selectAll("label").data(this._options,function(t,e){return n._value(t,e)});a.exit().each(function(){Qt(this.nextSibling).remove()}).remove();a=a.enter().append("label").attr("class","d3plus-Label").attr("for",function(t,e){return"".concat(n._uuid,"-").concat(n._value(t,e))}).each(function(t,e){var n=document.createElement("input");n.setAttribute("type","radio");n.setAttribute("name","d3plus-Radio-".concat(o._uuid));n.setAttribute("id","".concat(o._uuid,"-").concat(o._value(t,e)));n.setAttribute("value",o._value(t,e));this.parentNode.insertBefore(n,this.nextSibling)}).merge(a).call(ve,this._labelStyle).html(function(t,e){return n._text(t,e)}).each(function(t,e){var n=o._checked===void 0?!e:"".concat(o._value(t,e))==="".concat(o._checked);Qt(this).classed("active",n).style("cursor",n?"default":"pointer");var r=Qt(this.nextSibling).property("checked",n).call(ve,o._radioStyle).style("cursor",n?"default":"pointer").on("change.d3plus",function(){o.checked(this.value);a.each(function(t,e){var n="".concat(o._value(t,e))==="".concat(o._checked);Qt(this).classed("active",n).style("cursor",n?"default":"pointer");Qt(this.nextSibling).style("cursor",n?"default":"pointer")})});for(var i in o._on){if({}.hasOwnProperty.call(o._on,i))r.on(i,o._on[i])}});var i=e.selectAll("legend#d3plus-Legend-".concat(this._uuid)).data(this._legend?[0]:[]);i.exit().remove();i.enter().insert("legend",".d3plus-Label").attr("id","d3plus-Legend-".concat(this._uuid)).attr("class","d3plus-Legend").merge(i).call(ve,this._legendStyle).html(this._legend);return this}},{key:"checked",value:function t(e){return arguments.length?(this._checked=e,this):this._checked}},{key:"container",value:function t(e){return arguments.length?(this._container=Qt(e),this):this._container}},{key:"labelStyle",value:function t(e){return arguments.length?(this._labelStyle=e,this):this._labelStyle}},{key:"legend",value:function t(e){return arguments.length?(this._legend=e,this):this._legend}},{key:"legendStyle",value:function t(e){return arguments.length?(this._legendStyle=e,this):this._legendStyle}},{key:"options",value:function t(e){return arguments.length?(this._options=e,this):this._options}},{key:"radioStyle",value:function t(e){return arguments.length?(this._radioStyle=e,this):this._radioStyle}},{key:"text",value:function t(e){return arguments.length?(this._text=typeof e==="function"?e:he(e),this):this._text}},{key:"value",value:function t(e){return arguments.length?(this._value=e,this):this._value}}]);return e}(fe);var ye=function(t){a(e,t);function e(){var t;r(this,e);t=s(this,u(e).call(this));t._labelStyle={"font-family":"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif","font-size":"14px","margin-right":"5px"};t._options=[];t._optionStyle={"font-family":"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif","font-size":"14px"};t._selectStyle={background:"#fafafa",border:"1px solid #ccc","border-radius":"0","font-family":"'Roboto', 'Helvetica Neue', 'HelveticaNeue', 'Helvetica', 'Arial', sans-serif","font-size":"14px",outline:"0",padding:"3px 5px 4px"};t._text=Zt("text");t._value=Zt("value");return t}o(e,[{key:"render",value:function t(){var n=this;if(this._container===void 0)this.container(o("body").append("div").node());var e=this;var r=this._container.selectAll("div#d3plus-Form-".concat(this._uuid)).data([0]);var i=this._container.node().tagName.toLowerCase()==="foreignobject";r=r.enter().append(i?"xhtml:div":"div").attr("id","d3plus-Form-".concat(this._uuid)).attr("class","d3plus-Form d3plus-Form-Select").merge(r);var o=r.selectAll("select#d3plus-Select-".concat(this._uuid)).data([0]);o=o.enter().append("select").attr("id","d3plus-Select-".concat(this._uuid)).attr("class","d3plus-Select").merge(o).call(ve,this._selectStyle).on("change.d3plus",function(){e.selected(this.value)});for(var a in this._on){if({}.hasOwnProperty.call(this._on,a))o.on(a,this._on[a])}var u=o.selectAll("option").data(this._options,function(t,e){return n._value(t,e)});u.exit().remove();u.enter().append("option").attr("class","d3plus-Option").merge(u).call(ve,this._optionStyle).attr("value",function(t,e){return n._value(t,e)}).html(function(t,e){return n._text(t,e)}).property("selected",function(t,e){return n._selected===void 0?!e:"".concat(n._value(t,e))==="".concat(n._selected)});var l=r.selectAll("label#d3plus-Label-".concat(this._uuid)).data(this._label?[0]:[]);l.exit().remove();l.enter().insert("label","#d3plus-Select-".concat(this._uuid)).attr("id","d3plus-Label-".concat(this._uuid)).attr("class","d3plus-Label").attr("for","d3plus-Select-".concat(this._uuid)).merge(l).call(ve,this._labelStyle).html(this._label);return this}},{key:"container",value:function t(e){return arguments.length?(this._container=Qt(e),this):this._container}},{key:"label",value:function t(e){return arguments.length?(this._label=e,this):this._label}},{key:"labelStyle",value:function t(e){return arguments.length?(this._labelStyle=e,this):this._labelStyle}},{key:"options",value:function t(e){return arguments.length?(this._options=e,this):this._options}},{key:"optionStyle",value:function t(e){return arguments.length?(this._optionStyle=e,this):this._optionStyle}},{key:"selected",value:function t(e){return arguments.length?(this._selected=e,this):this._selected}},{key:"selectStyle",value:function t(e){return arguments.length?(this._selectStyle=e,this):this._selectStyle}},{key:"text",value:function t(e){return arguments.length?(this._text=typeof e==="function"?e:he(e),this):this._text}},{key:"value",value:function t(e){return arguments.length?(this._value=e,this):this._value}}]);return e}(fe);t.Button=pe;t.Radio=de;t.Select=ye;Object.defineProperty(t,"__esModule",{value:true})});(function(t){typeof define==="function"&&define.amd?define(t):t()})(function(){"use strict";var t=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}var n="object";var r=function(t){return t&&t.Math==Math&&t};var f=r(typeof globalThis==n&&globalThis)||r(typeof window==n&&window)||r(typeof self==n&&self)||r(typeof t==n&&t)||Function("return this")();var i=function(t){try{return!!t()}catch(t){return true}};var v=!i(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7});var o={}.propertyIsEnumerable;var a=Object.getOwnPropertyDescriptor;var u=a&&!o.call({1:2},1);var l=u?function t(e){var n=a(this,e);return!!n&&n.enumerable}:o;var p={f:l};var c=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}};var s={}.toString;var h=function(t){return s.call(t).slice(8,-1)};var d="".split;var b=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return h(t)=="String"?d.call(t,""):Object(t)}:Object;var y=function(t){if(t==undefined)throw TypeError("Can't call method on "+t);return t};var _=function(t){return b(y(t))};var g=function(t){return typeof t==="object"?t!==null:typeof t==="function"};var m=function(t,e){if(!g(t))return t;var n,r;if(e&&typeof(n=t.toString)=="function"&&!g(r=n.call(t)))return r;if(typeof(n=t.valueOf)=="function"&&!g(r=n.call(t)))return r;if(!e&&typeof(n=t.toString)=="function"&&!g(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")};var w={}.hasOwnProperty;var S=function(t,e){return w.call(t,e)};var x=f.document;var O=g(x)&&g(x.createElement);var A=function(t){return O?x.createElement(t):{}};var k=!v&&!i(function(){return Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a!=7});var j=Object.getOwnPropertyDescriptor;var E=v?j:function t(e,n){e=_(e);n=m(n,true);if(k)try{return j(e,n)}catch(t){}if(S(e,n))return c(!p.f.call(e,n),e[n])};var N={f:E};var P=function(t){if(!g(t)){throw TypeError(String(t)+" is not an object")}return t};var L=Object.defineProperty;var C=v?L:function t(e,n,r){P(e);n=m(n,true);P(r);if(k)try{return L(e,n,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");if("value"in r)e[n]=r.value;return e};var T={f:C};var M=v?function(t,e,n){return T.f(t,e,c(1,n))}:function(t,e,n){t[e]=n;return t};var H=function(e,n){try{M(f,e,n)}catch(t){f[e]=n}return n};var F=e(function(t){var e="__core-js_shared__";var n=f[e]||H(e,{});(t.exports=function(t,e){return n[t]||(n[t]=e!==undefined?e:{})})("versions",[]).push({version:"3.1.3",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})});var D=F("native-function-to-string",Function.toString);var R=f.WeakMap;var z=typeof R==="function"&&/native code/.test(D.call(R));var B=0;var I=Math.random();var q=function(t){return"Symbol("+String(t===undefined?"":t)+")_"+(++B+I).toString(36)};var V=F("keys");var W=function(t){return V[t]||(V[t]=q(t))};var U={};var G=f.WeakMap;var K,X,Y;var $=function(t){return Y(t)?X(t):K(t,{})};var J=function(n){return function(t){var e;if(!g(t)||(e=X(t)).type!==n){throw TypeError("Incompatible receiver, "+n+" required")}return e}};if(z){var Q=new G;var Z=Q.get;var tt=Q.has;var et=Q.set;K=function(t,e){et.call(Q,t,e);return e};X=function(t){return Z.call(Q,t)||{}};Y=function(t){return tt.call(Q,t)}}else{var nt=W("state");U[nt]=true;K=function(t,e){M(t,nt,e);return e};X=function(t){return S(t,nt)?t[nt]:{}};Y=function(t){return S(t,nt)}}var rt={set:K,get:X,has:Y,enforce:$,getterFor:J};var it=e(function(t){var e=rt.get;var u=rt.enforce;var l=String(D).split("toString");F("inspectSource",function(t){return D.call(t)});(t.exports=function(t,e,n,r){var i=r?!!r.unsafe:false;var o=r?!!r.enumerable:false;var a=r?!!r.noTargetGet:false;if(typeof n=="function"){if(typeof e=="string"&&!S(n,"name"))M(n,"name",e);u(n).source=l.join(typeof e=="string"?e:"")}if(t===f){if(o)t[e]=n;else H(e,n);return}else if(!i){delete t[e]}else if(!a&&t[e]){o=true}if(o)t[e]=n;else M(t,e,n)})(Function.prototype,"toString",function t(){return typeof this=="function"&&e(this).source||D.call(this)})});var ot=f;var at=function(t){return typeof t=="function"?t:undefined};var ut=function(t,e){return arguments.length<2?at(ot[t])||at(f[t]):ot[t]&&ot[t][e]||f[t]&&f[t][e]};var lt=Math.ceil;var ct=Math.floor;var st=function(t){return isNaN(t=+t)?0:(t>0?ct:lt)(t)};var ft=Math.min;var ht=function(t){return t>0?ft(st(t),9007199254740991):0};var vt=Math.max;var pt=Math.min;var dt=function(t,e){var n=st(t);return n<0?vt(n+e,0):pt(n,e)};var yt=function(u){return function(t,e,n){var r=_(t);var i=ht(r.length);var o=dt(n,i);var a;if(u&&e!=e)while(i>o){a=r[o++];if(a!=a)return true}else for(;i>o;o++){if((u||o in r)&&r[o]===e)return u||o||0}return!u&&-1}};var _t={includes:yt(true),indexOf:yt(false)};var gt=_t.indexOf;var mt=function(t,e){var n=_(t);var r=0;var i=[];var o;for(o in n)!S(U,o)&&S(n,o)&&i.push(o);while(e.length>r)if(S(n,o=e[r++])){~gt(i,o)||i.push(o)}return i};var bt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var wt=bt.concat("length","prototype");var St=Object.getOwnPropertyNames||function t(e){return mt(e,wt)};var xt={f:St};var Ot=Object.getOwnPropertySymbols;var At={f:Ot};var kt=ut("Reflect","ownKeys")||function t(e){var n=xt.f(P(e));var r=At.f;return r?n.concat(r(e)):n};var jt=function(t,e){var n=kt(e);var r=T.f;var i=N.f;for(var o=0;o<n.length;o++){var a=n[o];if(!S(t,a))r(t,a,i(e,a))}};var Et=/#|\.prototype\./;var Nt=function(t,e){var n=Lt[Pt(t)];return n==Tt?true:n==Ct?false:typeof e=="function"?i(e):!!e};var Pt=Nt.normalize=function(t){return String(t).replace(Et,".").toLowerCase()};var Lt=Nt.data={};var Ct=Nt.NATIVE="N";var Tt=Nt.POLYFILL="P";var Mt=Nt;var Ht=N.f;var Ft=function(t,e){var n=t.target;var r=t.global;var i=t.stat;var o,a,u,l,c,s;if(r){a=f}else if(i){a=f[n]||H(n,{})}else{a=(f[n]||{}).prototype}if(a)for(u in e){c=e[u];if(t.noTargetGet){s=Ht(a,u);l=s&&s.value}else l=a[u];o=Mt(r?u:n+(i?".":"#")+u,t.forced);if(!o&&l!==undefined){if(typeof c===typeof l)continue;jt(c,l)}if(t.sham||l&&l.sham){M(c,"sham",true)}it(a,u,c,t)}};var Dt=function(t){if(typeof t!="function"){throw TypeError(String(t)+" is not a function")}return t};var Rt=function(r,i,t){Dt(r);if(i===undefined)return r;switch(t){case 0:return function(){return r.call(i)};case 1:return function(t){return r.call(i,t)};case 2:return function(t,e){return r.call(i,t,e)};case 3:return function(t,e,n){return r.call(i,t,e,n)}}return function(){return r.apply(i,arguments)}};var zt=function(t){return Object(y(t))};var Bt=Array.isArray||function t(e){return h(e)=="Array"};var It=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())});var qt=f.Symbol;var Vt=F("wks");var Wt=function(t){return Vt[t]||(Vt[t]=It&&qt[t]||(It?qt:q)("Symbol."+t))};var Ut=Wt("species");var Gt=function(t,e){var n;if(Bt(t)){n=t.constructor;if(typeof n=="function"&&(n===Array||Bt(n.prototype)))n=undefined;else if(g(n)){n=n[Ut];if(n===null)n=undefined}}return new(n===undefined?Array:n)(e===0?0:e)};var Kt=[].push;var Xt=function(v){var p=v==1;var d=v==2;var y=v==3;var _=v==4;var g=v==6;var m=v==5||g;return function(t,e,n,r){var i=zt(t);var o=b(i);var a=Rt(e,n,3);var u=ht(o.length);var l=0;var c=r||Gt;var s=p?c(t,u):d?c(t,0):undefined;var f,h;for(;u>l;l++)if(m||l in o){f=o[l];h=a(f,l,i);if(v){if(p)s[l]=h;else if(h)switch(v){case 3:return true;case 5:return f;case 6:return l;case 2:Kt.call(s,f)}else if(_)return false}}return g?-1:y||_?_:s}};var Yt={forEach:Xt(0),map:Xt(1),filter:Xt(2),some:Xt(3),every:Xt(4),find:Xt(5),findIndex:Xt(6)};var $t=Object.keys||function t(e){return mt(e,bt)};var Jt=v?Object.defineProperties:function t(e,n){P(e);var r=$t(n);var i=r.length;var o=0;var a;while(i>o)T.f(e,a=r[o++],n[a]);return e};var Qt=ut("document","documentElement");var Zt=W("IE_PROTO");var te="prototype";var ee=function(){};var ne=function(){var t=A("iframe");var e=bt.length;var n="<";var r="script";var i=">";var o="java"+r+":";var a;t.style.display="none";Qt.appendChild(t);t.src=String(o);a=t.contentWindow.document;a.open();a.write(n+r+i+"document.F=Object"+n+"/"+r+i);a.close();ne=a.F;while(e--)delete ne[te][bt[e]];return ne()};var re=Object.create||function t(e,n){var r;if(e!==null){ee[te]=P(e);r=new ee;ee[te]=null;r[Zt]=e}else r=ne();return n===undefined?r:Jt(r,n)};U[Zt]=true;var ie=Wt("unscopables");var oe=Array.prototype;if(oe[ie]==undefined){M(oe,ie,re(null))}var ae=function(t){oe[ie][t]=true};var ue=Yt.find;var le="find";var ce=true;if(le in[])Array(1)[le](function(){ce=false});Ft({target:"Array",proto:true,forced:ce},{find:function t(e){return ue(this,e,arguments.length>1?arguments[1]:undefined)}});ae(le);var se=_t.includes;Ft({target:"Array",proto:true},{includes:function t(e){return se(this,e,arguments.length>1?arguments[1]:undefined)}});ae("includes");var fe=Object.assign;var he=!fe||i(function(){var t={};var e={};var n=Symbol();var r="abcdefghijklmnopqrst";t[n]=7;r.split("").forEach(function(t){e[t]=t});return fe({},t)[n]!=7||$t(fe({},e)).join("")!=r})?function t(e,n){var r=zt(e);var i=arguments.length;var o=1;var a=At.f;var u=p.f;while(i>o){var l=b(arguments[o++]);var c=a?$t(l).concat(a(l)):$t(l);var s=c.length;var f=0;var h;while(s>f){h=c[f++];if(!v||u.call(l,h))r[h]=l[h]}}return r}:fe;Ft({target:"Object",stat:true,forced:Object.assign!==he},{assign:he});var ve=Wt("match");var pe=function(t){var e;return g(t)&&((e=t[ve])!==undefined?!!e:h(t)=="RegExp")};var de=function(t){if(pe(t)){throw TypeError("The method doesn't accept regular expressions")}return t};var ye=Wt("match");var _e=function(e){var n=/./;try{"/./"[e](n)}catch(t){try{n[ye]=false;return"/./"[e](n)}catch(t){}}return false};var ge="".startsWith;var me=Math.min;Ft({target:"String",proto:true,forced:!_e("startsWith")},{startsWith:function t(e){var n=String(y(this));de(e);var r=ht(me(arguments.length>1?arguments[1]:undefined,n.length));var i=String(e);return ge?ge.call(n,i,r):n.slice(r,r+i.length)===i}});if(typeof window!=="undefined"){(function(){var r=function(t,e){var n=t.nodeType;if(n===3){e.push(t.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"))}else if(n===1){e.push("<",t.tagName);if(t.hasAttributes()){[].forEach.call(t.attributes,function(t){e.push(" ",t.item.name,"='",t.item.value,"'")})}if(t.hasChildNodes()){e.push(">");[].forEach.call(t.childNodes,function(t){r(t,e)});e.push("</",t.tagName,">")}else{e.push("/>")}}else if(n==8){e.push("\x3c!--",t.nodeValue,"--\x3e")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){var t=[];var e=this.firstChild;while(e){r(e,t);e=e.nextSibling}return t.join("")},set:function(t){while(this.firstChild){this.removeChild(this.firstChild)}try{var e=new DOMParser;e.async=false;var n="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+t+"</svg>";var r=e.parseFromString(n,"text/xml").documentElement;var i=r.firstChild;while(i){this.appendChild(this.ownerDocument.importNode(i,true));i=i.nextSibling}}catch(t){}}});Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}})})()}});