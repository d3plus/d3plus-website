function _slicedToArray(r,t){return _arrayWithHoles(r)||_iterableToArrayLimit(r,t)||_unsupportedIterableToArray(r,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(r,t){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(r)))return;var e=[];var n=true;var o=false;var i=undefined;try{for(var a=r[Symbol.iterator](),u;!(n=(u=a.next()).done);n=true){e.push(u.value);if(t&&e.length===t)break}}catch(r){o=true;i=r}finally{try{if(!n&&a["return"]!=null)a["return"]()}finally{if(o)throw i}}return e}function _arrayWithHoles(r){if(Array.isArray(r))return r}function _classCallCheck(r,t){if(!(r instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(r,n.key,n)}}function _createClass(r,t,e){if(t)_defineProperties(r.prototype,t);if(e)_defineProperties(r,e);return r}function _get(r,t,e){if(typeof Reflect!=="undefined"&&Reflect.get){_get=Reflect.get}else{_get=function r(t,e,n){var o=_superPropBase(t,e);if(!o)return;var i=Object.getOwnPropertyDescriptor(o,e);if(i.get){return i.get.call(n)}return i.value}}return _get(r,t,e||r)}function _superPropBase(r,t){while(!Object.prototype.hasOwnProperty.call(r,t)){r=_getPrototypeOf(r);if(r===null)break}return r}function _inherits(r,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:true,configurable:true}});if(t)_setPrototypeOf(r,t)}function _setPrototypeOf(r,t){_setPrototypeOf=Object.setPrototypeOf||function r(t,e){t.__proto__=e;return t};return _setPrototypeOf(r,t)}function _createSuper(o){var i=_isNativeReflectConstruct();return function r(){var t=_getPrototypeOf(o),e;if(i){var n=_getPrototypeOf(this).constructor;e=Reflect.construct(t,arguments,n)}else{e=t.apply(this,arguments)}return _possibleConstructorReturn(this,e)}}function _possibleConstructorReturn(r,t){if(t&&(_typeof(t)==="object"||typeof t==="function")){return t}return _assertThisInitialized(r)}function _assertThisInitialized(r){if(r===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return r}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(r){return false}}function _getPrototypeOf(r){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function r(t){return t.__proto__||Object.getPrototypeOf(t)};return _getPrototypeOf(r)}function _toConsumableArray(r){return _arrayWithoutHoles(r)||_iterableToArray(r)||_unsupportedIterableToArray(r)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(r,t){if(!r)return;if(typeof r==="string")return _arrayLikeToArray(r,t);var e=Object.prototype.toString.call(r).slice(8,-1);if(e==="Object"&&r.constructor)e=r.constructor.name;if(e==="Map"||e==="Set")return Array.from(r);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return _arrayLikeToArray(r,t)}function _iterableToArray(r){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(r))return Array.from(r)}function _arrayWithoutHoles(r){if(Array.isArray(r))return _arrayLikeToArray(r)}function _arrayLikeToArray(r,t){if(t==null||t>r.length)t=r.length;for(var e=0,n=new Array(t);e<t;e++){n[e]=r[e]}return n}function _typeof(r){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function r(t){return typeof t}}else{_typeof=function r(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return _typeof(r)}
/*
  d3plus-matrix v0.1.0
  Row/column layouts
  Copyright (c) 2020 D3plus - https://d3plus.org
  @license MIT
*/
(function(r){typeof define==="function"&&define.amd?define(r):r()})(function(){"use strict";var r=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function t(r,t,n){return n={path:t,exports:{},require:function r(t,e){return o(t,e===undefined||e===null?n.path:e)}},r(n,n.exports),n.exports}function o(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var e=function r(t){return t&&t.Math==Math&&t};var v=e((typeof globalThis==="undefined"?"undefined":_typeof(globalThis))=="object"&&globalThis)||e((typeof window==="undefined"?"undefined":_typeof(window))=="object"&&window)||e((typeof self==="undefined"?"undefined":_typeof(self))=="object"&&self)||e(_typeof(r)=="object"&&r)||function(){return this}()||Function("return this")();var u=function r(t){try{return!!t()}catch(r){return true}};var p=!u(function(){return Object.defineProperty({},1,{get:function r(){return 7}})[1]!=7});var n={}.propertyIsEnumerable;var i=Object.getOwnPropertyDescriptor;var a=i&&!n.call({1:2},1);var c=a?function r(t){var e=i(this,t);return!!e&&e.enumerable}:n;var h={f:c};var f=function r(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}};var s={}.toString;var l=function r(t){return s.call(t).slice(8,-1)};var d="".split;var b=u(function(){return!Object("z").propertyIsEnumerable(0)})?function(r){return l(r)=="String"?d.call(r,""):Object(r)}:Object;var y=function r(t){if(t==undefined)throw TypeError("Can't call method on "+t);return t};var g=function r(t){return b(y(t))};var m=function r(t){return _typeof(t)==="object"?t!==null:typeof t==="function"};var _=function r(t,e){if(!m(t))return t;var n,o;if(e&&typeof(n=t.toString)=="function"&&!m(o=n.call(t)))return o;if(typeof(n=t.valueOf)=="function"&&!m(o=n.call(t)))return o;if(!e&&typeof(n=t.toString)=="function"&&!m(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")};var w={}.hasOwnProperty;var S=function r(t,e){return w.call(t,e)};var O=v.document;var A=m(O)&&m(O.createElement);var x=function r(t){return A?O.createElement(t):{}};var j=!p&&!u(function(){return Object.defineProperty(x("div"),"a",{get:function r(){return 7}}).a!=7});var P=Object.getOwnPropertyDescriptor;var C=p?P:function r(t,e){t=g(t);e=_(e,true);if(j)try{return P(t,e)}catch(r){}if(S(t,e))return f(!h.f.call(t,e),t[e])};var T={f:C};var E=function r(t){if(!m(t)){throw TypeError(String(t)+" is not an object")}return t};var k=Object.defineProperty;var I=p?k:function r(t,e,n){E(t);e=_(e,true);E(n);if(j)try{return k(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");if("value"in n)t[e]=n.value;return t};var R={f:I};var M=p?function(r,t,e){return R.f(r,t,f(1,e))}:function(r,t,e){r[t]=e;return r};var L=function r(t,e){try{M(v,t,e)}catch(r){v[t]=e}return e};var N="__core-js_shared__";var z=v[N]||L(N,{});var D=z;var W=Function.toString;if(typeof D.inspectSource!="function"){D.inspectSource=function(r){return W.call(r)}}var q=D.inspectSource;var V=v.WeakMap;var F=typeof V==="function"&&/native code/.test(q(V));var H=t(function(r){(r.exports=function(r,t){return D[r]||(D[r]=t!==undefined?t:{})})("versions",[]).push({version:"3.7.0",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})});var G=0;var B=Math.random();var K=function r(t){return"Symbol("+String(t===undefined?"":t)+")_"+(++G+B).toString(36)};var U=H("keys");var X=function r(t){return U[t]||(U[t]=K(t))};var Y={};var $=v.WeakMap;var J,Q,Z;var rr=function r(t){return Z(t)?Q(t):J(t,{})};var tr=function r(e){return function(r){var t;if(!m(r)||(t=Q(r)).type!==e){throw TypeError("Incompatible receiver, "+e+" required")}return t}};if(F){var er=D.state||(D.state=new $);var nr=er.get;var or=er.has;var ir=er.set;J=function r(t,e){e.facade=t;ir.call(er,t,e);return e};Q=function r(t){return nr.call(er,t)||{}};Z=function r(t){return or.call(er,t)}}else{var ar=X("state");Y[ar]=true;J=function r(t,e){e.facade=t;M(t,ar,e);return e};Q=function r(t){return S(t,ar)?t[ar]:{}};Z=function r(t){return S(t,ar)}}var ur={set:J,get:Q,has:Z,enforce:rr,getterFor:tr};var cr=t(function(r){var t=ur.get;var c=ur.enforce;var f=String(String).split("String");(r.exports=function(r,t,e,n){var o=n?!!n.unsafe:false;var i=n?!!n.enumerable:false;var a=n?!!n.noTargetGet:false;var u;if(typeof e=="function"){if(typeof t=="string"&&!S(e,"name")){M(e,"name",t)}u=c(e);if(!u.source){u.source=f.join(typeof t=="string"?t:"")}}if(r===v){if(i)r[t]=e;else L(t,e);return}else if(!o){delete r[t]}else if(!a&&r[t]){i=true}if(i)r[t]=e;else M(r,t,e)})(Function.prototype,"toString",function r(){return typeof this=="function"&&t(this).source||q(this)})});var fr=v;var sr=function r(t){return typeof t=="function"?t:undefined};var lr=function r(t,e){return arguments.length<2?sr(fr[t])||sr(v[t]):fr[t]&&fr[t][e]||v[t]&&v[t][e]};var vr=Math.ceil;var pr=Math.floor;var hr=function r(t){return isNaN(t=+t)?0:(t>0?pr:vr)(t)};var dr=Math.min;var yr=function r(t){return t>0?dr(hr(t),9007199254740991):0};var gr=Math.max;var mr=Math.min;var _r=function r(t,e){var n=hr(t);return n<0?gr(n+e,0):mr(n,e)};var br=function r(u){return function(r,t,e){var n=g(r);var o=yr(n.length);var i=_r(e,o);var a;if(u&&t!=t)while(o>i){a=n[i++];if(a!=a)return true}else for(;o>i;i++){if((u||i in n)&&n[i]===t)return u||i||0}return!u&&-1}};var wr={includes:br(true),indexOf:br(false)};var Sr=wr.indexOf;var Or=function r(t,e){var n=g(t);var o=0;var i=[];var a;for(a in n){!S(Y,a)&&S(n,a)&&i.push(a)}while(e.length>o){if(S(n,a=e[o++])){~Sr(i,a)||i.push(a)}}return i};var Ar=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var xr=Ar.concat("length","prototype");var jr=Object.getOwnPropertyNames||function r(t){return Or(t,xr)};var Pr={f:jr};var Cr=Object.getOwnPropertySymbols;var Tr={f:Cr};var Er=lr("Reflect","ownKeys")||function r(t){var e=Pr.f(E(t));var n=Tr.f;return n?e.concat(n(t)):e};var kr=function r(t,e){var n=Er(e);var o=R.f;var i=T.f;for(var a=0;a<n.length;a++){var u=n[a];if(!S(t,u))o(t,u,i(e,u))}};var Ir=/#|\.prototype\./;var Rr=function r(t,e){var n=Lr[Mr(t)];return n==zr?true:n==Nr?false:typeof e=="function"?u(e):!!e};var Mr=Rr.normalize=function(r){return String(r).replace(Ir,".").toLowerCase()};var Lr=Rr.data={};var Nr=Rr.NATIVE="N";var zr=Rr.POLYFILL="P";var Dr=Rr;var Wr=T.f;var qr=function r(t,e){var n=t.target;var o=t.global;var i=t.stat;var a,u,c,f,s,l;if(o){u=v}else if(i){u=v[n]||L(n,{})}else{u=(v[n]||{}).prototype}if(u)for(c in e){s=e[c];if(t.noTargetGet){l=Wr(u,c);f=l&&l.value}else f=u[c];a=Dr(o?c:n+(i?".":"#")+c,t.forced);if(!a&&f!==undefined){if(_typeof(s)===_typeof(f))continue;kr(s,f)}if(t.sham||f&&f.sham){M(s,"sham",true)}cr(u,c,s,t)}};var Vr=function r(t){if(typeof t!="function"){throw TypeError(String(t)+" is not a function")}return t};var Fr=function r(n,o,t){Vr(n);if(o===undefined)return n;switch(t){case 0:return function(){return n.call(o)};case 1:return function(r){return n.call(o,r)};case 2:return function(r,t){return n.call(o,r,t)};case 3:return function(r,t,e){return n.call(o,r,t,e)}}return function(){return n.apply(o,arguments)}};var Hr=function r(t){return Object(y(t))};var Gr=Array.isArray||function r(t){return l(t)=="Array"};var Br=!!Object.getOwnPropertySymbols&&!u(function(){return!String(Symbol())});var Kr=Br&&!Symbol.sham&&_typeof(Symbol.iterator)=="symbol";var Ur=H("wks");var Xr=v.Symbol;var Yr=Kr?Xr:Xr&&Xr.withoutSetter||K;var $r=function r(t){if(!S(Ur,t)){if(Br&&S(Xr,t))Ur[t]=Xr[t];else Ur[t]=Yr("Symbol."+t)}return Ur[t]};var Jr=$r("species");var Qr=function r(t,e){var n;if(Gr(t)){n=t.constructor;if(typeof n=="function"&&(n===Array||Gr(n.prototype)))n=undefined;else if(m(n)){n=n[Jr];if(n===null)n=undefined}}return new(n===undefined?Array:n)(e===0?0:e)};var Zr=[].push;var rt=function r(p){var h=p==1;var d=p==2;var y=p==3;var g=p==4;var m=p==6;var _=p==5||m;return function(r,t,e,n){var o=Hr(r);var i=b(o);var a=Fr(t,e,3);var u=yr(i.length);var c=0;var f=n||Qr;var s=h?f(r,u):d?f(r,0):undefined;var l,v;for(;u>c;c++){if(_||c in i){l=i[c];v=a(l,c,o);if(p){if(h)s[c]=v;else if(v)switch(p){case 3:return true;case 5:return l;case 6:return c;case 2:Zr.call(s,l)}else if(g)return false}}}return m?-1:y||g?g:s}};var tt={forEach:rt(0),map:rt(1),filter:rt(2),some:rt(3),every:rt(4),find:rt(5),findIndex:rt(6)};var et=Object.keys||function r(t){return Or(t,Ar)};var nt=p?Object.defineProperties:function r(t,e){E(t);var n=et(e);var o=n.length;var i=0;var a;while(o>i){R.f(t,a=n[i++],e[a])}return t};var ot=lr("document","documentElement");var it=">";var at="<";var ut="prototype";var ct="script";var ft=X("IE_PROTO");var st=function r(){};var lt=function r(t){return at+ct+it+t+at+"/"+ct+it};var vt=function r(t){t.write(lt(""));t.close();var e=t.parentWindow.Object;t=null;return e};var pt=function r(){var t=x("iframe");var e="java"+ct+":";var n;t.style.display="none";ot.appendChild(t);t.src=String(e);n=t.contentWindow.document;n.open();n.write(lt("document.F=Object"));n.close();return n.F};var ht;var dt=function r(){try{ht=document.domain&&new ActiveXObject("htmlfile")}catch(r){}dt=ht?vt(ht):pt();var t=Ar.length;while(t--){delete dt[ut][Ar[t]]}return dt()};Y[ft]=true;var yt=Object.create||function r(t,e){var n;if(t!==null){st[ut]=E(t);n=new st;st[ut]=null;n[ft]=t}else n=dt();return e===undefined?n:nt(n,e)};var gt=$r("unscopables");var mt=Array.prototype;if(mt[gt]==undefined){R.f(mt,gt,{configurable:true,value:yt(null)})}var _t=function r(t){mt[gt][t]=true};var bt=Object.defineProperty;var wt={};var St=function r(t){throw t};var Ot=function r(t,e){if(S(wt,t))return wt[t];if(!e)e={};var n=[][t];var o=S(e,"ACCESSORS")?e.ACCESSORS:false;var i=S(e,0)?e[0]:St;var a=S(e,1)?e[1]:undefined;return wt[t]=!!n&&!u(function(){if(o&&!p)return true;var r={length:-1};if(o)bt(r,1,{enumerable:true,get:St});else r[1]=1;n.call(r,i,a)})};var At=tt.find;var xt="find";var jt=true;var Pt=Ot(xt);if(xt in[])Array(1)[xt](function(){jt=false});qr({target:"Array",proto:true,forced:jt||!Pt},{find:function r(t){return At(this,t,arguments.length>1?arguments[1]:undefined)}});_t(xt);var Ct=wr.includes;var Tt=Ot("indexOf",{ACCESSORS:true,1:0});qr({target:"Array",proto:true,forced:!Tt},{includes:function r(t){return Ct(this,t,arguments.length>1?arguments[1]:undefined)}});_t("includes");var Et=Object.assign;var kt=Object.defineProperty;var It=!Et||u(function(){if(p&&Et({b:1},Et(kt({},"a",{enumerable:true,get:function r(){kt(this,"b",{value:3,enumerable:false})}}),{b:2})).b!==1)return true;var r={};var t={};var e=Symbol();var n="abcdefghijklmnopqrst";r[e]=7;n.split("").forEach(function(r){t[r]=r});return Et({},r)[e]!=7||et(Et({},t)).join("")!=n})?function r(t,e){var n=Hr(t);var o=arguments.length;var i=1;var a=Tr.f;var u=h.f;while(o>i){var c=b(arguments[i++]);var f=a?et(c).concat(a(c)):et(c);var s=f.length;var l=0;var v;while(s>l){v=f[l++];if(!p||u.call(c,v))n[v]=c[v]}}return n}:Et;qr({target:"Object",stat:true,forced:Object.assign!==It},{assign:It});var Rt=$r("match");var Mt=function r(t){var e;return m(t)&&((e=t[Rt])!==undefined?!!e:l(t)=="RegExp")};var Lt=function r(t){if(Mt(t)){throw TypeError("The method doesn't accept regular expressions")}return t};var Nt=$r("match");var zt=function r(t){var e=/./;try{"/./"[t](e)}catch(r){try{e[Nt]=false;return"/./"[t](e)}catch(r){}}return false};qr({target:"String",proto:true,forced:!zt("includes")},{includes:function r(t){return!!~String(y(this)).indexOf(Lt(t),arguments.length>1?arguments[1]:undefined)}});var Dt=T.f;var Wt="".startsWith;var qt=Math.min;var Vt=zt("startsWith");var Ft=!Vt&&!!function(){var r=Dt(String.prototype,"startsWith");return r&&!r.writable}();qr({target:"String",proto:true,forced:!Ft&&!Vt},{startsWith:function r(t){var e=String(y(this));Lt(t);var n=yr(qt(arguments.length>1?arguments[1]:undefined,e.length));var o=String(t);return Wt?Wt.call(e,o,n):e.slice(n,n+o.length)===o}});if(typeof window!=="undefined"){(function(){try{if(typeof SVGElement==="undefined"||Boolean(SVGElement.prototype.innerHTML)){return}}catch(r){return}function e(r){switch(r.nodeType){case 1:return o(r);case 3:return t(r);case 8:return n(r)}}function t(r){return r.textContent.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(r){return"\x3c!--"+r.nodeValue+"--\x3e"}function o(r){var t="";t+="<"+r.tagName;if(r.hasAttributes()){[].forEach.call(r.attributes,function(r){t+=" "+r.name+'="'+r.value+'"'})}t+=">";if(r.hasChildNodes()){[].forEach.call(r.childNodes,function(r){t+=e(r)})}t+="</"+r.tagName+">";return t}Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function r(){var t="";[].forEach.call(this.childNodes,function(r){t+=e(r)});return t},set:function r(t){while(this.firstChild){this.removeChild(this.firstChild)}try{var e=new DOMParser;e.async=false;var n="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+t+"</svg>";var o=e.parseFromString(n,"text/xml").documentElement;[].forEach.call(o.childNodes,function(r){this.appendChild(this.ownerDocument.importNode(r,true))}.bind(this))}catch(r){throw new Error("Error parsing markup string")}}});Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function r(){return this.innerHTML},set:function r(t){this.innerHTML=t}})})()}});(function(r,t){(typeof exports==="undefined"?"undefined":_typeof(exports))==="object"&&typeof module!=="undefined"?t(exports,require("d3plus-axis"),require("d3plus-common"),require("d3plus-shape"),require("d3plus-viz")):typeof define==="function"&&define.amd?define("d3plus-matrix",["exports","d3plus-axis","d3plus-common","d3plus-shape","d3plus-viz"],t):(r=typeof globalThis!=="undefined"?globalThis:r||self,t(r.d3plus={},r.d3plusAxis,r.d3plusCommon,r.d3plusShape,r.d3plusViz))})(this,function(r,e,j,P,t){"use strict";var C=function r(t,e){var n;return(n=[]).concat.apply(n,_toConsumableArray(t.map(function(t){return e.map(function(r){return[].concat(t,r)})})))};var n={align:"start",barConfig:{stroke:0},gridSize:0,paddingInner:0,paddingOuter:0,scale:"band",tickSize:0};var o=function(r){_inherits(x,r);var t=_createSuper(x);function x(){var o;_classCallCheck(this,x);o=t.call(this);o._column=j.accessor("column");o._columnAxis=new e.Axis;o._columnConfig=j.assign({orient:"top"},n);o._columnSort=function(r,t){return"".concat(r).localeCompare("".concat(t))};o._label=function(r,t){return"".concat(o._getProp("row",r,t)," / ").concat(o._getProp("column",r,t))};var i=o._on["mousemove.shape"];o._on["mousemove.shape"]=function(r,t){i(r,t);var e=o._getProp("row",r,t);var n=o._getProp("column",r,t);o.hover(function(r,t){return o._getProp("row",r,t)===e||o._getProp("column",r,t)===n})};o._row=j.accessor("row");o._rowAxis=new e.Axis;o._rowConfig=j.assign({orient:"left"},n);o._rowSort=function(r,t){return"".concat(r).localeCompare("".concat(t))};return o}_createClass(x,[{key:"_getProp",value:function r(t,e,n){return e[t]||this["_".concat(t)](e,n)}},{key:"_draw",value:function r(t){var a=this;var e=j.unique(this._filteredData.map(this._row)).sort(this._rowSort);var n=j.unique(this._filteredData.map(this._column)).sort(this._columnSort);if(!e.length||!n.length)return this;var o=this._height-this._margin.top-this._margin.bottom,i=this._select,u=this._transition,c=this._width-this._margin.left-this._margin.right;var f={opacity:0};var s={opacity:1};var l=function r(t,e){return j.elem("g.d3plus-Matrix-".concat(t),Object.assign({parent:i,transition:u},e)).node()};this._rowAxis.select(l("row",{enter:f,update:f})).domain(e).height(o).maxSize(c/2).width(c).config(this._rowConfig).render();var v=this._rowAxis.outerBounds().width-this._rowAxis.padding()*2;this._padding.left+=v;var p="translate(".concat(v+this._margin.left,", ").concat(this._margin.top,")");var h=Object.assign({transform:p},f);this._columnAxis.select(l("column",{enter:h,update:h})).domain(n).height(o).maxSize(o/2).width(c).config(this._columnConfig).render();var d=this._columnAxis.outerBounds().height-this._columnAxis.padding()*2;this._padding.top+=d;_get(_getPrototypeOf(x.prototype),"_draw",this).call(this,t);var y="translate(".concat(this._margin.left,", ").concat(d+this._margin.top,")");p="translate(".concat(v+this._margin.left,", ").concat(this._margin.top,")");var g=Object.assign({transform:p},s);this._rowAxis.select(l("row",{update:Object.assign({transform:y},s)})).height(o-this._margin.top-this._margin.bottom-d).width(v+this._rowAxis.padding()*2).render();this._columnAxis.select(l("column",{update:g})).height(d+this._columnAxis.padding()*2).width(c-this._margin.left-this._margin.right-v).render();var m=C(e,n).map(function(r){var t=_slicedToArray(r,2),e=t[0],n=t[1];var o={__d3plusTooltip__:true,__d3plus__:true,column:n,row:e};var i=a._filteredData.findIndex(function(r,t){return a._row(r,t)===e&&a._column(r,t)===n});if(i>=0){o.i=i;o.data=a._filteredData[i]}else{o.data={row:e,column:n}}return o});var _=this._rowAxis._getPosition.bind(this._rowAxis);var b=this._columnAxis._getPosition.bind(this._columnAxis);var w=e.length>1?_(e[1])-_(e[0]):this._rowAxis.height();var S=n.length>1?b(n[1])-b(n[0]):this._columnAxis.width();var O="translate(".concat(this._margin.left+v,", ").concat(this._margin.top+d,")");var A=j.configPrep.bind(this)(this._shapeConfig,"shape","Rect");this._shapes.push((new P.Rect).data(m).select(j.elem("g.d3plus-Matrix-cells",{parent:this._select,enter:{transform:O},update:{transform:O}}).node()).config({height:w,width:S,x:function r(t){return b(t.column)+S/2},y:function r(t){return _(t.row)+w/2}}).config(A).render());return this}},{key:"column",value:function r(t){return arguments.length?(this._column=typeof t==="function"?t:j.accessor(t),this):this._column}},{key:"columnConfig",value:function r(t){return arguments.length?(this._columnConfig=j.assign(this._columnConfig,t),this):this._columnConfig}},{key:"columnSort",value:function r(t){return arguments.length?(this._columnSort=t,this):this._columnSort}},{key:"row",value:function r(t){return arguments.length?(this._row=typeof t==="function"?t:j.accessor(t),this):this._row}},{key:"rowConfig",value:function r(t){return arguments.length?(this._rowConfig=j.assign(this._rowConfig,t),this):this._rowConfig}},{key:"rowSort",value:function r(t){return arguments.length?(this._rowSort=t,this):this._rowSort}}]);return x}(t.Viz);r.Matrix=o;Object.defineProperty(r,"__esModule",{value:true})});