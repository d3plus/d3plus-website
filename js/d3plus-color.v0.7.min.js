/*
  d3plus-color v0.7.0
  Color functions that extent the ability of d3-color.
  Copyright (c) 2020 D3plus - https://d3plus.org
  @license MIT
*/
(function(r){typeof define==="function"&&define.amd?define(r):r()})(function(){"use strict";var r=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function e(r,e){return e={exports:{}},r(e,e.exports),e.exports}var t=function(r){return r&&r.Math==Math&&r};var v=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof r=="object"&&r)||Function("return this")();var o=function(r){try{return!!r()}catch(r){return true}};var d=!o(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7});var n={}.propertyIsEnumerable;var a=Object.getOwnPropertyDescriptor;var i=a&&!n.call({1:2},1);var u=i?function r(e){var t=a(this,e);return!!t&&t.enumerable}:n;var h={f:u};var f=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}};var c={}.toString;var l=function(r){return c.call(r).slice(8,-1)};var s="".split;var w=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(r){return l(r)=="String"?s.call(r,""):Object(r)}:Object;var p=function(r){if(r==undefined)throw TypeError("Can't call method on "+r);return r};var g=function(r){return w(p(r))};var y=function(r){return typeof r==="object"?r!==null:typeof r==="function"};var b=function(r,e){if(!y(r))return r;var t,n;if(e&&typeof(t=r.toString)=="function"&&!y(n=t.call(r)))return n;if(typeof(t=r.valueOf)=="function"&&!y(n=t.call(r)))return n;if(!e&&typeof(t=r.toString)=="function"&&!y(n=t.call(r)))return n;throw TypeError("Can't convert object to primitive value")};var m={}.hasOwnProperty;var S=function(r,e){return m.call(r,e)};var O=v.document;var j=y(O)&&y(O.createElement);var E=function(r){return j?O.createElement(r):{}};var x=!d&&!o(function(){return Object.defineProperty(E("div"),"a",{get:function(){return 7}}).a!=7});var P=Object.getOwnPropertyDescriptor;var T=d?P:function r(e,t){e=g(e);t=b(t,true);if(x)try{return P(e,t)}catch(r){}if(S(e,t))return f(!h.f.call(e,t),e[t])};var M={f:T};var A=function(r){if(!y(r)){throw TypeError(String(r)+" is not an object")}return r};var C=Object.defineProperty;var k=d?C:function r(e,t,n){A(e);t=b(t,true);A(n);if(x)try{return C(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");if("value"in n)e[t]=n.value;return e};var N={f:k};var L=d?function(r,e,t){return N.f(r,e,f(1,t))}:function(r,e,t){r[e]=t;return r};var _=function(e,t){try{L(v,e,t)}catch(r){v[e]=t}return t};var F="__core-js_shared__";var I=v[F]||_(F,{});var W=I;var G=Function.toString;if(typeof W.inspectSource!="function"){W.inspectSource=function(r){return G.call(r)}}var V=W.inspectSource;var D=v.WeakMap;var R=typeof D==="function"&&/native code/.test(V(D));var q=e(function(r){(r.exports=function(r,e){return W[r]||(W[r]=e!==undefined?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"Â© 2020 Denis Pushkarev (zloirock.ru)"})});var H=0;var z=Math.random();var B=function(r){return"Symbol("+String(r===undefined?"":r)+")_"+(++H+z).toString(36)};var K=q("keys");var X=function(r){return K[r]||(K[r]=B(r))};var Y={};var J=v.WeakMap;var Q,U,Z;var $=function(r){return Z(r)?U(r):Q(r,{})};var rr=function(t){return function(r){var e;if(!y(r)||(e=U(r)).type!==t){throw TypeError("Incompatible receiver, "+t+" required")}return e}};if(R){var er=new J;var tr=er.get;var nr=er.has;var ar=er.set;Q=function(r,e){ar.call(er,r,e);return e};U=function(r){return tr.call(er,r)||{}};Z=function(r){return nr.call(er,r)}}else{var ir=X("state");Y[ir]=true;Q=function(r,e){L(r,ir,e);return e};U=function(r){return S(r,ir)?r[ir]:{}};Z=function(r){return S(r,ir)}}var or={set:Q,get:U,has:Z,enforce:$,getterFor:rr};var ur=e(function(r){var e=or.get;var u=or.enforce;var f=String(String).split("String");(r.exports=function(r,e,t,n){var a=n?!!n.unsafe:false;var i=n?!!n.enumerable:false;var o=n?!!n.noTargetGet:false;if(typeof t=="function"){if(typeof e=="string"&&!S(t,"name"))L(t,"name",e);u(t).source=f.join(typeof e=="string"?e:"")}if(r===v){if(i)r[e]=t;else _(e,t);return}else if(!a){delete r[e]}else if(!o&&r[e]){i=true}if(i)r[e]=t;else L(r,e,t)})(Function.prototype,"toString",function r(){return typeof this=="function"&&e(this).source||V(this)})});var fr=v;var cr=function(r){return typeof r=="function"?r:undefined};var lr=function(r,e){return arguments.length<2?cr(fr[r])||cr(v[r]):fr[r]&&fr[r][e]||v[r]&&v[r][e]};var vr=Math.ceil;var sr=Math.floor;var dr=function(r){return isNaN(r=+r)?0:(r>0?sr:vr)(r)};var hr=Math.min;var pr=function(r){return r>0?hr(dr(r),9007199254740991):0};var gr=Math.max;var yr=Math.min;var br=function(r,e){var t=dr(r);return t<0?gr(t+e,0):yr(t,e)};var mr=function(u){return function(r,e,t){var n=g(r);var a=pr(n.length);var i=br(t,a);var o;if(u&&e!=e)while(a>i){o=n[i++];if(o!=o)return true}else for(;a>i;i++){if((u||i in n)&&n[i]===e)return u||i||0}return!u&&-1}};var wr={includes:mr(true),indexOf:mr(false)};var Sr=wr.indexOf;var Or=function(r,e){var t=g(r);var n=0;var a=[];var i;for(i in t)!S(Y,i)&&S(t,i)&&a.push(i);while(e.length>n)if(S(t,i=e[n++])){~Sr(a,i)||a.push(i)}return a};var jr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var Er=jr.concat("length","prototype");var xr=Object.getOwnPropertyNames||function r(e){return Or(e,Er)};var Pr={f:xr};var Tr=Object.getOwnPropertySymbols;var Mr={f:Tr};var Ar=lr("Reflect","ownKeys")||function r(e){var t=Pr.f(A(e));var n=Mr.f;return n?t.concat(n(e)):t};var Cr=function(r,e){var t=Ar(e);var n=N.f;var a=M.f;for(var i=0;i<t.length;i++){var o=t[i];if(!S(r,o))n(r,o,a(e,o))}};var kr=/#|\.prototype\./;var Nr=function(r,e){var t=_r[Lr(r)];return t==Ir?true:t==Fr?false:typeof e=="function"?o(e):!!e};var Lr=Nr.normalize=function(r){return String(r).replace(kr,".").toLowerCase()};var _r=Nr.data={};var Fr=Nr.NATIVE="N";var Ir=Nr.POLYFILL="P";var Wr=Nr;var Gr=M.f;var Vr=function(r,e){var t=r.target;var n=r.global;var a=r.stat;var i,o,u,f,c,l;if(n){o=v}else if(a){o=v[t]||_(t,{})}else{o=(v[t]||{}).prototype}if(o)for(u in e){c=e[u];if(r.noTargetGet){l=Gr(o,u);f=l&&l.value}else f=o[u];i=Wr(n?u:t+(a?".":"#")+u,r.forced);if(!i&&f!==undefined){if(typeof c===typeof f)continue;Cr(c,f)}if(r.sham||f&&f.sham){L(c,"sham",true)}ur(o,u,c,r)}};var Dr=function(r){if(typeof r!="function"){throw TypeError(String(r)+" is not a function")}return r};var Rr=function(n,a,r){Dr(n);if(a===undefined)return n;switch(r){case 0:return function(){return n.call(a)};case 1:return function(r){return n.call(a,r)};case 2:return function(r,e){return n.call(a,r,e)};case 3:return function(r,e,t){return n.call(a,r,e,t)}}return function(){return n.apply(a,arguments)}};var qr=function(r){return Object(p(r))};var Hr=Array.isArray||function r(e){return l(e)=="Array"};var zr=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())});var Br=zr&&!Symbol.sham&&typeof Symbol.iterator=="symbol";var Kr=q("wks");var Xr=v.Symbol;var Yr=Br?Xr:Xr&&Xr.withoutSetter||B;var Jr=function(r){if(!S(Kr,r)){if(zr&&S(Xr,r))Kr[r]=Xr[r];else Kr[r]=Yr("Symbol."+r)}return Kr[r]};var Qr=Jr("species");var Ur=function(r,e){var t;if(Hr(r)){t=r.constructor;if(typeof t=="function"&&(t===Array||Hr(t.prototype)))t=undefined;else if(y(t)){t=t[Qr];if(t===null)t=undefined}}return new(t===undefined?Array:t)(e===0?0:e)};var Zr=[].push;var $r=function(d){var h=d==1;var p=d==2;var g=d==3;var y=d==4;var b=d==6;var m=d==5||b;return function(r,e,t,n){var a=qr(r);var i=w(a);var o=Rr(e,t,3);var u=pr(i.length);var f=0;var c=n||Ur;var l=h?c(r,u):p?c(r,0):undefined;var v,s;for(;u>f;f++)if(m||f in i){v=i[f];s=o(v,f,a);if(d){if(h)l[f]=s;else if(s)switch(d){case 3:return true;case 5:return v;case 6:return f;case 2:Zr.call(l,v)}else if(y)return false}}return b?-1:g||y?y:l}};var re={forEach:$r(0),map:$r(1),filter:$r(2),some:$r(3),every:$r(4),find:$r(5),findIndex:$r(6)};var ee=Object.keys||function r(e){return Or(e,jr)};var te=d?Object.defineProperties:function r(e,t){A(e);var n=ee(t);var a=n.length;var i=0;var o;while(a>i)N.f(e,o=n[i++],t[o]);return e};var ne=lr("document","documentElement");var ae=">";var ie="<";var oe="prototype";var ue="script";var fe=X("IE_PROTO");var ce=function(){};var le=function(r){return ie+ue+ae+r+ie+"/"+ue+ae};var ve=function(r){r.write(le(""));r.close();var e=r.parentWindow.Object;r=null;return e};var se=function(){var r=E("iframe");var e="java"+ue+":";var t;r.style.display="none";ne.appendChild(r);r.src=String(e);t=r.contentWindow.document;t.open();t.write(le("document.F=Object"));t.close();return t.F};var de;var he=function(){try{de=document.domain&&new ActiveXObject("htmlfile")}catch(r){}he=de?ve(de):se();var r=jr.length;while(r--)delete he[oe][jr[r]];return he()};Y[fe]=true;var pe=Object.create||function r(e,t){var n;if(e!==null){ce[oe]=A(e);n=new ce;ce[oe]=null;n[fe]=e}else n=he();return t===undefined?n:te(n,t)};var ge=Jr("unscopables");var ye=Array.prototype;if(ye[ge]==undefined){N.f(ye,ge,{configurable:true,value:pe(null)})}var be=function(r){ye[ge][r]=true};var me=Object.defineProperty;var we={};var Se=function(r){throw r};var Oe=function(r,e){if(S(we,r))return we[r];if(!e)e={};var t=[][r];var n=S(e,"ACCESSORS")?e.ACCESSORS:false;var a=S(e,0)?e[0]:Se;var i=S(e,1)?e[1]:undefined;return we[r]=!!t&&!o(function(){if(n&&!d)return true;var r={length:-1};if(n)me(r,1,{enumerable:true,get:Se});else r[1]=1;t.call(r,a,i)})};var je=re.find;var Ee="find";var xe=true;var Pe=Oe(Ee);if(Ee in[])Array(1)[Ee](function(){xe=false});Vr({target:"Array",proto:true,forced:xe||!Pe},{find:function r(e){return je(this,e,arguments.length>1?arguments[1]:undefined)}});be(Ee);var Te=wr.includes;var Me=Oe("indexOf",{ACCESSORS:true,1:0});Vr({target:"Array",proto:true,forced:!Me},{includes:function r(e){return Te(this,e,arguments.length>1?arguments[1]:undefined)}});be("includes");var Ae=Object.assign;var Ce=Object.defineProperty;var ke=!Ae||o(function(){if(d&&Ae({b:1},Ae(Ce({},"a",{enumerable:true,get:function(){Ce(this,"b",{value:3,enumerable:false})}}),{b:2})).b!==1)return true;var r={};var e={};var t=Symbol();var n="abcdefghijklmnopqrst";r[t]=7;n.split("").forEach(function(r){e[r]=r});return Ae({},r)[t]!=7||ee(Ae({},e)).join("")!=n})?function r(e,t){var n=qr(e);var a=arguments.length;var i=1;var o=Mr.f;var u=h.f;while(a>i){var f=w(arguments[i++]);var c=o?ee(f).concat(o(f)):ee(f);var l=c.length;var v=0;var s;while(l>v){s=c[v++];if(!d||u.call(f,s))n[s]=f[s]}}return n}:Ae;Vr({target:"Object",stat:true,forced:Object.assign!==ke},{assign:ke});var Ne=Jr("match");var Le=function(r){var e;return y(r)&&((e=r[Ne])!==undefined?!!e:l(r)=="RegExp")};var _e=function(r){if(Le(r)){throw TypeError("The method doesn't accept regular expressions")}return r};var Fe=Jr("match");var Ie=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{t[Fe]=false;return"/./"[e](t)}catch(r){}}return false};Vr({target:"String",proto:true,forced:!Ie("includes")},{includes:function r(e){return!!~String(p(this)).indexOf(_e(e),arguments.length>1?arguments[1]:undefined)}});var We=M.f;var Ge="".startsWith;var Ve=Math.min;var De=Ie("startsWith");var Re=!De&&!!function(){var r=We(String.prototype,"startsWith");return r&&!r.writable}();Vr({target:"String",proto:true,forced:!Re&&!De},{startsWith:function r(e){var t=String(p(this));_e(e);var n=pr(Ve(arguments.length>1?arguments[1]:undefined,t.length));var a=String(e);return Ge?Ge.call(t,a,n):t.slice(n,n+a.length)===a}});if(typeof window!=="undefined"){(function(){try{if(typeof SVGElement==="undefined"||Boolean(SVGElement.prototype.innerHTML)){return}}catch(r){return}function t(r){switch(r.nodeType){case 1:return a(r);case 3:return e(r);case 8:return n(r)}}function e(r){return r.textContent.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(r){return"\x3c!--"+r.nodeValue+"--\x3e"}function a(r){var e="";e+="<"+r.tagName;if(r.hasAttributes()){[].forEach.call(r.attributes,function(r){e+=" "+r.name+'="'+r.value+'"'})}e+=">";if(r.hasChildNodes()){[].forEach.call(r.childNodes,function(r){e+=t(r)})}e+="</"+r.tagName+">";return e}Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){var e="";[].forEach.call(this.childNodes,function(r){e+=t(r)});return e},set:function(r){while(this.firstChild){this.removeChild(this.firstChild)}try{var e=new DOMParser;e.async=false;var t="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+r+"</svg>";var n=e.parseFromString(t,"text/xml").documentElement;[].forEach.call(n.childNodes,function(r){this.appendChild(this.ownerDocument.importNode(r,true))}.bind(this))}catch(r){throw new Error("Error parsing markup string")}}});Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(r){this.innerHTML=r}})})()}});(function(r,e){typeof exports==="object"&&typeof module!=="undefined"?e(exports,require("d3-color"),require("d3-scale")):typeof define==="function"&&define.amd?define("d3plus-color",["exports","d3-color","d3-scale"],e):(r=r||self,e(r.d3plus={},r.d3Color,r.d3Scale))})(this,function(r,f,e){"use strict";function t(r,e){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;r=f.hsl(r);e=f.hsl(e);var a=Math.abs(e.h*n-r.h*t);if(a>180)a-=360;var i=(Math.min(r.h,e.h)+a/2)%360;var o=r.l+(e.l*n-r.l*t)/2,u=r.s+(e.s*n-r.s*t)/2;if(i<0)i+=360;return f.hsl("hsl(".concat(i,",").concat(u*100,"%,").concat(o*100,"%)")).toString()}var n={dark:"#444444",light:"#f7f7f7",missing:"#cccccc",off:"#b22200",on:"#224f20",scale:e.scaleOrdinal().range(["#b22200","#282f6b","#eace3f","#b35c1e","#224f20","#5f487c","#759143","#419391","#993c88","#e89c89","#ffee8d","#afd5e8","#f7ba77","#a5c697","#c5b5e5","#d1d392","#bbefd0","#e099cf"])};function a(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return r in e?e[r]:r in n?n[r]:n.missing}function i(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if([null,void 0].indexOf(r)>=0)return a("missing",e);else if(r===true)return a("on",e);else if(r===false)return a("off",e);var t=f.color(r);if(!t)return a("scale",e)(r);return r.toString()}function o(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};r=f.rgb(r);var t=(r.r*299+r.g*587+r.b*114)/1e3;return t>=128?a("dark",e):a("light",e)}function u(r){r=f.hsl(r);if(r.l>.45){if(r.s>.8)r.s=.8;r.l=.45}return r.toString()}function c(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.5;r=f.hsl(r);e*=1-r.l;r.l+=e;r.s-=e;return r.toString()}function l(r,e){var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:1;var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;r=f.hsl(r);e=f.hsl(e);var a=e.h*n-r.h*t;if(Math.abs(a)>180)a-=360;var i=(r.h-a)%360;var o=r.l-(e.l*n-r.l*t)/2,u=r.s-(e.s*n-r.s*t)/2;if(i<0)i+=360;return f.hsl("hsl(".concat(i,",").concat(u*100,"%,").concat(o*100,"%)")).toString()}r.colorAdd=t;r.colorAssign=i;r.colorContrast=o;r.colorDefaults=n;r.colorLegible=u;r.colorLighter=c;r.colorSubtract=l;Object.defineProperty(r,"__esModule",{value:true})});