/*
  d3plus-viz v0.12.29
  Abstract ES6 class that drives d3plus visualizations.
  Copyright (c) 2019 D3plus - https://d3plus.org
  @license MIT
*/
if(typeof Object.assign!=="function"){Object.defineProperty(Object,"assign",{value:function t(e){"use strict";if(e===null){throw new TypeError("Cannot convert undefined or null to object")}var i=Object(e);for(var o=1;o<arguments.length;o++){var n=arguments[o];if(n!==null){for(var s in n){if(Object.prototype.hasOwnProperty.call(n,s)){i[s]=n[s]}}}}return i},writable:true,configurable:true})}if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function t(e,i){var o=Object(this);var n=o.length>>>0;if(n===0)return false;var s=i|0;var r=Math.max(s>=0?s:n-Math.abs(s),0);function l(t,e){return t===e||typeof t==="number"&&typeof e==="number"&&isNaN(t)&&isNaN(e)}while(r<n){if(l(o[r],e)){return true}r++}return false}})}if(!String.prototype.includes){Object.defineProperty(String.prototype,"includes",{value:function(t,e){if(typeof e!=="number"){e=0}if(e+t.length>this.length){return false}else{return this.indexOf(t,e)!==-1}}})}if(!Array.prototype.find){Object.defineProperty(Array.prototype,"find",{value:function(t){if(this==null){throw new TypeError('"this" is null or not defined')}var e=Object(this);var i=e.length>>>0;if(typeof t!=="function"){throw new TypeError("predicate must be a function")}var o=arguments[1];var n=0;while(n<i){var s=e[n];if(t.call(o,s,n,e)){return s}n++}return undefined},configurable:true,writable:true})}if(!String.prototype.startsWith){Object.defineProperty(String.prototype,"startsWith",{value:function(t,e){e=!e||e<0?0:+e;return this.substring(e,e+t.length)===t}})}if(typeof window!=="undefined"){(function(){var o=function(t,e){var i=t.nodeType;if(i===3){e.push(t.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"))}else if(i===1){e.push("<",t.tagName);if(t.hasAttributes()){[].forEach.call(t.attributes,function(t){e.push(" ",t.item.name,"='",t.item.value,"'")})}if(t.hasChildNodes()){e.push(">");[].forEach.call(t.childNodes,function(t){o(t,e)});e.push("</",t.tagName,">")}else{e.push("/>")}}else if(i==8){e.push("\x3c!--",t.nodeValue,"--\x3e")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){var t=[];var e=this.firstChild;while(e){o(e,t);e=e.nextSibling}return t.join("")},set:function(t){while(this.firstChild){this.removeChild(this.firstChild)}try{var e=new DOMParser;e.async=false;var i="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+t+"</svg>";var o=e.parseFromString(i,"text/xml").documentElement;var n=o.firstChild;while(n){this.appendChild(this.ownerDocument.importNode(n,true));n=n.nextSibling}}catch(t){}}});Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}})})()}(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?e(exports,require("d3-request"),require("d3-selection"),require("d3plus-common"),require("d3-array"),require("d3plus-export"),require("d3plus-form"),require("d3-collection"),require("d3plus-axis"),require("d3-zoom"),require("d3-brush"),require("d3-color"),require("d3-queue"),require("d3-transition"),require("lrucache"),require("d3plus-color"),require("d3plus-format"),require("d3plus-legend"),require("d3plus-text"),require("d3plus-timeline"),require("d3plus-tooltip")):typeof define==="function"&&define.amd?define("d3plus-viz",["exports","d3-request","d3-selection","d3plus-common","d3-array","d3plus-export","d3plus-form","d3-collection","d3plus-axis","d3-zoom","d3-brush","d3-color","d3-queue","d3-transition","lrucache","d3plus-color","d3plus-format","d3plus-legend","d3plus-text","d3plus-timeline","d3plus-tooltip"],e):e(t.d3plus={},t.d3Request,t.d3Selection,t.d3plusCommon,t.d3Array,t.d3plusExport,t.d3plusForm,t.d3Collection,t.d3plusAxis,t.d3Zoom,t.d3Brush,t.d3Color,t.d3Queue,t.d3Transition,t.lrucache,t.d3plusColor,t.d3plusFormat,t.d3plusLegend,t.d3plusText,t.d3plusTimeline,t.d3plusTooltip)})(this,function(t,a,c,f,g,p,i,u,_,m,o,l,v,y,n,h,b,s,d,C,z){"use strict";n=n&&n.hasOwnProperty("default")?n["default"]:n;function w(t,e,i){if(e===void 0)e="data";if(i===void 0)i="headers";return t[e].map(function(o){return t[i].reduce(function(t,e,i){return t[e]=o[i],t},{})})}function r(i,o,n,s){var r=this;if(typeof i!=="string"){var t=o?o(i):i;if(n&&"_"+n in this){this["_"+n]=t}if(s){s(null,t)}}else{var l=i.slice(i.length-4)===".csv"?a.csv:i.slice(i.length-4)===".tsv"?a.tsv:i.slice(i.length-4)===".txt"?a.text:a.json;l(i,function(t,e){if(l!==a.json&&!t&&e&&e instanceof Array){e.forEach(function(t){for(var e in t){if(!isNaN(t[e])){t[e]=parseFloat(t[e])}else if(t[e].toLowerCase()==="false"){t[e]=false}else if(t[e].toLowerCase()==="true"){t[e]=true}else if(t[e].toLowerCase()==="null"){t[e]=null}else if(t[e].toLowerCase()==="undefined"){t[e]=undefined}}})}e=t?[]:o?o(e):e;if(e&&!(e instanceof Array)&&e.data&&e.headers){e=w(e)}if(n&&"_"+n in r){r["_"+n]=e}if(r._cache){r._lrucache.set(i,e)}if(s){s(t,e)}})}}var S=function t(){this._isVisible=false};S.prototype.exit=function t(e,i){e.transition().duration(i).style("opacity",0).transition().remove();this._isVisible=false};S.prototype.hide=function t(e){if(e===void 0)e={};var i=e.duration;if(i===void 0)i=600;var o=e.callback;this.mask.call(this.exit.bind(this),i);this.elem.call(this.exit.bind(this),i);if(o){setTimeout(o,i+100)}this._isVisible=false;return this};S.prototype.render=function t(e){if(e===void 0)e={};var i=e.callback;var o=e.container;if(o===void 0)o="body";var n=e.duration;if(n===void 0)n=600;var s=e.html;if(s===void 0)s="Please Wait";var r=e.mask;if(r===void 0)r="rgba(0, 0, 0, 0.1)";var l=e.style;if(l===void 0)l={};var a=c.select(o).style("position","relative");this.mask=a.selectAll("div.d3plus-Mask").data(r?[r]:[]);this.mask=this.mask.enter().append("div").attr("class","d3plus-Mask").style("opacity",1).merge(this.mask);this.mask.exit().call(this.exit.bind(this),n);f.stylize(this.mask,{"background-color":String,bottom:"0px",left:"0px",position:"absolute",right:"0px",top:"0px"});this.elem=a.selectAll("div.d3plus-Message").data([s]);this.elem=this.elem.enter().append("div").attr("class","d3plus-Message").style("opacity",1).merge(this.elem).html(String);f.stylize(this.elem,l);if(i){setTimeout(i,100)}this._isVisible=true;return this};function x(){var t=this._history.length;var e=f.elem("g.d3plus-viz-back",{parent:this._select,transition:this._transition,update:{transform:"translate("+this._margin.left+", "+this._margin.top+")"}}).node();this._backClass.data(t?[{text:"Back",x:0,y:0}]:[]).select(e).config(this._backConfig).render();this._margin.top+=t?this._backClass.fontSize()():0}function P(){var o=this;var t=this._data;var e=this._colorScalePosition||"bottom";var i=["top","bottom"].includes(e);var n=this._colorScalePadding()?this._padding:{top:0,right:0,bottom:0,left:0};var s=this._width-(this._margin.left+this._margin.right+n.left+n.right);var r=i?g.min([this._colorScaleMaxSize,s]):this._width-(this._margin.left+this._margin.right);var l=this._height-(this._margin.bottom+this._margin.top+n.bottom+n.top);var a=!i?g.min([this._colorScaleMaxSize,l]):this._height-(this._margin.bottom+this._margin.top);var h={opacity:this._colorScalePosition?1:0,transform:"translate("+(i?this._margin.left+n.left+(s-r)/2:this._margin.left)+", "+(i?this._margin.top:this._margin.top+n.top+(l-a)/2)+")"};var d=this._colorScale&&t&&t.length>1;var c=f.elem("g.d3plus-viz-colorScale",{condition:d&&!this._colorScaleConfig.select,enter:h,parent:this._select,transition:this._transition,update:h}).node();if(d){var _=t.filter(function(t,e){var i=o._colorScale(t,e);return i!==undefined&&i!==null});this._colorScaleClass.align({bottom:"end",left:"start",right:"end",top:"start"}[e]||"bottom").duration(this._duration).data(_).height(a).orient(e).select(c).value(this._colorScale).width(r).config(this._colorScaleConfig).render();var u=this._colorScaleClass.outerBounds();if(this._colorScalePosition&&!this._colorScaleConfig.select&&u.height){if(i){this._margin[e]+=u.height+this._legendClass.padding()*2}else{this._margin[e]+=u.width+this._legendClass.padding()*2}}}else{this._colorScaleClass.config(this._colorScaleConfig)}}var k={Button:i.Button,Radio:i.Radio,Select:i.Select};function B(){var d=this;var c=this;var _=this._controlPadding()?this._padding:{top:0,right:0,bottom:0,left:0};var u=["left","right","top","bottom"];var t=function(t){var l=u[t];var a=(d._controls||[]).filter(function(t){return!t.position&&l==="bottom"||t.position===l});if(d._downloadButton&&d._downloadPosition===l){a.push({data:[{text:"Download",value:1}],label:"downloadButton",on:{click:function(){var t=d._detectResize;if(t){d.detectResize(false).render()}p.saveElement(d._select.node(),Object.assign({title:d._title||undefined},d._downloadConfig),{callback:function(){setTimeout(function(){if(t){d.detectResize(t).render()}},5e3)}})}},type:"Button"})}var e=l==="top"||l==="bottom";var i={height:e?d._height-(d._margin.top+d._margin.bottom):d._height-(d._margin.top+d._margin.bottom+_.top+_.bottom),width:e?d._width-(d._margin.left+d._margin.right+_.left+_.right):d._width-(d._margin.left+d._margin.right)};i.x=(e?d._margin.left+_.left:d._margin.left)+(l==="right"?d._width-d._margin.bottom:0);i.y=(e?d._margin.top:d._margin.top+_.top)+(l==="bottom"?d._height-d._margin.bottom:0);var o=f.elem("foreignObject.d3plus-viz-controls-"+l,{condition:a.length,enter:Object.assign({opacity:0},i),exit:Object.assign({opacity:0},i),parent:d._select,transition:d._transition,update:{height:i.height,opacity:1,width:i.width}});var h=o.selectAll("div.d3plus-viz-controls-container").data([null]);h=h.enter().append("xhtml:div").attr("class","d3plus-viz-controls-container").merge(h);if(a.length){var n=function(t){var e=Object.assign({},a[t]);var i={};if(e.on){var o=function(t){if({}.hasOwnProperty.call(e.on,t)){i[t]=function(){e.on[t].bind(c)(this.value)}}};for(var n in e.on)o(n)}var s=e.label||l+"-"+t;if(!d._controlCache[s]){var r=e.type&&k[e.type]?e.type:"Select";d._controlCache[s]=(new k[r]).container(h.node());if(e.checked){d._controlCache[s].checked(e.checked)}if(e.selected){d._controlCache[s].selected(e.selected)}}delete e.checked;delete e.selected;d._controlCache[s].config(e).config({on:i}).config(d._controlConfig).render()};for(var s=0;s<a.length;s++)n(s);h.style("display",["top","bottom"].includes(l)?"block":"inline-block").style("text-align",["top","bottom"].includes(l)?"center":l);var r=h.node().getBoundingClientRect();o.transition(d._transition).attr("x",i.x-(l==="right"?r.width:0)).attr("y",i.y-(l==="bottom"?r.height:0)).attr("height",e?r.height:i.height).attr("width",e?i.width:r.width);d._margin[l]+=["top","bottom"].includes(l)?r.height:r.width}};for(var e=0;e<u.length;e++)t(e)}function T(t,e){var i=this._drawLabel(t,e);return i instanceof Array?i.join(", "):i}function A(t){var s=this;if(t===void 0)t=[];if(this._legend){var e=this._legendClass.outerBounds();var i=this._legendPosition;var o=["top","bottom"].includes(i);var n=this._legendPadding()?this._padding:{top:0,right:0,bottom:0,left:0};var r={transform:"translate("+(o?this._margin.left+n.left:this._margin.left)+", "+(o?this._margin.top:this._margin.top+n.top)+")"};var l=f.elem("g.d3plus-viz-legend",{condition:this._legend&&!this._legendConfig.select,enter:r,parent:this._select,transition:this._transition,update:r}).node();var a=[];var h=function(t,e){var i=s._shape(t,e);var o=i==="Line"?"stroke":"fill";var n=s._shapeConfig[i]&&s._shapeConfig[i][o]?s._shapeConfig[i][o]:s._shapeConfig[o];return typeof n==="function"?n(t,e):n};var d=function(t,e){var i=s._shape(t,e);var o=s._shapeConfig[i]&&s._shapeConfig[i].opacity?s._shapeConfig[i].opacity:s._shapeConfig.opacity;return typeof o==="function"?o(t,e):o};var c=function(t,e){return h(t,e)+"_"+d(t,e)};u.nest().key(c).rollup(function(t){return a.push(f.merge(t,s._aggs))}).entries(this._colorScale?t.filter(function(t,e){return s._colorScale(t,e)===undefined}):t);a.sort(this._legendSort);var _=function(t,e){var i=s._id(t,e);if(i instanceof Array){i=i[0]}return s._hidden.includes(i)||s._solo.length&&!s._solo.includes(i)};this._legendClass.id(c).align(o?"center":i).direction(o?"row":"column").duration(this._duration).data(a.length>this._legendCutoff||this._colorScale?a:[]).height(o?this._height-(this._margin.bottom+this._margin.top):this._height-(this._margin.bottom+this._margin.top+n.bottom+n.top)).select(l).verticalAlign(!o?"middle":i).width(o?this._width-(this._margin.left+this._margin.right+n.left+n.right):this._width-(this._margin.left+this._margin.right)).shapeConfig(f.configPrep.bind(this)(this._shapeConfig,"legend")).config(this._legendConfig).shapeConfig({fill:function(t,e){return _(t,e)?s._hiddenColor(t,e):h(t,e)},labelConfig:{fontOpacity:function(t,e){return _(t,e)?s._hiddenOpacity(t,e):1}},opacity:d}).render();if(!this._legendConfig.select&&e.height){if(o){this._margin[i]+=e.height+this._legendClass.padding()*2}else{this._margin[i]+=e.width+this._legendClass.padding()*2}}}}function D(i){var o=this;if(!(i instanceof Array)){i=[i,i]}if(JSON.stringify(i)!==JSON.stringify(this._timelineSelection)){this._timelineSelection=i;i=i.map(Number);this.timeFilter(function(t){var e=_.date(o._time(t)).getTime();return e>=i[0]&&e<=i[1]}).render()}}function H(t){var e=this;if(t===void 0)t=[];var i=this._time&&this._timeline;var o=i?Array.from(new Set(this._data.map(this._time))).map(_.date):[];i=i&&o.length>1;var n=this._timelinePadding()?this._padding:{top:0,right:0,bottom:0,left:0};var s={transform:"translate("+(this._margin.left+n.left)+", 0)"};var r=f.elem("g.d3plus-viz-timeline",{condition:i,enter:s,parent:this._select,transition:this._transition,update:s}).node();if(i){var l=this._timelineClass.domain(g.extent(o)).duration(this._duration).height(this._height-this._margin.bottom).select(r).ticks(o.sort(function(t,e){return+t-+e})).width(this._width-(this._margin.left+this._margin.right+n.left+n.right));if(l.selection()===undefined){this._timelineSelection=g.extent(t,this._time).map(_.date);l.selection(this._timelineSelection)}var a=this._timelineConfig;l.config(a).on("end",function(t){D.bind(e)(t);if(a.on&&a.on.end){a.on.end(t)}}).render();this._margin.bottom+=l.outerBounds().height+l.padding()*2}}function O(t){if(t===void 0)t=[];var e=this._title?this._title(t):false;var i=this._titlePadding()?this._padding:{top:0,right:0,bottom:0,left:0};var o={transform:"translate("+(this._margin.left+i.left)+", "+this._margin.top+")"};var n=f.elem("g.d3plus-viz-title",{enter:o,parent:this._select,transition:this._transition,update:o}).node();this._titleClass.data(e?[{text:e}]:[]).select(n).width(this._width-(this._margin.left+this._margin.right+i.left+i.right)).config(this._titleConfig).render();this._margin.top+=e?n.getBBox().height:0}function M(t){if(t===void 0)t=[];var e=typeof this._total==="function"?g.sum(t.map(this._total)):this._total===true&&this._size?g.sum(t.map(this._size)):false;var i=this._totalPadding()?this._padding:{top:0,right:0,bottom:0,left:0};var o={transform:"translate("+(this._margin.left+i.left)+", "+this._margin.top+")"};var n=f.elem("g.d3plus-viz-total",{enter:o,parent:this._select,transition:this._transition,update:o}).node();var s=typeof e==="number";this._totalClass.data(s?[{text:this._totalFormat(e)}]:[]).select(n).width(this._width-(this._margin.left+this._margin.right+i.left+i.right)).config(this._totalConfig).render();this._margin.top+=s?n.getBBox().height+this._totalConfig.padding*2:0}function F(t,e){if(!t){return undefined}if(t.tagName===undefined||["BODY","HTML"].indexOf(t.tagName)>=0){var i=window["inner"+(e.charAt(0).toUpperCase()+e.slice(1))];var o=c.select(t);if(e==="width"){i-=parseFloat(o.style("margin-left"),10);i-=parseFloat(o.style("margin-right"),10);i-=parseFloat(o.style("padding-left"),10);i-=parseFloat(o.style("padding-right"),10)}else{i-=parseFloat(o.style("margin-top"),10);i-=parseFloat(o.style("margin-bottom"),10);i-=parseFloat(o.style("padding-top"),10);i-=parseFloat(o.style("padding-bottom"),10)}return i}else{var n=parseFloat(c.select(t).style(e),10);if(typeof n==="number"&&n>0){return n}else{return F(t.parentNode,e)}}}function N(t){return[F(t,"width"),F(t,"height")]}function q(t,e){if(e===void 0)e=0;var i=window.pageXOffset!==undefined?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft;var o=window.pageYOffset!==undefined?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;var n=t.getBoundingClientRect();var s=n.height,r=n.left+i,l=n.top+o,a=n.width;return o+window.innerHeight>l+e&&o+e<l+s&&i+window.innerWidth>r+e&&i+e<r+a}function L(t,e){this._select.style("cursor","auto");if(this._drawDepth<this._groupBy.length-1){var i=this._groupBy[this._drawDepth],o=i(t,e);this.hover(false);if(this._tooltip){this._tooltipClass.data([]).render()}this._history.push({depth:this._depth,filter:this._filter});this.config({depth:this._drawDepth+1,filter:function(t,e){return i(t,e)===o}}).render()}}function j(t,e){var o=this;this._select.style("cursor","auto");if(this._tooltip){this._tooltipClass.data([]).render()}var i=this._id(t,e);if(!(i instanceof Array)){i=[i]}var n=this._hidden.indexOf(i[0]);var s=this._solo.indexOf(i[0]);var r=g.merge(this._legendClass.data().map(function(t,e){var i=o._id(t,e);if(!(i instanceof Array)){i=[i]}return i})).length;if(c.event.shiftKey){if(n<0&&!this._solo.length){this._hidden=this._hidden.concat(i);if(this._solo.length===r){this._solo=[]}if(this._hidden.length===r){this._hidden=[]}this.render()}else if(s>=0){this._solo=[];this._hidden=[];this.render()}}else{if(s<0&&this._hidden.length<r-1){this._solo=i;this._hidden=[]}else{this._solo=[];this._hidden=[]}this.render()}}function V(t,e){var n=this;if(this._shapeConfig.hoverOpacity!==1){var s=this._ids(t,e);this.hover(function(t,e){var i=n._ids(t,e);var o=g.min([i.length-1,s.length-1,n._drawDepth]);return s.slice(0,o+1).join("_")===i.slice(0,o+1).join("_")})}}function E(e,i){var o=this;setTimeout(function(){if(o._shapeConfig.hoverOpacity!==1&&o._hover?o._hover(e,i):true){o.hover(false)}var t=o._tooltipClass.data();if(t.length&&o._tooltip&&o._id(o._tooltipClass.data()[0])===o._id(e)){o._tooltipClass.data([]).render()}},50);this._select.style("cursor","auto")}function R(t,e){var o=this;var i=c.event.touches?[c.event.touches[0].clientX,c.event.touches[0].clientY]:[c.event.clientX,c.event.clientY];var n=g.merge(this._legendClass.data().map(function(t,e){var i=o._id(t,e);if(!(i instanceof Array)){i=[i]}return i})).length;if(this._tooltip&&t){var s=this._id(t,e);if(s instanceof Array){s=s[0]}this._select.style("cursor","pointer");this._tooltipClass.data([t]).footer(this._solo.length&&!this._solo.includes(s)?"Click to Highlight":this._solo.length===1&&this._solo.includes(s)||this._hidden.length===n-1?"Click to Reset":this._solo.includes(s)?"Click to Hide":this._hidden.includes(s)?"Click to Highlight":"Click to Highlight<br />Shift+Click to Hide").title(this._legendConfig.label?this._legendClass.label():T.bind(this)).position(i).config(this._tooltipConfig).config(this._legendTooltip).render()}}function G(t){if(this._tooltip&&t){this._select.style("cursor","pointer");var e=c.event.touches?[c.event.touches[0].clientX,c.event.touches[0].clientY]:[c.event.clientX,c.event.clientY];this._tooltipClass.data([t]).footer(this._drawDepth<this._groupBy.length-1?"Click to Expand":"").title(this._drawLabel).position(e).config(this._tooltipConfig).render()}}function I(t){c.event.preventDefault();c.event.stopPropagation();if(this._tooltip&&!t){this._tooltipClass.data([]).render()}}var W=false;function Y(){if(!this._container||!this._zoomGroup){return}var t=this._zoomHeight||this._height-this._margin.top-this._margin.bottom,e=this,i=this._zoomWidth||this._width-this._margin.left-this._margin.right;this._zoomBehavior.extent([[0,0],[i,t]]).scaleExtent([1,this._zoomMax]).translateExtent([[0,0],[i,t]]).on("zoom",X.bind(this));this._zoomToBounds=U.bind(this);var o=c.select(this._select.node().parentNode).selectAll("div.d3plus-zoom-control").data(this._zoom?[0]:[]);var n=o.enter().append("div").attr("class","d3plus-zoom-control");o.exit().remove();o=o.merge(n).style("position","absolute").style("top",this._margin.top+"px").style("left",this._margin.left+"px");n.append("div").attr("class","zoom-control zoom-in");o.select(".zoom-in").on("click",J.bind(this,this._zoomFactor)).html("&#65291;");n.append("div").attr("class","zoom-control zoom-out");o.select(".zoom-out").on("click",J.bind(this,1/this._zoomFactor)).html("&#65293;");n.append("div").attr("class","zoom-control zoom-reset");o.select(".zoom-reset").on("click",J.bind(this,0)).html("&#8634");n.append("div").attr("class","zoom-control zoom-brush");o.select(".zoom-brush").on("click",function(){c.select(this).classed("active",!W).call(f.stylize,W?e._zoomControlStyle||{}:e._zoomControlStyleActive||{});K.bind(e)(!W)}).html("&#164");o.selectAll(".zoom-control").call(f.stylize,e._zoomControlStyle).on("mouseenter",function(){c.select(this).call(f.stylize,e._zoomControlStyleHover||{})}).on("mouseleave",function(){c.select(this).call(f.stylize,c.select(this).classed("active")?e._zoomControlStyleActive||{}:e._zoomControlStyle||{})});this._zoomBrush.extent([[0,0],[i,t]]).filter(function(){return!c.event.button&&c.event.detail<2}).handleSize(this._zoomBrushHandleSize).on("start",$.bind(this)).on("brush",Q.bind(this)).on("end",Z.bind(this));var s=this._container.selectAll("g.brush").data([0]);this._brushGroup=s.enter().append("g").attr("class","brush").merge(s).call(this._zoomBrush);K.bind(this)();if(this._renderTiles){this._renderTiles(m.zoomTransform(this._container.node()),0)}}function K(t){if(t===void 0)t=false;W=t;if(W){this._brushGroup.style("display","inline")}else{this._brushGroup.style("display","none")}if(!W&&this._zoom){this._container.call(this._zoomBehavior);if(!this._zoomScroll){this._container.on("wheel.zoom",null)}if(!this._zoomPan){this._container.on("mousedown.zoom mousemove.zoom",null).on("touchstart.zoom touchmove.zoom touchend.zoom touchcancel.zoom",null)}}else{this._container.on(".zoom",null)}}function X(t,e){if(t===void 0)t=false;if(e===void 0)e=0;if(this._zoomGroup){if(!e){this._zoomGroup.attr("transform",t||c.event.transform)}else{this._zoomGroup.transition().duration(e).attr("transform",t||c.event.transform)}}if(this._renderTiles){this._renderTiles(m.zoomTransform(this._container.node()),e)}}function J(t){if(t===void 0)t=0;if(!this._container){return}var e=this._zoomBehavior.extent().bind(document)()[1].map(function(t){return t/2}),i=this._zoomBehavior.scaleExtent(),o=m.zoomTransform(this._container.node());if(!t){o.k=i[0];o.x=0;o.y=0}else{var n=[(e[0]-o.x)/o.k,(e[1]-o.y)/o.k];o.k=Math.min(i[1],o.k*t);if(o.k<=i[0]){o.k=i[0];o.x=0;o.y=0}else{o.x+=e[0]-(n[0]*o.k+o.x);o.y+=e[1]-(n[1]*o.k+o.y)}}X.bind(this)(o,this._duration)}function U(t,e){if(e===void 0)e=this._duration;var i=this._zoomBehavior.scaleExtent(),o=m.zoomTransform(this._container.node());if(t){var n=this._zoomBehavior.translateExtent()[1];var s=n[0];var r=n[1];var l=t[1][0]-t[0][0],a=t[1][1]-t[0][1];var h=Math.min(i[1],1/Math.max(l/s,a/r));var d,c;if(l/a<s/r){h*=(r-this._zoomPadding*2)/r;d=(s-l*h)/2/h;c=this._zoomPadding/h}else{h*=(s-this._zoomPadding*2)/s;c=(r-a*h)/2/h;d=this._zoomPadding/h}o.x=(o.x-t[0][0]+d)*(o.k*h/o.k);o.y=(o.y-t[0][1]+c)*(o.k*h/o.k);o.k*=h;if(o.x>0){o.x=0}else if(o.x<s*-o.k+s){o.x=s*-o.k+s}if(o.y>0){o.y=0}else if(o.y<r*-o.k+r){o.y=r*-o.k+r}}else{o.k=i[0];o.x=0;o.y=0}X.bind(this)(o,e)}function Q(){e.bind(this)()}function Z(){if(!c.event.selection){return}this._brushGroup.call(this._zoomBrush.move,null);U.bind(this)(c.event.selection)}function $(){e.bind(this)()}function e(){this._brushGroup.selectAll(".selection").call(f.attrize,this._zoomBrushSelectionStyle||{});this._brushGroup.selectAll(".handle").call(f.attrize,this._zoomBrushHandleStyle||{})}function tt(){return typeof window!=="undefined"?window.innerWidth>600:true}function et(o){return o.reduce(function(t,e,i){if(!i){t+=e}else if(i===o.length-1&&i===1){t+=" and "+e}else if(i===o.length-1){t+=", and "+e}else{t+=", "+e}return t},"")}var it=function(e){function t(){var r=this;e.call(this);this._aggs={};this._ariaHidden=true;this._backClass=(new d.TextBox).on("click",function(){if(r._history.length){r.config(r._history.pop()).render()}else{r.depth(r._drawDepth-1).filter(false).render()}}).on("mousemove",function(){return r._backClass.select().style("cursor","pointer")});this._backConfig={fontSize:10,padding:5,resize:false};this._cache=true;this._color=function(t,e){return r._groupBy[0](t,e)};this._colorScaleClass=new s.ColorScale;this._colorScaleConfig={};this._colorScalePadding=tt;this._colorScalePosition="bottom";this._colorScaleMaxSize=600;var t=new i.Select;this._controlCache={};this._controlConfig={selectStyle:Object.assign({margin:"5px"},t.selectStyle())};this._controlPadding=tt;this._data=[];this._dataCutoff=100;this._detectResize=true;this._detectResizeDelay=400;this._detectVisible=true;this._detectVisibleInterval=1e3;this._downloadButton=false;this._downloadConfig={type:"png"};this._downloadPosition="top";this._duration=600;this._hidden=[];this._hiddenColor=f.constant("#aaa");this._hiddenOpacity=f.constant(.5);this._history=[];this._groupBy=[f.accessor("id")];this._legend=true;this._legendClass=new s.Legend;this._legendConfig={label:T.bind(this),shapeConfig:{ariaLabel:T.bind(this),labelConfig:{fontColor:undefined,fontResize:false,padding:0}}};this._legendCutoff=1;this._legendPadding=tt;this._legendPosition="bottom";this._legendSort=function(t,e){return r._drawLabel(t).localeCompare(r._drawLabel(e))};this._legendTooltip={};this._loadingHTML=f.constant('\n    <div style="font-family: \'Roboto\', \'Helvetica Neue\', Helvetica, Arial, sans-serif;">\n      <strong>Loading Visualization</strong>\n      <sub style="display: block; margin-top: 5px;"><a href="https://d3plus.org" target="_blank">Powered by D3plus</a></sub>\n    </div>');this._loadingMessage=true;this._locale="en-US";this._lrucache=n(10);this._messageClass=new S;this._messageMask="rgba(0, 0, 0, 0.1)";this._messageStyle={left:"0px",position:"absolute","text-align":"center",top:"45%",width:"100%"};this._noDataHTML=f.constant("\n    <div style=\"font-family: 'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif;\">\n      <strong>No Data Available</strong>\n    </div>");this._noDataMessage=true;this._on={"click.shape":L.bind(this),"click.legend":j.bind(this),mouseenter:V.bind(this),mouseleave:E.bind(this),"mousemove.shape":G.bind(this),"mousemove.legend":R.bind(this)};this._queue=[];this._scrollContainer=typeof window===undefined?"":window;this._shape=f.constant("Rect");this._shapes=[];this._shapeConfig={ariaLabel:function(t,e){return r._drawLabel(t,e)},fill:function(t,e){while(t.__d3plus__&&t.data){t=t.data;e=t.i}if(r._colorScale){var i=r._colorScale(t,e);if(i!==undefined&&i!==null){var o=r._colorScaleClass._colorScale;var n=r._colorScaleClass.color();if(!o){return n instanceof Array?n[n.length-1]:n}else if(!o.domain().length){return o.range()[o.range().length-1]}return o(i)}}var s=r._color(t,e);if(l.color(s)){return s}return h.colorAssign(s)},labelConfig:{fontColor:function(t,e){var i=typeof r._shapeConfig.fill==="function"?r._shapeConfig.fill(t,e):r._shapeConfig.fill;return h.colorContrast(i)}},opacity:f.constant(1),stroke:function(t,e){var i=typeof r._shapeConfig.fill==="function"?r._shapeConfig.fill(t,e):r._shapeConfig.fill;return l.color(i).darker()},role:"presentation",strokeWidth:f.constant(0)};this._solo=[];this._svgDesc="";this._svgTitle="";this._timeline=true;this._timelineClass=(new C.Timeline).align("end");this._timelineConfig={brushing:false,padding:5};this._timelinePadding=tt;this._threshold=f.constant(1e-4);this._thresholdKey=undefined;this._thresholdName="Values";this._titleClass=new d.TextBox;this._titleConfig={ariaHidden:true,fontSize:12,padding:5,resize:false,textAnchor:"middle"};this._titlePadding=tt;this._tooltip=true;this._tooltipClass=new z.Tooltip;this._tooltipConfig={pointerEvents:"none",titleStyle:{"max-width":"200px"}};this._totalClass=new d.TextBox;this._totalConfig={fontSize:10,padding:5,resize:false,textAnchor:"middle"};this._totalFormat=function(t){return"Total: "+b.formatAbbreviate(t,r._locale)};this._totalPadding=tt;this._zoom=false;this._zoomBehavior=m.zoom();this._zoomBrush=o.brush();this._zoomBrushHandleSize=1;this._zoomBrushHandleStyle={fill:"#444"};this._zoomBrushSelectionStyle={fill:"#777","stroke-width":0};this._zoomControlStyle={background:"rgba(255, 255, 255, 0.75)",border:"1px solid rgba(0, 0, 0, 0.75)",color:"rgba(0, 0, 0, 0.75)",display:"block",font:"900 15px/21px 'Roboto', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",height:"20px",margin:"5px",opacity:.75,padding:0,"text-align":"center",width:"20px"};this._zoomControlStyleActive={background:"rgba(0, 0, 0, 0.75)",color:"rgba(255, 255, 255, 0.75)",opacity:1};this._zoomControlStyleHover={cursor:"pointer",opacity:1};this._zoomFactor=2;this._zoomMax=16;this._zoomPadding=20;this._zoomPan=true;this._zoomScroll=true}if(e)t.__proto__=e;t.prototype=Object.create(e&&e.prototype);t.prototype.constructor=t;t.prototype._preDraw=function t(){var n=this;var s=this;this._drawDepth=this._depth!==void 0?this._depth:this._groupBy.length-1;this._id=this._groupBy[this._drawDepth];this._ids=function(e,i){return n._groupBy.map(function(t){return!e||e.__d3plus__&&!e.data?undefined:t(e.__d3plus__?e.data:e,e.__d3plus__?e.i:i)}).filter(function(t){return t!==undefined&&t!==null})};this._drawLabel=function(t,e){if(!t){return""}if(t._isAggregation){return n._thresholdName+" < "+b.formatAbbreviate(t._threshold*100)+"%"}while(t.__d3plus__&&t.data){t=t.data;e=t.i}if(n._label){return n._label(t,e)}var i=s._ids(t,e).slice(0,n._drawDepth+1);var o=i.reverse().find(function(t){return!(t instanceof Array)})||i[i.length-1];return o instanceof Array?et(o):o};if(this._time&&!this._timeFilter&&this._data.length){var e=this._data.map(this._time).map(_.date);var i=this._data[0],o=0;if(this._discrete&&"_"+this._discrete in this&&this["_"+this._discrete](i,o)===this._time(i,o)){this._timeFilter=function(){return true}}else{var r=+g.max(e);this._timeFilter=function(t,e){return+_.date(n._time(t,e))===r}}}this._filteredData=[];this._legendData=[];var l=[];if(this._data.length){l=this._timeFilter?this._data.filter(this._timeFilter):this._data;if(this._filter){l=l.filter(this._filter)}var a=u.nest();for(var h=0;h<=this._drawDepth;h++){a.key(this._groupBy[h])}if(this._discrete&&"_"+this._discrete in this){a.key(this["_"+this._discrete])}if(this._discrete&&"_"+this._discrete+"2"in this){a.key(this["_"+this._discrete+"2"])}var d=a.rollup(function(t){var e=f.merge(t,n._aggs);var i=n._id(e);if(!n._hidden.includes(i)&&(!n._solo.length||n._solo.includes(i))){n._filteredData.push(e)}n._legendData.push(e)}).entries(l);this._filteredData=this._thresholdFunction(this._filteredData,d)}var c=u.nest().key(this._id).entries(this._filteredData).length;if(c>this._dataCutoff){if(this._userHover===undefined){this._userHover=this._shapeConfig.hoverOpacity||.5}this._shapeConfig.hoverOpacity=1}else if(this._userHover!==undefined){this._shapeConfig.hoverOpacity=this._userHover}if(this._noDataMessage&&!this._filteredData.length){this._messageClass.render({container:this._select.node().parentNode,html:this._noDataHTML(this),mask:this._messageMask,style:this._messageStyle})}};t.prototype._draw=function t(){if(this._legendPosition==="left"||this._legendPosition==="right"){A.bind(this)(this._filteredData)}if(this._colorScalePosition==="left"||this._colorScalePosition==="right"||this._colorScalePosition===false){P.bind(this)(this._filteredData)}x.bind(this)();O.bind(this)(this._filteredData);M.bind(this)(this._filteredData);H.bind(this)(this._filteredData);B.bind(this)(this._filteredData);if(this._legendPosition==="top"||this._legendPosition==="bottom"){A.bind(this)(this._legendData)}if(this._colorScalePosition==="top"||this._colorScalePosition==="bottom"){P.bind(this)(this._filteredData)}this._shapes=[]};t.prototype._thresholdFunction=function t(e){return e};t.prototype.render=function t(s){var r=this;this._margin={bottom:0,left:0,right:0,top:0};this._padding={bottom:0,left:0,right:0,top:0};this._transition=y.transition().duration(this._duration);if(this._select===void 0||this._select.node().tagName.toLowerCase()!=="svg"){var e=this._select===void 0?c.select("body").append("div"):this._select;var i=e.append("svg");this.select(i.node())}function l(){var t=this._select.style("display");this._select.style("display","none");var e=N(this._select.node().parentNode);var i=e[0];var o=e[1];i-=parseFloat(this._select.style("border-left-width"),10);i-=parseFloat(this._select.style("border-right-width"),10);o-=parseFloat(this._select.style("border-top-width"),10);o-=parseFloat(this._select.style("border-bottom-width"),10);this._select.style("display",t);if(this._autoWidth){this.width(i);this._select.style("width",this._width+"px").attr("width",this._width+"px")}if(this._autoHeight){this.height(o);this._select.style("height",this._height+"px").attr("height",this._height+"px")}}if((!this._width||!this._height)&&(!this._detectVisible||q(this._select.node()))){this._autoWidth=this._width===undefined;this._autoHeight=this._height===undefined;l.bind(this)()}this._select.attr("class","d3plus-viz").attr("aria-hidden",this._ariaHidden).attr("aria-labelledby",this._uuid+"-title "+this._uuid+"-desc").attr("role","img").transition(y.transition).style("width",this._width!==undefined?this._width+"px":undefined).style("height",this._height!==undefined?this._height+"px":undefined).attr("width",this._width!==undefined?this._width+"px":undefined).attr("height",this._height!==undefined?this._height+"px":undefined);var o=this._select.selectAll("title").data([0]);var n=o.enter().append("title").attr("id",this._uuid+"-title");o.merge(n).text(this._svgTitle);var a=this._select.selectAll("desc").data([0]);var h=a.enter().append("desc").attr("id",this._uuid+"-desc");a.merge(h).text(this._svgDesc);this._visiblePoll=clearInterval(this._visiblePoll);this._resizePoll=clearTimeout(this._resizePoll);this._scrollPoll=clearTimeout(this._scrollPoll);c.select(this._scrollContainer).on("scroll."+this._uuid,null);c.select(this._scrollContainer).on("resize."+this._uuid,null);if(this._detectVisible&&this._select.style("visibility")==="hidden"){this._visiblePoll=setInterval(function(){if(r._select.style("visibility")!=="hidden"){r._visiblePoll=clearInterval(r._visiblePoll);r.render(s)}},this._detectVisibleInterval)}else if(this._detectVisible&&this._select.style("display")==="none"){this._visiblePoll=setInterval(function(){if(r._select.style("display")!=="none"){r._visiblePoll=clearInterval(r._visiblePoll);r.render(s)}},this._detectVisibleInterval)}else if(this._detectVisible&&!q(this._select.node())){c.select(this._scrollContainer).on("scroll."+this._uuid,function(){if(!r._scrollPoll){r._scrollPoll=setTimeout(function(){if(q(r._select.node())){c.select(r._scrollContainer).on("scroll."+r._uuid,null);r.render(s)}r._scrollPoll=clearTimeout(r._scrollPoll)},r._detectVisibleInterval)}})}else{var d=v.queue();if(this._loadingMessage){this._messageClass.render({container:this._select.node().parentNode,html:this._loadingHTML(this),mask:this._messageMask,style:this._messageStyle})}this._queue.forEach(function(t){var e=r._cache?r._lrucache.get(t[1]):undefined;if(!e){d.defer.apply(d,t)}else{r["_"+t[3]]=e}});this._queue=[];d.awaitAll(function(){var i=r._data instanceof Array&&r._data.length>0?Object.keys(r._data[0]):[];var t=r._select.selectAll("g.data-table").data(!r._ariaHidden&&r._data instanceof Array&&r._data.length?[0]:[]);var e=t.enter().append("g").attr("class","data-table").attr("role","table");t.exit().remove();var o=t.merge(e).selectAll("text").data(r._data instanceof Array?g.range(0,r._data.length+1):[]);o.exit().remove();var n=o.merge(o.enter().append("text").attr("role","row")).selectAll("tspan").data(function(t,e){return i.map(function(t){return{role:e?"cell":"columnheader",text:e?r._data[e-1][t]:t}})});n.exit().remove();n.merge(n.enter().append("tspan")).attr("role",function(t){return t.role}).attr("dy","-1000px").html(function(t){return t.text});r._preDraw();r._draw(s);Y.bind(r)();if(r._messageClass._isVisible&&(!r._noDataMessage||r._filteredData.length)){r._messageClass.hide()}if(r._detectResize&&(r._autoWidth||r._autoHeight)){c.select(r._scrollContainer).on("resize."+r._uuid,function(){r._resizePoll=clearTimeout(r._resizePoll);r._resizePoll=setTimeout(function(){r._resizePoll=clearTimeout(r._resizePoll);l.bind(r)();r.render(s)},r._detectResizeDelay)})}if(s){setTimeout(s,r._duration+100)}})}c.select("body").on("touchstart."+this._uuid,I.bind(this));return this};t.prototype.active=function t(e){this._active=e;if(this._shapeConfig.activeOpacity!==1){this._shapes.forEach(function(t){return t.active(e)});if(this._legend){this._legendClass.active(e)}}return this};t.prototype.aggs=function t(e){return arguments.length?(this._aggs=f.assign(this._aggs,e),this):this._aggs};t.prototype.ariaHidden=function t(e){return arguments.length?(this._ariaHidden=e,this):this._ariaHidden};t.prototype.backConfig=function t(e){return arguments.length?(this._backConfig=f.assign(this._backConfig,e),this):this._backConfig};t.prototype.cache=function t(e){return arguments.length?(this._cache=e,this):this._cache};t.prototype.color=function t(e){return arguments.length?(this._color=!e||typeof e==="function"?e:f.accessor(e),this):this._color};t.prototype.colorScale=function t(e){return arguments.length?(this._colorScale=!e||typeof e==="function"?e:f.accessor(e),this):this._colorScale};t.prototype.colorScaleConfig=function t(e){return arguments.length?(this._colorScaleConfig=f.assign(this._colorScaleConfig,e),this):this._colorScaleConfig};t.prototype.colorScalePadding=function t(e){return arguments.length?(this._colorScalePadding=typeof e==="function"?e:f.constant(e),this):this._colorScalePadding};t.prototype.colorScalePosition=function t(e){return arguments.length?(this._colorScalePosition=e,this):this._colorScalePosition};t.prototype.colorScaleMaxSize=function t(e){return arguments.length?(this._colorScaleMaxSize=e,this):this._colorScaleMaxSize};t.prototype.controls=function t(e){return arguments.length?(this._controls=e,this):this._controls};t.prototype.controlConfig=function t(e){return arguments.length?(this._controlConfig=f.assign(this._controlConfig,e),this):this._controlConfig};t.prototype.controlPadding=function t(e){return arguments.length?(this._controlPadding=typeof e==="function"?e:f.constant(e),this):this._controlPadding};t.prototype.data=function t(e,i){if(arguments.length){var o=this._queue.find(function(t){return t[3]==="data"});var n=[r.bind(this),e,i,"data"];if(o){this._queue[this._queue.indexOf(o)]=n}else{this._queue.push(n)}return this}return this._data};t.prototype.dataCutoff=function t(e){return arguments.length?(this._dataCutoff=e,this):this._dataCutoff};t.prototype.depth=function t(e){return arguments.length?(this._depth=e,this):this._depth};t.prototype.detectResize=function t(e){return arguments.length?(this._detectResize=e,this):this._detectResize};t.prototype.detectResizeDelay=function t(e){return arguments.length?(this._detectResizeDelay=e,this):this._detectResizeDelay};t.prototype.detectVisible=function t(e){return arguments.length?(this._detectVisible=e,this):this._detectVisible};t.prototype.detectVisibleInterval=function t(e){return arguments.length?(this._detectVisibleInterval=e,this):this._detectVisibleInterval};t.prototype.discrete=function t(e){return arguments.length?(this._discrete=e,this):this._discrete};t.prototype.downloadButton=function t(e){return arguments.length?(this._downloadButton=e,this):this._downloadButton};t.prototype.downloadConfig=function t(e){return arguments.length?(this._downloadConfig=f.assign(this._downloadConfig,e),this):this._downloadConfig};t.prototype.downloadPosition=function t(e){return arguments.length?(this._downloadPosition=e,this):this._downloadPosition};t.prototype.duration=function t(e){return arguments.length?(this._duration=e,this):this._duration};t.prototype.filter=function t(e){return arguments.length?(this._filter=e,this):this._filter};t.prototype.groupBy=function t(e){var i=this;if(!arguments.length){return this._groupBy}if(!(e instanceof Array)){e=[e]}return this._groupBy=e.map(function(t){if(typeof t==="function"){return t}else{if(!i._aggs[t]){i._aggs[t]=function(t){var e=Array.from(new Set(t));return e.length===1?e[0]:e}}return f.accessor(t)}}),this};t.prototype.height=function t(e){return arguments.length?(this._height=e,this):this._height};t.prototype.hiddenColor=function t(e){return arguments.length?(this._hiddenColor=typeof e==="function"?e:f.constant(e),this):this._hiddenColor};t.prototype.hiddenOpacity=function t(e){return arguments.length?(this._hiddenOpacity=typeof e==="function"?e:f.constant(e),this):this._hiddenOpacity};t.prototype.hover=function t(e){var i=this;var o=this._hover=e;if(this._shapeConfig.hoverOpacity!==1){if(typeof e==="function"){var n=g.merge(this._shapes.map(function(t){return t.data()}));n=n.concat(this._legendClass.data());var s=e?n.filter(e):[];var r=[];s.map(this._ids).forEach(function(t){for(var e=1;e<=t.length;e++){r.push(JSON.stringify(t.slice(0,e)))}});r=r.filter(function(t,e){return r.indexOf(t)===e});if(r.length){o=function(t,e){return r.includes(JSON.stringify(i._ids(t,e)))}}}this._shapes.forEach(function(t){return t.hover(o)});if(this._legend){this._legendClass.hover(o)}}return this};t.prototype.label=function t(e){return arguments.length?(this._label=typeof e==="function"?e:f.constant(e),this):this._label};t.prototype.legend=function t(e){return arguments.length?(this._legend=e,this):this._legend};t.prototype.legendConfig=function t(e){return arguments.length?(this._legendConfig=f.assign(this._legendConfig,e),this):this._legendConfig};t.prototype.legendCutoff=function t(e){return arguments.length?(this._legendCutoff=e,this):this._legendCutoff};t.prototype.legendTooltip=function t(e){return arguments.length?(this._legendTooltip=f.assign(this._legendTooltip,e),this):this._legendTooltip};t.prototype.legendPadding=function t(e){return arguments.length?(this._legendPadding=typeof e==="function"?e:f.constant(e),this):this._legendPadding};t.prototype.legendPosition=function t(e){return arguments.length?(this._legendPosition=e,this):this._legendPosition};t.prototype.legendSort=function t(e){return arguments.length?(this._legendSort=e,this):this._legendSort};t.prototype.loadingHTML=function t(e){return arguments.length?(this._loadingHTML=typeof e==="function"?e:f.constant(e),this):this._loadingHTML};t.prototype.loadingMessage=function t(e){return arguments.length?(this._loadingMessage=e,this):this._loadingMessage};t.prototype.locale=function t(e){return arguments.length?(this._locale=e,this):this._locale};t.prototype.messageMask=function t(e){return arguments.length?(this._messageMask=e,this):this._messageMask};t.prototype.messageStyle=function t(e){return arguments.length?(this._messageStyle=f.assign(this._messageStyle,e),this):this._messageStyle};t.prototype.noDataHTML=function t(e){return arguments.length?(this._noDataHTML=typeof e==="function"?e:f.constant(e),this):this._noDataHTML};t.prototype.noDataMessage=function t(e){return arguments.length?(this._noDataMessage=e,this):this._noDataMessage};t.prototype.scrollContainer=function t(e){return arguments.length?(this._scrollContainer=e,this):this._scrollContainer};t.prototype.select=function t(e){return arguments.length?(this._select=c.select(e),this):this._select};t.prototype.shape=function t(e){return arguments.length?(this._shape=typeof e==="function"?e:f.constant(e),this):this._shape};t.prototype.shapeConfig=function t(e){return arguments.length?(this._shapeConfig=f.assign(this._shapeConfig,e),this):this._shapeConfig};t.prototype.svgDesc=function t(e){return arguments.length?(this._svgDesc=e,this):this._svgDesc};t.prototype.svgTitle=function t(e){return arguments.length?(this._svgTitle=e,this):this._svgTitle};t.prototype.threshold=function t(e){if(arguments.length){if(typeof e==="function"){this._threshold=e}else if(isFinite(e)&&!isNaN(e)){this._threshold=f.constant(e*1)}return this}else{return this._threshold}};t.prototype.thresholdKey=function t(e){if(arguments.length){if(typeof e==="function"){this._thresholdKey=e}else{this._thresholdKey=f.accessor(e)}return this}else{return this._thresholdKey}};t.prototype.thresholdName=function t(e){return arguments.length?(this._thresholdName=e,this):this._thresholdName};t.prototype.time=function t(e){if(arguments.length){if(typeof e==="function"){this._time=e}else{this._time=f.accessor(e);if(!this._aggs[e]){this._aggs[e]=function(t){var e=Array.from(new Set(t));return e.length===1?e[0]:e}}}this._timeFilter=false;return this}else{return this._time}};t.prototype.timeFilter=function t(e){return arguments.length?(this._timeFilter=e,this):this._timeFilter};t.prototype.timeline=function t(e){return arguments.length?(this._timeline=e,this):this._timeline};t.prototype.timelineConfig=function t(e){return arguments.length?(this._timelineConfig=f.assign(this._timelineConfig,e),this):this._timelineConfig};t.prototype.timelinePadding=function t(e){return arguments.length?(this._timelinePadding=typeof e==="function"?e:f.constant(e),this):this._timelinePadding};t.prototype.title=function t(e){return arguments.length?(this._title=typeof e==="function"?e:f.constant(e),this):this._title};t.prototype.titleConfig=function t(e){return arguments.length?(this._titleConfig=f.assign(this._titleConfig,e),this):this._titleConfig};t.prototype.titlePadding=function t(e){return arguments.length?(this._titlePadding=typeof e==="function"?e:f.constant(e),this):this._titlePadding};t.prototype.tooltip=function t(e){return arguments.length?(this._tooltip=e,this):this._tooltip};t.prototype.tooltipConfig=function t(e){return arguments.length?(this._tooltipConfig=f.assign(this._tooltipConfig,e),this):this._tooltipConfig};t.prototype.total=function t(e){if(arguments.length){if(typeof e==="function"){this._total=e}else if(e){this._total=f.accessor(e)}else{this._total=false}return this}else{return this._total}};t.prototype.totalConfig=function t(e){return arguments.length?(this._totalConfig=f.assign(this._totalConfig,e),this):this._totalConfig};t.prototype.totalFormat=function t(e){return arguments.length?(this._totalFormat=e,this):this._totalFormat};t.prototype.totalPadding=function t(e){return arguments.length?(this._totalPadding=typeof e==="function"?e:f.constant(e),this):this._totalPadding};t.prototype.width=function t(e){return arguments.length?(this._width=e,this):this._width};t.prototype.zoom=function t(e){return arguments.length?(this._zoom=e,this):this._zoom};t.prototype.zoomBrushHandleSize=function t(e){return arguments.length?(this._zoomBrushHandleSize=e,this):this._zoomBrushHandleSize};t.prototype.zoomBrushHandleStyle=function t(e){return arguments.length?(this._zoomBrushHandleStyle=e,this):this._zoomBrushHandleStyle};t.prototype.zoomBrushSelectionStyle=function t(e){return arguments.length?(this._zoomBrushSelectionStyle=e,this):this._zoomBrushSelectionStyle};t.prototype.zoomControlStyle=function t(e){return arguments.length?(this._zoomControlStyle=e,this):this._zoomControlStyle};t.prototype.zoomControlStyleActive=function t(e){return arguments.length?(this._zoomControlStyleActive=e,this):this._zoomControlStyleActive};t.prototype.zoomControlStyleHover=function t(e){return arguments.length?(this._zoomControlStyleHover=e,this):this._zoomControlStyleHover};t.prototype.zoomFactor=function t(e){return arguments.length?(this._zoomFactor=e,this):this._zoomFactor};t.prototype.zoomMax=function t(e){return arguments.length?(this._zoomMax=e,this):this._zoomMax};t.prototype.zoomPan=function t(e){return arguments.length?(this._zoomPan=e,this):this._zoomPan};t.prototype.zoomPadding=function t(e){return arguments.length?(this._zoomPadding=e,this):this._zoomPadding};t.prototype.zoomScroll=function t(e){return arguments.length?(this._zoomScroll=e,this):this._zoomScroll};return t}(f.BaseClass);t.dataFold=w;t.dataLoad=r;t.Viz=it;Object.defineProperty(t,"__esModule",{value:true})});