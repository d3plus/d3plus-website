/*
  d3plus-format v0.1.11
  Shorthand formatters for common number types.
  Copyright (c) 2019 D3plus - https://d3plus.org
  @license MIT
*/
if(typeof Object.assign!=="function"){Object.defineProperty(Object,"assign",{value:function e(r){"use strict";if(r===null){throw new TypeError("Cannot convert undefined or null to object")}var t=Object(r);for(var a=1;a<arguments.length;a++){var n=arguments[a];if(n!==null){for(var i in n){if(Object.prototype.hasOwnProperty.call(n,i)){t[i]=n[i]}}}}return t},writable:true,configurable:true})}if(!Array.prototype.includes){Object.defineProperty(Array.prototype,"includes",{value:function e(r,t){var a=Object(this);var n=a.length>>>0;if(n===0)return false;var i=t|0;var o=Math.max(i>=0?i:n-Math.abs(i),0);function s(e,r){return e===r||typeof e==="number"&&typeof r==="number"&&isNaN(e)&&isNaN(r)}while(o<n){if(s(a[o],r)){return true}o++}return false}})}(function(e,r){typeof exports==="object"&&typeof module!=="undefined"?r(exports,require("d3-format")):typeof define==="function"&&define.amd?define("d3plus-format",["exports","d3-format"],r):r(e.d3plus={},e.d3Format)})(this,function(e,d){"use strict";var y={"en-GB":{separator:"",suffixes:["y","z","a","f","p","n","µ","m","","k","M","B","t","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:",",decimal:"."},currency:["£",""]},"en-US":{separator:"",suffixes:["y","z","a","f","p","n","µ","m","","k","M","B","t","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:",",decimal:"."},currency:["$",""]},"es-ES":{separator:"",suffixes:["y","z","a","f","p","n","µ","m","","k","mm","b","t","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:".",decimal:","},currency:["€",""]},"es-CL":{separator:"",suffixes:["y","z","a","f","p","n","µ","m","","k","M","B","t","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:".",decimal:","},currency:["$",""]},"et-EE":{separator:" ",suffixes:["y","z","a","f","p","n","µ","m","","tuhat","miljonit","miljardit","triljonit","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:" ",decimal:","},currency:["","eurot"]},"fr-FR":{suffixes:["y","z","a","f","p","n","µ","m","","k","m","b","t","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:" ",decimal:","},currency:["€",""]}};var i=function(e,r){return parseFloat(Math.round(e*Math.pow(10,r))/Math.pow(10,r)).toFixed(r)};function h(e,r,t){var a=0;if(e){if(e<0){e*=-1}a=1+Math.floor(1e-12+Math.log(e)/Math.LN10);a=Math.max(-24,Math.min(24,Math.floor((a-1)/3)*3))}var n=t[8+a/3];return{number:i(n.scale(e),r),symbol:n.symbol}}function g(e,r){var t=Math.pow(10,Math.abs(8-r)*3);return{scale:r>8?function(e){return e/t}:function(e){return e*t},symbol:e}}function r(e,r,t){if(r===void 0)r="en-US";if(t===void 0)t=undefined;if(isFinite(e)){e*=1}else{return"N/A"}var a=e.toString().split(".")[0].replace("-","").length,n=typeof r==="object"?r:y[r]||y["en-US"],i=n.suffixes.map(g);var o=n.delimiters.decimal||".",s=n.separator||"",f=n.delimiters.thousands||",";var u=d.formatLocale({currency:n.currency||["$",""],decimal:o,grouping:n.grouping||[3],thousands:f});var l;if(t){l=u.format(t)(e)}else if(e===0){l="0"}else if(a>=3){var c=h(u.format(".3r")(e),2,i);var p=parseFloat(c.number).toString().replace(".",o);var m=c.symbol;l=""+p+s+m}else if(a===3){l=u.format(",f")(e)}else if(e<1&&e>-1){l=u.format(".2g")(e)}else{l=u.format(".3g")(e)}return l.replace(/(\.[1-9]*)[0]*$/g,"$1").replace(/[.]$/g,"")}e.formatAbbreviate=r;e.formatLocale=y;Object.defineProperty(e,"__esModule",{value:true})});