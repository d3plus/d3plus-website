/*
  d3plus-format v0.1.18
  Shorthand formatters for common number types.
  Copyright (c) 2020 D3plus - https://d3plus.org
  @license MIT
*/
(function(r){typeof define==="function"&&define.amd?define(r):r()})(function(){"use strict";var r=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function e(r,e){return e={exports:{}},r(e,e.exports),e.exports}var t=function(r){return r&&r.Math==Math&&r};var s=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof r=="object"&&r)||Function("return this")();var o=function(r){try{return!!r()}catch(r){return true}};var p=!o(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7});var n={}.propertyIsEnumerable;var a=Object.getOwnPropertyDescriptor;var i=a&&!n.call({1:2},1);var u=i?function r(e){var t=a(this,e);return!!t&&t.enumerable}:n;var d={f:u};var f=function(r,e){return{enumerable:!(r&1),configurable:!(r&2),writable:!(r&4),value:e}};var c={}.toString;var l=function(r){return c.call(r).slice(8,-1)};var v="".split;var w=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(r){return l(r)=="String"?v.call(r,""):Object(r)}:Object;var h=function(r){if(r==undefined)throw TypeError("Can't call method on "+r);return r};var y=function(r){return w(h(r))};var m=function(r){return typeof r==="object"?r!==null:typeof r==="function"};var g=function(r,e){if(!m(r))return r;var t,n;if(e&&typeof(t=r.toString)=="function"&&!m(n=t.call(r)))return n;if(typeof(t=r.valueOf)=="function"&&!m(n=t.call(r)))return n;if(!e&&typeof(t=r.toString)=="function"&&!m(n=t.call(r)))return n;throw TypeError("Can't convert object to primitive value")};var b={}.hasOwnProperty;var S=function(r,e){return b.call(r,e)};var O=s.document;var j=m(O)&&m(O.createElement);var x=function(r){return j?O.createElement(r):{}};var M=!p&&!o(function(){return Object.defineProperty(x("div"),"a",{get:function(){return 7}}).a!=7});var E=Object.getOwnPropertyDescriptor;var T=p?E:function r(e,t){e=y(e);t=g(t,true);if(M)try{return E(e,t)}catch(r){}if(S(e,t))return f(!d.f.call(e,t),e[t])};var P={f:T};var A=function(r){if(!m(r)){throw TypeError(String(r)+" is not an object")}return r};var C=Object.defineProperty;var k=p?C:function r(e,t,n){A(e);t=g(t,true);A(n);if(M)try{return C(e,t,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");if("value"in n)e[t]=n.value;return e};var F={f:k};var L=p?function(r,e,t){return F.f(r,e,f(1,t))}:function(r,e,t){r[e]=t;return r};var N=function(e,t){try{L(s,e,t)}catch(r){s[e]=t}return t};var z="__core-js_shared__";var _=s[z]||N(z,{});var q=_;var I=Function.toString;if(typeof q.inspectSource!="function"){q.inspectSource=function(r){return I.call(r)}}var W=q.inspectSource;var Y=s.WeakMap;var Q=typeof Y==="function"&&/native code/.test(W(Y));var R=e(function(r){(r.exports=function(r,e){return q[r]||(q[r]=e!==undefined?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})});var Z=0;var $=Math.random();var G=function(r){return"Symbol("+String(r===undefined?"":r)+")_"+(++Z+$).toString(36)};var B=R("keys");var D=function(r){return B[r]||(B[r]=G(r))};var V={};var H=s.WeakMap;var U,X,K;var J=function(r){return K(r)?X(r):U(r,{})};var rr=function(t){return function(r){var e;if(!m(r)||(e=X(r)).type!==t){throw TypeError("Incompatible receiver, "+t+" required")}return e}};if(Q){var er=new H;var tr=er.get;var nr=er.has;var ar=er.set;U=function(r,e){ar.call(er,r,e);return e};X=function(r){return tr.call(er,r)||{}};K=function(r){return nr.call(er,r)}}else{var ir=D("state");V[ir]=true;U=function(r,e){L(r,ir,e);return e};X=function(r){return S(r,ir)?r[ir]:{}};K=function(r){return S(r,ir)}}var or={set:U,get:X,has:K,enforce:J,getterFor:rr};var ur=e(function(r){var e=or.get;var u=or.enforce;var f=String(String).split("String");(r.exports=function(r,e,t,n){var a=n?!!n.unsafe:false;var i=n?!!n.enumerable:false;var o=n?!!n.noTargetGet:false;if(typeof t=="function"){if(typeof e=="string"&&!S(t,"name"))L(t,"name",e);u(t).source=f.join(typeof e=="string"?e:"")}if(r===s){if(i)r[e]=t;else N(e,t);return}else if(!a){delete r[e]}else if(!o&&r[e]){i=true}if(i)r[e]=t;else L(r,e,t)})(Function.prototype,"toString",function r(){return typeof this=="function"&&e(this).source||W(this)})});var fr=s;var cr=function(r){return typeof r=="function"?r:undefined};var lr=function(r,e){return arguments.length<2?cr(fr[r])||cr(s[r]):fr[r]&&fr[r][e]||s[r]&&s[r][e]};var sr=Math.ceil;var vr=Math.floor;var pr=function(r){return isNaN(r=+r)?0:(r>0?vr:sr)(r)};var dr=Math.min;var hr=function(r){return r>0?dr(pr(r),9007199254740991):0};var yr=Math.max;var mr=Math.min;var gr=function(r,e){var t=pr(r);return t<0?yr(t+e,0):mr(t,e)};var br=function(u){return function(r,e,t){var n=y(r);var a=hr(n.length);var i=gr(t,a);var o;if(u&&e!=e)while(a>i){o=n[i++];if(o!=o)return true}else for(;a>i;i++){if((u||i in n)&&n[i]===e)return u||i||0}return!u&&-1}};var wr={includes:br(true),indexOf:br(false)};var Sr=wr.indexOf;var Or=function(r,e){var t=y(r);var n=0;var a=[];var i;for(i in t)!S(V,i)&&S(t,i)&&a.push(i);while(e.length>n)if(S(t,i=e[n++])){~Sr(a,i)||a.push(i)}return a};var jr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var xr=jr.concat("length","prototype");var Mr=Object.getOwnPropertyNames||function r(e){return Or(e,xr)};var Er={f:Mr};var Tr=Object.getOwnPropertySymbols;var Pr={f:Tr};var Ar=lr("Reflect","ownKeys")||function r(e){var t=Er.f(A(e));var n=Pr.f;return n?t.concat(n(e)):t};var Cr=function(r,e){var t=Ar(e);var n=F.f;var a=P.f;for(var i=0;i<t.length;i++){var o=t[i];if(!S(r,o))n(r,o,a(e,o))}};var kr=/#|\.prototype\./;var Fr=function(r,e){var t=Nr[Lr(r)];return t==_r?true:t==zr?false:typeof e=="function"?o(e):!!e};var Lr=Fr.normalize=function(r){return String(r).replace(kr,".").toLowerCase()};var Nr=Fr.data={};var zr=Fr.NATIVE="N";var _r=Fr.POLYFILL="P";var qr=Fr;var Ir=P.f;var Wr=function(r,e){var t=r.target;var n=r.global;var a=r.stat;var i,o,u,f,c,l;if(n){o=s}else if(a){o=s[t]||N(t,{})}else{o=(s[t]||{}).prototype}if(o)for(u in e){c=e[u];if(r.noTargetGet){l=Ir(o,u);f=l&&l.value}else f=o[u];i=qr(n?u:t+(a?".":"#")+u,r.forced);if(!i&&f!==undefined){if(typeof c===typeof f)continue;Cr(c,f)}if(r.sham||f&&f.sham){L(c,"sham",true)}ur(o,u,c,r)}};var Yr=function(r){if(typeof r!="function"){throw TypeError(String(r)+" is not a function")}return r};var Qr=function(n,a,r){Yr(n);if(a===undefined)return n;switch(r){case 0:return function(){return n.call(a)};case 1:return function(r){return n.call(a,r)};case 2:return function(r,e){return n.call(a,r,e)};case 3:return function(r,e,t){return n.call(a,r,e,t)}}return function(){return n.apply(a,arguments)}};var Rr=function(r){return Object(h(r))};var Zr=Array.isArray||function r(e){return l(e)=="Array"};var $r=!!Object.getOwnPropertySymbols&&!o(function(){return!String(Symbol())});var Gr=$r&&!Symbol.sham&&typeof Symbol.iterator=="symbol";var Br=R("wks");var Dr=s.Symbol;var Vr=Gr?Dr:Dr&&Dr.withoutSetter||G;var Hr=function(r){if(!S(Br,r)){if($r&&S(Dr,r))Br[r]=Dr[r];else Br[r]=Vr("Symbol."+r)}return Br[r]};var Ur=Hr("species");var Xr=function(r,e){var t;if(Zr(r)){t=r.constructor;if(typeof t=="function"&&(t===Array||Zr(t.prototype)))t=undefined;else if(m(t)){t=t[Ur];if(t===null)t=undefined}}return new(t===undefined?Array:t)(e===0?0:e)};var Kr=[].push;var Jr=function(p){var d=p==1;var h=p==2;var y=p==3;var m=p==4;var g=p==6;var b=p==5||g;return function(r,e,t,n){var a=Rr(r);var i=w(a);var o=Qr(e,t,3);var u=hr(i.length);var f=0;var c=n||Xr;var l=d?c(r,u):h?c(r,0):undefined;var s,v;for(;u>f;f++)if(b||f in i){s=i[f];v=o(s,f,a);if(p){if(d)l[f]=v;else if(v)switch(p){case 3:return true;case 5:return s;case 6:return f;case 2:Kr.call(l,s)}else if(m)return false}}return g?-1:y||m?m:l}};var re={forEach:Jr(0),map:Jr(1),filter:Jr(2),some:Jr(3),every:Jr(4),find:Jr(5),findIndex:Jr(6)};var ee=Object.keys||function r(e){return Or(e,jr)};var te=p?Object.defineProperties:function r(e,t){A(e);var n=ee(t);var a=n.length;var i=0;var o;while(a>i)F.f(e,o=n[i++],t[o]);return e};var ne=lr("document","documentElement");var ae=">";var ie="<";var oe="prototype";var ue="script";var fe=D("IE_PROTO");var ce=function(){};var le=function(r){return ie+ue+ae+r+ie+"/"+ue+ae};var se=function(r){r.write(le(""));r.close();var e=r.parentWindow.Object;r=null;return e};var ve=function(){var r=x("iframe");var e="java"+ue+":";var t;r.style.display="none";ne.appendChild(r);r.src=String(e);t=r.contentWindow.document;t.open();t.write(le("document.F=Object"));t.close();return t.F};var pe;var de=function(){try{pe=document.domain&&new ActiveXObject("htmlfile")}catch(r){}de=pe?se(pe):ve();var r=jr.length;while(r--)delete de[oe][jr[r]];return de()};V[fe]=true;var he=Object.create||function r(e,t){var n;if(e!==null){ce[oe]=A(e);n=new ce;ce[oe]=null;n[fe]=e}else n=de();return t===undefined?n:te(n,t)};var ye=Hr("unscopables");var me=Array.prototype;if(me[ye]==undefined){F.f(me,ye,{configurable:true,value:he(null)})}var ge=function(r){me[ye][r]=true};var be=Object.defineProperty;var we={};var Se=function(r){throw r};var Oe=function(r,e){if(S(we,r))return we[r];if(!e)e={};var t=[][r];var n=S(e,"ACCESSORS")?e.ACCESSORS:false;var a=S(e,0)?e[0]:Se;var i=S(e,1)?e[1]:undefined;return we[r]=!!t&&!o(function(){if(n&&!p)return true;var r={length:-1};if(n)be(r,1,{enumerable:true,get:Se});else r[1]=1;t.call(r,a,i)})};var je=re.find;var xe="find";var Me=true;var Ee=Oe(xe);if(xe in[])Array(1)[xe](function(){Me=false});Wr({target:"Array",proto:true,forced:Me||!Ee},{find:function r(e){return je(this,e,arguments.length>1?arguments[1]:undefined)}});ge(xe);var Te=wr.includes;var Pe=Oe("indexOf",{ACCESSORS:true,1:0});Wr({target:"Array",proto:true,forced:!Pe},{includes:function r(e){return Te(this,e,arguments.length>1?arguments[1]:undefined)}});ge("includes");var Ae=Object.assign;var Ce=Object.defineProperty;var ke=!Ae||o(function(){if(p&&Ae({b:1},Ae(Ce({},"a",{enumerable:true,get:function(){Ce(this,"b",{value:3,enumerable:false})}}),{b:2})).b!==1)return true;var r={};var e={};var t=Symbol();var n="abcdefghijklmnopqrst";r[t]=7;n.split("").forEach(function(r){e[r]=r});return Ae({},r)[t]!=7||ee(Ae({},e)).join("")!=n})?function r(e,t){var n=Rr(e);var a=arguments.length;var i=1;var o=Pr.f;var u=d.f;while(a>i){var f=w(arguments[i++]);var c=o?ee(f).concat(o(f)):ee(f);var l=c.length;var s=0;var v;while(l>s){v=c[s++];if(!p||u.call(f,v))n[v]=f[v]}}return n}:Ae;Wr({target:"Object",stat:true,forced:Object.assign!==ke},{assign:ke});var Fe=Hr("match");var Le=function(r){var e;return m(r)&&((e=r[Fe])!==undefined?!!e:l(r)=="RegExp")};var Ne=function(r){if(Le(r)){throw TypeError("The method doesn't accept regular expressions")}return r};var ze=Hr("match");var _e=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{t[ze]=false;return"/./"[e](t)}catch(r){}}return false};Wr({target:"String",proto:true,forced:!_e("includes")},{includes:function r(e){return!!~String(h(this)).indexOf(Ne(e),arguments.length>1?arguments[1]:undefined)}});var qe=P.f;var Ie="".startsWith;var We=Math.min;var Ye=_e("startsWith");var Qe=!Ye&&!!function(){var r=qe(String.prototype,"startsWith");return r&&!r.writable}();Wr({target:"String",proto:true,forced:!Qe&&!Ye},{startsWith:function r(e){var t=String(h(this));Ne(e);var n=hr(We(arguments.length>1?arguments[1]:undefined,t.length));var a=String(e);return Ie?Ie.call(t,a,n):t.slice(n,n+a.length)===a}});if(typeof window!=="undefined"){(function(){var n=function(r,e){var t=r.nodeType;if(t===3){e.push(r.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"))}else if(t===1){e.push("<",r.tagName);if(r.hasAttributes()){[].forEach.call(r.attributes,function(r){e.push(" ",r.item.name,"='",r.item.value,"'")})}if(r.hasChildNodes()){e.push(">");[].forEach.call(r.childNodes,function(r){n(r,e)});e.push("</",r.tagName,">")}else{e.push("/>")}}else if(t==8){e.push("\x3c!--",r.nodeValue,"--\x3e")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){var r=[];var e=this.firstChild;while(e){n(e,r);e=e.nextSibling}return r.join("")},set:function(r){while(this.firstChild){this.removeChild(this.firstChild)}try{var e=new DOMParser;e.async=false;var t="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+r+"</svg>";var n=e.parseFromString(t,"text/xml").documentElement;var a=n.firstChild;while(a){this.appendChild(this.ownerDocument.importNode(a,true));a=a.nextSibling}}catch(r){}}});Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(r){this.innerHTML=r}})})()}});(function(r,e){typeof exports==="object"&&typeof module!=="undefined"?e(exports,require("d3-format")):typeof define==="function"&&define.amd?define("d3plus-format",["exports","d3-format"],e):(r=r||self,e(r.d3plus={},r.d3Format))})(this,function(r,h){"use strict";function y(r){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){y=function(r){return typeof r}}else{y=function(r){return r&&typeof Symbol==="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r}}return y(r)}var m={"en-GB":{separator:"",suffixes:["y","z","a","f","p","n","µ","m","","k","M","B","T","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:",",decimal:"."},currency:["£",""]},"en-US":{separator:"",suffixes:["y","z","a","f","p","n","µ","m","","k","M","B","T","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:",",decimal:"."},currency:["$",""]},"es-CL":{separator:"",suffixes:["y","z","a","f","p","n","µ","m","","k","M","MM","B","T","Q","Z","Y"],grouping:[3],delimiters:{thousands:".",decimal:","},currency:["$",""]},"es-MX":{separator:"",suffixes:["y","z","a","f","p","n","µ","m","","k","M","MM","B","T","Q","Z","Y"],grouping:[3],delimiters:{thousands:",",decimal:"."},currency:["$",""]},"es-ES":{separator:"",suffixes:["y","z","a","f","p","n","µ","m","","k","mm","b","t","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:".",decimal:","},currency:["€",""]},"et-EE":{separator:" ",suffixes:["y","z","a","f","p","n","µ","m","","tuhat","miljonit","miljardit","triljonit","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:" ",decimal:","},currency:["","eurot"]},"fr-FR":{suffixes:["y","z","a","f","p","n","µ","m","","k","m","b","t","q","Q","Z","Y"],grouping:[3],delimiters:{thousands:" ",decimal:","},currency:["€",""]}};var i=function r(e,t){return parseFloat(Math.round(e*Math.pow(10,t))/Math.pow(10,t)).toFixed(t)};function g(r,e,t){var n=0;if(r){if(r<0)r*=-1;n=1+Math.floor(1e-12+Math.log(r)/Math.LN10);n=Math.max(-24,Math.min(24,Math.floor((n-1)/3)*3))}var a=t[8+n/3];return{number:i(a.scale(r),e),symbol:a.symbol}}function b(r,e){var t=Math.pow(10,Math.abs(8-e)*3);return{scale:e>8?function(r){return r/t}:function(r){return r*t},symbol:r}}function e(r){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"en-US";var t=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;if(isFinite(r))r*=1;else return"N/A";var n=r<0;var a=r.toString().split(".")[0].replace("-","").length,i=y(e)==="object"?e:m[e]||m["en-US"],o=i.suffixes.map(b);var u=i.delimiters.decimal||".",f=i.separator||"",c=i.delimiters.thousands||",";var l=h.formatLocale({currency:i.currency||["$",""],decimal:u,grouping:i.grouping||[3],thousands:c});var s;if(t)s=l.format(t)(r);else if(r===0)s="0";else if(a>=3){var v=g(l.format(".3r")(r),2,o);var p=parseFloat(v.number).toString().replace(".",u);var d=v.symbol;s="".concat(p).concat(f).concat(d)}else if(a===3)s=l.format(",f")(r);else if(r<1&&r>-1)s=l.format(".2g")(r);else s=l.format(".3g")(r);return"".concat(n&&s.charAt(0)!=="-"?"-":"").concat(s).replace(/(\.[0]*[1-9]*)[0]*$/g,"$1").replace(/\.[0]*$/g,"")}r.formatAbbreviate=e;r.formatLocale=m;Object.defineProperty(r,"__esModule",{value:true})});