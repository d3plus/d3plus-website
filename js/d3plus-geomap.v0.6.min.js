/*
  d3plus-geomap v0.6.4
  A reusable geo map built on D3 and Topojson
  Copyright (c) 2019 D3plus - https://d3plus.org
  @license MIT
*/
(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?e(exports,require("d3-array"),require("d3-color"),require("d3-geo"),require("d3-scale"),require("d3-tile"),require("topojson-client"),require("d3plus-common"),require("d3plus-shape"),require("d3plus-viz")):typeof define==="function"&&define.amd?define("d3plus-geomap",["exports","d3-array","d3-color","d3-geo","d3-scale","d3-tile","topojson-client","d3plus-common","d3plus-shape","d3plus-viz"],e):(t=t||self,e(t.d3plus={},t.d3Array,t.d3Color,t.d3Geo,t.scales,t.d3Tile,t.topojsonClient,t.d3plusCommon,t.d3plusShape,t.d3plusViz))})(this,function(t,z,o,P,k,e,n,C,M,a){"use strict";function r(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function i(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(t,n.key,n)}}function u(t,e,r){if(e)i(t.prototype,e);if(r)i(t,r);return t}function s(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});if(e)c(t,e)}function E(t){E=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)};return E(t)}function c(t,e){c=Object.setPrototypeOf||function t(e,r){e.__proto__=r;return e};return c(t,e)}function f(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function l(t,e){if(e&&(typeof e==="object"||typeof e==="function")){return e}return f(t)}function p(t,e){while(!Object.prototype.hasOwnProperty.call(t,e)){t=E(t);if(t===null)break}return t}function F(t,e,r){if(typeof Reflect!=="undefined"&&Reflect.get){F=Reflect.get}else{F=function t(e,r,n){var i=p(e,r);if(!i)return;var o=Object.getOwnPropertyDescriptor(i,r);if(o.get){return o.get.call(n)}return o.value}}return F(t,e,r||t)}function A(t,e){var r=e&&t.objects[e]?e:Object.keys(t.objects)[0];return n.feature(t,t.objects[r])}var h=function(t){s(O,t);function O(){var i;r(this,O);i=l(this,E(O).call(this));i._fitObject=false;i._noDataMessage=false;i._ocean="#cdd1d3";i._point=C.accessor("point");i._pointSize=C.constant(1);i._pointSizeMax=10;i._pointSizeMin=5;i._pointSizeScale="linear";i._projection=P.geoMercator();i._projectionPadding=C.parseSides(20);i._rotate=[0,0];i._shape=C.constant("Circle");i._shapeConfig=C.assign(i._shapeConfig,{ariaLabel:function t(e,r){return"".concat(i._drawLabel(e,r),", ").concat(i._pointSize(e,r))},hoverOpacity:1,Path:{ariaLabel:function t(e,r){var n=i._colorScale?", ".concat(i._colorScale(e,r)):"";return"".concat(i._drawLabel(e,r)).concat(n,".")},fill:function t(e){if(i._colorScale&&!i._coordData.features.includes(e)){var r=i._colorScale(e);if(r!==undefined&&r!==null){if(i._colorScaleClass._colorScale){return i._colorScaleClass._colorScale(r)}else{var n=i._colorScaleClass.color();if(n instanceof Array)n=n[n.length-1];return n}}}return i._topojsonFill()},on:{mouseenter:function t(e){return!i._coordData.features.includes(e)?i._on.mouseenter.bind(f(i))(e):null},"mousemove.shape":function t(e){return!i._coordData.features.includes(e)?i._on["mousemove.shape"].bind(f(i))(e):null},mouseleave:function t(e){return!i._coordData.features.includes(e)?i._on.mouseleave.bind(f(i))(e):null}},stroke:function t(e,r){var n=typeof i._shapeConfig.Path.fill==="function"?i._shapeConfig.Path.fill(e,r):i._shapeConfig.Path.fill;return o.color(n).darker()},strokeWidth:1}});i._tiles=true;i._tileGen=e.tile().wrap(false);i._tileUrl="https://cartodb-basemaps-{s}.global.ssl.fastly.net/light_all/{z}/{x}/{y}@2x.png";i._topojson=false;i._topojsonFill=C.constant("#f5f5f3");i._topojsonFilter=function(t){return!["010"].includes(t.id)};i._topojsonId=C.accessor("id");i._zoom=true;i._zoomSet=false;return i}u(O,[{key:"_renderTiles",value:function t(e){var r=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=[];if(this._tiles){i=this._tileGen.extent(this._zoomBehavior.translateExtent()).scale(this._projection.scale()*(2*Math.PI)*e.k).translate(e.apply(this._projection.translate()))();this._tileGroup.transition().duration(n).attr("transform",e)}var o=this._tileGroup.selectAll("image.tile").data(i,function(t){return"".concat(t.x,"-").concat(t.y,"-").concat(t.z)});o.exit().transition().duration(n).attr("opacity",0).remove();var a=i.scale/e.k;o.enter().append("image").attr("class","tile").attr("opacity",0).attr("xlink:href",function(t){return r._tileUrl.replace("{s}",["a","b","c"][Math.random()*3|0]).replace("{z}",t.z).replace("{x}",t.x).replace("{y}",t.y)}).attr("width",a).attr("height",a).attr("x",function(t){return t.x*a+i.translate[0]*a-e.x/e.k}).attr("y",function(t){return t.y*a+i.translate[1]*a-e.y/e.k}).transition().duration(n).attr("opacity",1);o.attr("width",a).attr("height",a).attr("x",function(t){return t.x*a+i.translate[0]*a-e.x/e.k}).attr("y",function(t){return t.y*a+i.translate[1]*a-e.y/e.k})}},{key:"_draw",value:function t(e){var n=this;F(E(O.prototype),"_draw",this).call(this,e);var r=this._height-this._margin.top-this._margin.bottom,i=this._width-this._margin.left-this._margin.right;this._container=this._select.selectAll("svg.d3plus-geomap").data([0]);this._container=this._container.enter().append("svg").attr("class","d3plus-geomap").attr("opacity",0).attr("width",i).attr("height",r).attr("x",this._margin.left).attr("y",this._margin.top).style("background-color",this._ocean||"transparent").merge(this._container);this._container.transition(this._transition).attr("opacity",1).attr("width",i).attr("height",r).attr("x",this._margin.left).attr("y",this._margin.top);var o=this._container.selectAll("rect.d3plus-geomap-ocean").data([0]);o.enter().append("rect").attr("class","d3plus-geomap-ocean").merge(o).attr("width",i).attr("height",r).attr("fill",this._ocean||"transparent");this._tileGroup=this._container.selectAll("g.d3plus-geomap-tileGroup").data([0]);this._tileGroup=this._tileGroup.enter().append("g").attr("class","d3plus-geomap-tileGroup").merge(this._tileGroup);this._zoomGroup=this._container.selectAll("g.d3plus-geomap-zoomGroup").data([0]);this._zoomGroup=this._zoomGroup.enter().append("g").attr("class","d3plus-geomap-zoomGroup").merge(this._zoomGroup);var a=this._zoomGroup.selectAll("g.d3plus-geomap-paths").data([0]);a=a.enter().append("g").attr("class","d3plus-geomap-paths").merge(a);var u=this._coordData=this._topojson?A(this._topojson,this._topojsonKey):{type:"FeatureCollection",features:[]};if(this._topojsonFilter)u.features=u.features.filter(this._topojsonFilter);var s=this._path=P.geoPath().projection(this._projection);var c=this._filteredData.filter(function(t,e){return n._point(t,e)instanceof Array});var f=this._filteredData.filter(function(t,e){return!(n._point(t,e)instanceof Array)}).reduce(function(t,e){t[n._id(e)]=e;return t},{});var l=u.features.reduce(function(t,e){var r=n._topojsonId(e);t.push({__d3plus__:true,data:f[r],feature:e,id:r});return t},[]);var p=k["scale".concat(this._pointSizeScale.charAt(0).toUpperCase()).concat(this._pointSizeScale.slice(1))]().domain(z.extent(c,function(t,e){return n._pointSize(t,e)})).range([this._pointSizeMin,this._pointSizeMax]);if(!this._zoomSet){var h=this._fitObject?A(this._fitObject,this._fitKey):u;this._extentBounds={type:"FeatureCollection",features:this._fitFilter?h.features.filter(this._fitFilter):h.features.slice()};this._extentBounds.features=this._extentBounds.features.reduce(function(t,e){if(e.geometry){var r={type:e.type,id:e.id,geometry:{coordinates:e.geometry.coordinates,type:e.geometry.type}};if(e.geometry.type==="MultiPolygon"&&e.geometry.coordinates.length>1){var n=[],i=[];e.geometry.coordinates.forEach(function(t){r.geometry.coordinates=[t];n.push(s.area(r))});r.geometry.coordinates=[e.geometry.coordinates[n.indexOf(z.max(n))]];var o=s.centroid(r);e.geometry.coordinates.forEach(function(t){r.geometry.coordinates=[t];i.push(M.pointDistance(s.centroid(r),o))});var a=z.quantile(n.reduce(function(t,e,r){if(e)t.push(n[r]/e);return t},[]),.9);r.geometry.coordinates=e.geometry.coordinates.filter(function(t,e){var r=i[e];return r===0||n[e]/r>=a})}t.push(r)}return t},[]);if(!this._extentBounds.features.length&&c.length){var d=[[undefined,undefined],[undefined,undefined]];c.forEach(function(t,e){var r=n._projection(n._point(t,e));if(d[0][0]===void 0||r[0]<d[0][0])d[0][0]=r[0];if(d[1][0]===void 0||r[0]>d[1][0])d[1][0]=r[0];if(d[0][1]===void 0||r[1]<d[0][1])d[0][1]=r[1];if(d[1][1]===void 0||r[1]>d[1][1])d[1][1]=r[1]});this._extentBounds={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"MultiPoint",coordinates:d.map(function(t){return n._projection.invert(t)})}}]};var v=z.max(c,function(t,e){return p(n._pointSize(t,e))});this._projectionPadding.top+=v;this._projectionPadding.right+=v;this._projectionPadding.bottom+=v;this._projectionPadding.left+=v}this._zoomBehavior.extent([[0,0],[i,r]]).scaleExtent([1,this._zoomMax]).translateExtent([[0,0],[i,r]]);this._zoomSet=true}this._projection=this._projection.fitExtent(this._extentBounds.features.length?[[this._projectionPadding.left,this._projectionPadding.top],[i-this._projectionPadding.right,r-this._projectionPadding.bottom]]:[[0,0],[i,r]],this._extentBounds.features.length?this._extentBounds:{type:"Sphere"});this._shapes.push((new M.Path).data(l).d(function(t){return s(t.feature)}).select(a.node()).x(0).y(0).config(C.configPrep.bind(this)(this._shapeConfig,"shape","Path")).render());var _=this._zoomGroup.selectAll("g.d3plus-geomap-pins").data([0]);_=_.enter().append("g").attr("class","d3plus-geomap-pins").merge(_);var g=(new M.Circle).config(C.configPrep.bind(this)(this._shapeConfig,"shape","Circle")).data(c).r(function(t,e){return p(n._pointSize(t,e))}).select(_.node()).sort(function(t,e){return n._pointSize(e)-n._pointSize(t)}).x(function(t,e){return n._projection(n._point(t,e))[0]}).y(function(t,e){return n._projection(n._point(t,e))[1]});var y=Object.keys(this._on);var m=y.filter(function(t){return t.includes(".Circle")}),j=y.filter(function(t){return!t.includes(".")}),b=y.filter(function(t){return t.includes(".shape")});for(var S=0;S<j.length;S++){g.on(j[S],this._on[j[S]])}for(var w=0;w<b.length;w++){g.on(b[w],this._on[b[w]])}for(var x=0;x<m.length;x++){g.on(m[x],this._on[m[x]])}this._shapes.push(g.render());return this}},{key:"fitFilter",value:function t(e){if(arguments.length){if(typeof e==="function")return this._fitFilter=e,this;if(!(e instanceof Array))e=[e];this._zoomSet=false;return this._fitFilter=function(t){return e.includes(t.id)},this}return this._fitFilter}},{key:"fitKey",value:function t(e){if(arguments.length){this._fitKey=e;this._zoomSet=false;return this}return this._fitKey}},{key:"fitObject",value:function t(e,r){if(arguments.length){var n=this._queue.find(function(t){return t[3]==="fitObject"});var i=[a.dataLoad.bind(this),e,r,"fitObject"];if(n)this._queue[this._queue.indexOf(n)]=i;else this._queue.push(i);this._zoomSet=false;return this}return this._fitObject}},{key:"ocean",value:function t(e){return arguments.length?(this._ocean=e,this):this._ocean}},{key:"point",value:function t(e){return arguments.length?(this._point=typeof e==="function"?e:C.constant(e),this):this._point}},{key:"pointSize",value:function t(e){return arguments.length?(this._pointSize=typeof e==="function"?e:C.constant(e),this):this._pointSize}},{key:"pointSizeMax",value:function t(e){return arguments.length?(this._pointSizeMax=e,this):this._pointSizeMax}},{key:"pointSizeMin",value:function t(e){return arguments.length?(this._pointSizeMin=e,this):this._pointSizeMin}},{key:"projection",value:function t(e){if(arguments.length&&e!=="geoMercator")this._tiles=false;return arguments.length?(this._projection=typeof e==="string"?P[e]():e,this):this._projection}},{key:"projectionPadding",value:function t(e){return arguments.length?(this._projectionPadding=C.parseSides(e),this):this._projectionPadding}},{key:"tiles",value:function t(e){return arguments.length?(this._tiles=e,this):this._tiles}},{key:"tileUrl",value:function t(e){return arguments.length?(this._tileUrl=e,this):this._tileUrl}},{key:"topojson",value:function t(e,r){if(arguments.length){var n=this._queue.find(function(t){return t[3]==="topojson"});var i=[a.dataLoad.bind(this),e,r,"topojson"];if(n)this._queue[this._queue.indexOf(n)]=i;else this._queue.push(i);this._zoomSet=false;return this}return this._topojson}},{key:"topojsonFill",value:function t(e){return arguments.length?(this._topojsonFill=typeof e==="function"?e:C.constant(e),this):this._topojsonFill}},{key:"topojsonFilter",value:function t(e){if(arguments.length){if(typeof e==="function")return this._topojsonFilter=e,this;if(!(e instanceof Array))e=[e];this._zoomSet=false;return this._topojsonFilter=function(t){return e.includes(t.id)},this}return this._topojsonFilter}},{key:"topojsonKey",value:function t(e){if(arguments.length){this._topojsonKey=e;this._zoomSet=false;return this}return this._topojsonKey}},{key:"topojsonId",value:function t(e){return arguments.length?(this._topojsonId=typeof e==="function"?e:C.accessor(e),this):this._topojsonId}}]);return O}(a.Viz);t.Geomap=h;Object.defineProperty(t,"__esModule",{value:true})});(function(t){typeof define==="function"&&define.amd?define(t):t()})(function(){"use strict";var t=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}var r="object";var n=function(t){return t&&t.Math==Math&&t};var l=n(typeof globalThis==r&&globalThis)||n(typeof window==r&&window)||n(typeof self==r&&self)||n(typeof t==r&&t)||Function("return this")();var i=function(t){try{return!!t()}catch(t){return true}};var h=!i(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7});var o={}.propertyIsEnumerable;var a=Object.getOwnPropertyDescriptor;var u=a&&!o.call({1:2},1);var s=u?function t(e){var r=a(this,e);return!!r&&r.enumerable}:o;var d={f:s};var c=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}};var f={}.toString;var p=function(t){return f.call(t).slice(8,-1)};var v="".split;var j=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return p(t)=="String"?v.call(t,""):Object(t)}:Object;var _=function(t){if(t==undefined)throw TypeError("Can't call method on "+t);return t};var g=function(t){return j(_(t))};var y=function(t){return typeof t==="object"?t!==null:typeof t==="function"};var m=function(t,e){if(!y(t))return t;var r,n;if(e&&typeof(r=t.toString)=="function"&&!y(n=r.call(t)))return n;if(typeof(r=t.valueOf)=="function"&&!y(n=r.call(t)))return n;if(!e&&typeof(r=t.toString)=="function"&&!y(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")};var b={}.hasOwnProperty;var S=function(t,e){return b.call(t,e)};var w=l.document;var x=y(w)&&y(w.createElement);var O=function(t){return x?w.createElement(t):{}};var z=!h&&!i(function(){return Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a!=7});var P=Object.getOwnPropertyDescriptor;var k=h?P:function t(e,r){e=g(e);r=m(r,true);if(z)try{return P(e,r)}catch(t){}if(S(e,r))return c(!d.f.call(e,r),e[r])};var C={f:k};var M=function(t){if(!y(t)){throw TypeError(String(t)+" is not an object")}return t};var E=Object.defineProperty;var F=h?E:function t(e,r,n){M(e);r=m(r,true);M(n);if(z)try{return E(e,r,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");if("value"in n)e[r]=n.value;return e};var A={f:F};var G=h?function(t,e,r){return A.f(t,e,c(1,r))}:function(t,e,r){t[e]=r;return t};var T=function(e,r){try{G(l,e,r)}catch(t){l[e]=r}return r};var q=e(function(t){var e="__core-js_shared__";var r=l[e]||T(e,{});(t.exports=function(t,e){return r[t]||(r[t]=e!==undefined?e:{})})("versions",[]).push({version:"3.1.3",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})});var D=q("native-function-to-string",Function.toString);var I=l.WeakMap;var L=typeof I==="function"&&/native code/.test(D.call(I));var B=0;var N=Math.random();var K=function(t){return"Symbol("+String(t===undefined?"":t)+")_"+(++B+N).toString(36)};var R=q("keys");var V=function(t){return R[t]||(R[t]=K(t))};var W={};var U=l.WeakMap;var H,Y,J;var Q=function(t){return J(t)?Y(t):H(t,{})};var X=function(r){return function(t){var e;if(!y(t)||(e=Y(t)).type!==r){throw TypeError("Incompatible receiver, "+r+" required")}return e}};if(L){var Z=new U;var $=Z.get;var tt=Z.has;var et=Z.set;H=function(t,e){et.call(Z,t,e);return e};Y=function(t){return $.call(Z,t)||{}};J=function(t){return tt.call(Z,t)}}else{var rt=V("state");W[rt]=true;H=function(t,e){G(t,rt,e);return e};Y=function(t){return S(t,rt)?t[rt]:{}};J=function(t){return S(t,rt)}}var nt={set:H,get:Y,has:J,enforce:Q,getterFor:X};var it=e(function(t){var e=nt.get;var u=nt.enforce;var s=String(D).split("toString");q("inspectSource",function(t){return D.call(t)});(t.exports=function(t,e,r,n){var i=n?!!n.unsafe:false;var o=n?!!n.enumerable:false;var a=n?!!n.noTargetGet:false;if(typeof r=="function"){if(typeof e=="string"&&!S(r,"name"))G(r,"name",e);u(r).source=s.join(typeof e=="string"?e:"")}if(t===l){if(o)t[e]=r;else T(e,r);return}else if(!i){delete t[e]}else if(!a&&t[e]){o=true}if(o)t[e]=r;else G(t,e,r)})(Function.prototype,"toString",function t(){return typeof this=="function"&&e(this).source||D.call(this)})});var ot=l;var at=function(t){return typeof t=="function"?t:undefined};var ut=function(t,e){return arguments.length<2?at(ot[t])||at(l[t]):ot[t]&&ot[t][e]||l[t]&&l[t][e]};var st=Math.ceil;var ct=Math.floor;var ft=function(t){return isNaN(t=+t)?0:(t>0?ct:st)(t)};var lt=Math.min;var pt=function(t){return t>0?lt(ft(t),9007199254740991):0};var ht=Math.max;var dt=Math.min;var vt=function(t,e){var r=ft(t);return r<0?ht(r+e,0):dt(r,e)};var _t=function(u){return function(t,e,r){var n=g(t);var i=pt(n.length);var o=vt(r,i);var a;if(u&&e!=e)while(i>o){a=n[o++];if(a!=a)return true}else for(;i>o;o++){if((u||o in n)&&n[o]===e)return u||o||0}return!u&&-1}};var gt={includes:_t(true),indexOf:_t(false)};var yt=gt.indexOf;var mt=function(t,e){var r=g(t);var n=0;var i=[];var o;for(o in r)!S(W,o)&&S(r,o)&&i.push(o);while(e.length>n)if(S(r,o=e[n++])){~yt(i,o)||i.push(o)}return i};var jt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var bt=jt.concat("length","prototype");var St=Object.getOwnPropertyNames||function t(e){return mt(e,bt)};var wt={f:St};var xt=Object.getOwnPropertySymbols;var Ot={f:xt};var zt=ut("Reflect","ownKeys")||function t(e){var r=wt.f(M(e));var n=Ot.f;return n?r.concat(n(e)):r};var Pt=function(t,e){var r=zt(e);var n=A.f;var i=C.f;for(var o=0;o<r.length;o++){var a=r[o];if(!S(t,a))n(t,a,i(e,a))}};var kt=/#|\.prototype\./;var Ct=function(t,e){var r=Et[Mt(t)];return r==At?true:r==Ft?false:typeof e=="function"?i(e):!!e};var Mt=Ct.normalize=function(t){return String(t).replace(kt,".").toLowerCase()};var Et=Ct.data={};var Ft=Ct.NATIVE="N";var At=Ct.POLYFILL="P";var Gt=Ct;var Tt=C.f;var qt=function(t,e){var r=t.target;var n=t.global;var i=t.stat;var o,a,u,s,c,f;if(n){a=l}else if(i){a=l[r]||T(r,{})}else{a=(l[r]||{}).prototype}if(a)for(u in e){c=e[u];if(t.noTargetGet){f=Tt(a,u);s=f&&f.value}else s=a[u];o=Gt(n?u:r+(i?".":"#")+u,t.forced);if(!o&&s!==undefined){if(typeof c===typeof s)continue;Pt(c,s)}if(t.sham||s&&s.sham){G(c,"sham",true)}it(a,u,c,t)}};var Dt=function(t){if(typeof t!="function"){throw TypeError(String(t)+" is not a function")}return t};var It=function(n,i,t){Dt(n);if(i===undefined)return n;switch(t){case 0:return function(){return n.call(i)};case 1:return function(t){return n.call(i,t)};case 2:return function(t,e){return n.call(i,t,e)};case 3:return function(t,e,r){return n.call(i,t,e,r)}}return function(){return n.apply(i,arguments)}};var Lt=function(t){return Object(_(t))};var Bt=Array.isArray||function t(e){return p(e)=="Array"};var Nt=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())});var Kt=l.Symbol;var Rt=q("wks");var Vt=function(t){return Rt[t]||(Rt[t]=Nt&&Kt[t]||(Nt?Kt:K)("Symbol."+t))};var Wt=Vt("species");var Ut=function(t,e){var r;if(Bt(t)){r=t.constructor;if(typeof r=="function"&&(r===Array||Bt(r.prototype)))r=undefined;else if(y(r)){r=r[Wt];if(r===null)r=undefined}}return new(r===undefined?Array:r)(e===0?0:e)};var Ht=[].push;var Yt=function(h){var d=h==1;var v=h==2;var _=h==3;var g=h==4;var y=h==6;var m=h==5||y;return function(t,e,r,n){var i=Lt(t);var o=j(i);var a=It(e,r,3);var u=pt(o.length);var s=0;var c=n||Ut;var f=d?c(t,u):v?c(t,0):undefined;var l,p;for(;u>s;s++)if(m||s in o){l=o[s];p=a(l,s,i);if(h){if(d)f[s]=p;else if(p)switch(h){case 3:return true;case 5:return l;case 6:return s;case 2:Ht.call(f,l)}else if(g)return false}}return y?-1:_||g?g:f}};var Jt={forEach:Yt(0),map:Yt(1),filter:Yt(2),some:Yt(3),every:Yt(4),find:Yt(5),findIndex:Yt(6)};var Qt=Object.keys||function t(e){return mt(e,jt)};var Xt=h?Object.defineProperties:function t(e,r){M(e);var n=Qt(r);var i=n.length;var o=0;var a;while(i>o)A.f(e,a=n[o++],r[a]);return e};var Zt=ut("document","documentElement");var $t=V("IE_PROTO");var te="prototype";var ee=function(){};var re=function(){var t=O("iframe");var e=jt.length;var r="<";var n="script";var i=">";var o="java"+n+":";var a;t.style.display="none";Zt.appendChild(t);t.src=String(o);a=t.contentWindow.document;a.open();a.write(r+n+i+"document.F=Object"+r+"/"+n+i);a.close();re=a.F;while(e--)delete re[te][jt[e]];return re()};var ne=Object.create||function t(e,r){var n;if(e!==null){ee[te]=M(e);n=new ee;ee[te]=null;n[$t]=e}else n=re();return r===undefined?n:Xt(n,r)};W[$t]=true;var ie=Vt("unscopables");var oe=Array.prototype;if(oe[ie]==undefined){G(oe,ie,ne(null))}var ae=function(t){oe[ie][t]=true};var ue=Jt.find;var se="find";var ce=true;if(se in[])Array(1)[se](function(){ce=false});qt({target:"Array",proto:true,forced:ce},{find:function t(e){return ue(this,e,arguments.length>1?arguments[1]:undefined)}});ae(se);var fe=gt.includes;qt({target:"Array",proto:true},{includes:function t(e){return fe(this,e,arguments.length>1?arguments[1]:undefined)}});ae("includes");var le=Object.assign;var pe=!le||i(function(){var t={};var e={};var r=Symbol();var n="abcdefghijklmnopqrst";t[r]=7;n.split("").forEach(function(t){e[t]=t});return le({},t)[r]!=7||Qt(le({},e)).join("")!=n})?function t(e,r){var n=Lt(e);var i=arguments.length;var o=1;var a=Ot.f;var u=d.f;while(i>o){var s=j(arguments[o++]);var c=a?Qt(s).concat(a(s)):Qt(s);var f=c.length;var l=0;var p;while(f>l){p=c[l++];if(!h||u.call(s,p))n[p]=s[p]}}return n}:le;qt({target:"Object",stat:true,forced:Object.assign!==pe},{assign:pe});var he=Vt("match");var de=function(t){var e;return y(t)&&((e=t[he])!==undefined?!!e:p(t)=="RegExp")};var ve=function(t){if(de(t)){throw TypeError("The method doesn't accept regular expressions")}return t};var _e=Vt("match");var ge=function(e){var r=/./;try{"/./"[e](r)}catch(t){try{r[_e]=false;return"/./"[e](r)}catch(t){}}return false};var ye="".startsWith;var me=Math.min;qt({target:"String",proto:true,forced:!ge("startsWith")},{startsWith:function t(e){var r=String(_(this));ve(e);var n=pt(me(arguments.length>1?arguments[1]:undefined,r.length));var i=String(e);return ye?ye.call(r,i,n):r.slice(n,n+i.length)===i}});if(typeof window!=="undefined"){(function(){var n=function(t,e){var r=t.nodeType;if(r===3){e.push(t.textContent.replace(/&/,"&amp;").replace(/</,"&lt;").replace(">","&gt;"))}else if(r===1){e.push("<",t.tagName);if(t.hasAttributes()){[].forEach.call(t.attributes,function(t){e.push(" ",t.item.name,"='",t.item.value,"'")})}if(t.hasChildNodes()){e.push(">");[].forEach.call(t.childNodes,function(t){n(t,e)});e.push("</",t.tagName,">")}else{e.push("/>")}}else if(r==8){e.push("\x3c!--",t.nodeValue,"--\x3e")}};Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function(){var t=[];var e=this.firstChild;while(e){n(e,t);e=e.nextSibling}return t.join("")},set:function(t){while(this.firstChild){this.removeChild(this.firstChild)}try{var e=new DOMParser;e.async=false;var r="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+t+"</svg>";var n=e.parseFromString(r,"text/xml").documentElement;var i=n.firstChild;while(i){this.appendChild(this.ownerDocument.importNode(i,true));i=i.nextSibling}}catch(t){}}});Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function(){return this.innerHTML},set:function(t){this.innerHTML=t}})})()}});