!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("d3-color"),require("d3-scale")):"function"==typeof define&&define.amd?define("d3plus-color",["exports","d3-color","d3-scale"],r):r(e.d3plus_color=e.d3plus_color||{},e.d3_color,e.d3_scale)}(this,function(e,r,n){"use strict";function o(e,n,o,i){void 0===o&&(o=1),void 0===i&&(i=1),e=r.hsl(e),n=r.hsl(n);var t=Math.abs(n.h*i-e.h*o);t>180&&(t-=360);var s=(Math.min(e.h,n.h)+t/2)%360,l=e.l+(n.l*i-e.l*o)/2,c=e.s+(n.s*i-e.s*o)/2;return 0>s&&(s+=360),r.hsl("hsl("+s+","+100*c+"%,"+100*l+"%)").toString()}function i(e,r){return void 0===r&&(r={}),e in r?r[e]:e in a?a[e]:a.missing}function t(e,n){if(void 0===n&&(n={}),[null,void 0].indexOf(e)>=0)return i("missing",n);if(e===!0)return i("on",n);if(e===!1)return i("off",n);var o=r.color(e);return o?e.toString():i("scale",n)(e)}function s(e,n){void 0===n&&(n={}),e=r.rgb(e);var o=(299*e.r+587*e.g+114*e.b)/1e3;return o>=128?i("dark",n):i("light",n)}function l(e){return e=r.hsl(e),e.l>.45&&(e.s>.8&&(e.s=.8),e.l=.45),e.toString()}function c(e,n){return void 0===n&&(n=.5),e=r.hsl(e),n*=1-e.l,e.l+=n,e.s-=n,e.toString()}function f(e,n,o,i){void 0===o&&(o=1),void 0===i&&(i=1),e=r.hsl(e),n=r.hsl(n);var t=n.h*i-e.h*o;Math.abs(t)>180&&(t-=360);var s=(e.h-t)%360,l=e.l-(n.l*i-e.l*o)/2,c=e.s-(n.s*i-e.s*o)/2;return 0>s&&(s+=360),r.hsl("hsl("+s+","+100*c+"%,"+100*l+"%)").toString()}var d="0.4.0",a={dark:"#444444",light:"#f7f7f7",missing:"#cccccc",off:"#b22200",on:"#224f20",scale:n.scaleOrdinal().range(["#b22200","#282f6b","#eace3f","#b35c1e","#224f20","#5f487c","#759143","#419391","#993c88","#e89c89","#ffee8d","#afd5e8","#f7ba77","#a5c697","#c5b5e5","#d1d392","#bbefd0","#e099cf"])};e.version=d,e.add=o,e.assign=t,e.contrast=s,e.defaults=a,e.legible=l,e.lighter=c,e.subtract=f,Object.defineProperty(e,"__esModule",{value:!0})});