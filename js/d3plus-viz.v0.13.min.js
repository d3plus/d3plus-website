function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(t){if(typeof Symbol!=="undefined"&&Symbol.iterator in Object(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _inherits(t,e){if(typeof e!=="function"&&e!==null){throw new TypeError("Super expression must either be null or a function")}t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:true,configurable:true}});if(e)_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){_setPrototypeOf=Object.setPrototypeOf||function t(e,i){e.__proto__=i;return e};return _setPrototypeOf(t,e)}function _createSuper(r){var o=_isNativeReflectConstruct();return function t(){var e=_getPrototypeOf(r),i;if(o){var n=_getPrototypeOf(this).constructor;i=Reflect.construct(e,arguments,n)}else{i=e.apply(this,arguments)}return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,e){if(e&&(_typeof(e)==="object"||typeof e==="function")){return e}return _assertThisInitialized(t)}function _assertThisInitialized(t){if(t===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}function _isNativeReflectConstruct(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true}catch(t){return false}}function _getPrototypeOf(t){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function t(e){return e.__proto__||Object.getPrototypeOf(e)};return _getPrototypeOf(t)}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(!t)return;if(typeof t==="string")return _arrayLikeToArray(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor)i=t.constructor.name;if(i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,e)}function _arrayLikeToArray(t,e){if(e==null||e>t.length)e=t.length;for(var i=0,n=new Array(e);i<e;i++){n[i]=t[i]}return n}function _iterableToArrayLimit(t,e){if(typeof Symbol==="undefined"||!(Symbol.iterator in Object(t)))return;var i=[];var n=true;var r=false;var o=undefined;try{for(var a=t[Symbol.iterator](),s;!(n=(s=a.next()).done);n=true){i.push(s.value);if(e&&i.length===e)break}}catch(t){r=true;o=t}finally{try{if(!n&&a["return"]!=null)a["return"]()}finally{if(r)throw o}}return i}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(t,n.key,n)}}function _createClass(t,e,i){if(e)_defineProperties(t.prototype,e);if(i)_defineProperties(t,i);return t}function _typeof(t){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function t(e){return typeof e}}else{_typeof=function t(e){return e&&typeof Symbol==="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}}return _typeof(t)}
/*
  d3plus-viz v0.13.4
  Abstract ES6 class that drives d3plus visualizations.
  Copyright (c) 2021 D3plus - https://d3plus.org
  @license MIT
*/
(function(t){typeof define==="function"&&define.amd?define(t):t()})(function(){"use strict";var t=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function e(t,e,n){return n={path:e,exports:{},require:function t(e,i){return r(e,i===undefined||i===null?n.path:i)}},t(n,n.exports),n.exports}function r(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=function t(e){return e&&e.Math==Math&&e};var f=i((typeof globalThis==="undefined"?"undefined":_typeof(globalThis))=="object"&&globalThis)||i((typeof window==="undefined"?"undefined":_typeof(window))=="object"&&window)||i((typeof self==="undefined"?"undefined":_typeof(self))=="object"&&self)||i(_typeof(t)=="object"&&t)||function(){return this}()||Function("return this")();var s=function t(e){try{return!!e()}catch(t){return true}};var d=!s(function(){return Object.defineProperty({},1,{get:function t(){return 7}})[1]!=7});var n={}.propertyIsEnumerable;var o=Object.getOwnPropertyDescriptor;var a=o&&!n.call({1:2},1);var l=a?function t(e){var i=o(this,e);return!!i&&i.enumerable}:n;var _={f:l};var h=function t(e,i){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:i}};var c={}.toString;var u=function t(e){return c.call(e).slice(8,-1)};var g="".split;var C=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return u(t)=="String"?g.call(t,""):Object(t)}:Object;var p=function t(e){if(e==undefined)throw TypeError("Can't call method on "+e);return e};var v=function t(e){return C(p(e))};var m=function t(e){return _typeof(e)==="object"?e!==null:typeof e==="function"};var y=function t(e,i){if(!m(e))return e;var n,r;if(i&&typeof(n=e.toString)=="function"&&!m(r=n.call(e)))return r;if(typeof(n=e.valueOf)=="function"&&!m(r=n.call(e)))return r;if(!i&&typeof(n=e.toString)=="function"&&!m(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")};var b={}.hasOwnProperty;var w=function t(e,i){return b.call(e,i)};var S=f.document;var k=m(S)&&m(S.createElement);var z=function t(e){return k?S.createElement(e):{}};var x=!d&&!s(function(){return Object.defineProperty(z("div"),"a",{get:function t(){return 7}}).a!=7});var P=Object.getOwnPropertyDescriptor;var O=d?P:function t(e,i){e=v(e);i=y(i,true);if(x)try{return P(e,i)}catch(t){}if(w(e,i))return h(!_.f.call(e,i),e[i])};var T={f:O};var A=function t(e){if(!m(e)){throw TypeError(String(e)+" is not an object")}return e};var D=Object.defineProperty;var j=d?D:function t(e,i,n){A(e);i=y(i,true);A(n);if(x)try{return D(e,i,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");if("value"in n)e[i]=n.value;return e};var B={f:j};var H=d?function(t,e,i){return B.f(t,e,h(1,i))}:function(t,e,i){t[e]=i;return t};var M=function t(e,i){try{H(f,e,i)}catch(t){f[e]=i}return i};var E="__core-js_shared__";var F=f[E]||M(E,{});var L=F;var N=Function.toString;if(typeof L.inspectSource!="function"){L.inspectSource=function(t){return N.call(t)}}var R=L.inspectSource;var I=f.WeakMap;var q=typeof I==="function"&&/native code/.test(R(I));var V=e(function(t){(t.exports=function(t,e){return L[t]||(L[t]=e!==undefined?e:{})})("versions",[]).push({version:"3.8.1",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})});var W=0;var G=Math.random();var Y=function t(e){return"Symbol("+String(e===undefined?"":e)+")_"+(++W+G).toString(36)};var K=V("keys");var X=function t(e){return K[e]||(K[e]=Y(e))};var J={};var Q=f.WeakMap;var U,Z,$;var tt=function t(e){return $(e)?Z(e):U(e,{})};var et=function t(i){return function(t){var e;if(!m(t)||(e=Z(t)).type!==i){throw TypeError("Incompatible receiver, "+i+" required")}return e}};if(q){var it=L.state||(L.state=new Q);var nt=it.get;var rt=it.has;var ot=it.set;U=function t(e,i){i.facade=e;ot.call(it,e,i);return i};Z=function t(e){return nt.call(it,e)||{}};$=function t(e){return rt.call(it,e)}}else{var at=X("state");J[at]=true;U=function t(e,i){i.facade=e;H(e,at,i);return i};Z=function t(e){return w(e,at)?e[at]:{}};$=function t(e){return w(e,at)}}var st={set:U,get:Z,has:$,enforce:tt,getterFor:et};var lt=e(function(t){var e=st.get;var l=st.enforce;var h=String(String).split("String");(t.exports=function(t,e,i,n){var r=n?!!n.unsafe:false;var o=n?!!n.enumerable:false;var a=n?!!n.noTargetGet:false;var s;if(typeof i=="function"){if(typeof e=="string"&&!w(i,"name")){H(i,"name",e)}s=l(i);if(!s.source){s.source=h.join(typeof e=="string"?e:"")}}if(t===f){if(o)t[e]=i;else M(e,i);return}else if(!r){delete t[e]}else if(!a&&t[e]){o=true}if(o)t[e]=i;else H(t,e,i)})(Function.prototype,"toString",function t(){return typeof this=="function"&&e(this).source||R(this)})});var ht=f;var ct=function t(e){return typeof e=="function"?e:undefined};var ut=function t(e,i){return arguments.length<2?ct(ht[e])||ct(f[e]):ht[e]&&ht[e][i]||f[e]&&f[e][i]};var ft=Math.ceil;var dt=Math.floor;var _t=function t(e){return isNaN(e=+e)?0:(e>0?dt:ft)(e)};var gt=Math.min;var pt=function t(e){return e>0?gt(_t(e),9007199254740991):0};var vt=Math.max;var mt=Math.min;var yt=function t(e,i){var n=_t(e);return n<0?vt(n+i,0):mt(n,i)};var bt=function t(s){return function(t,e,i){var n=v(t);var r=pt(n.length);var o=yt(i,r);var a;if(s&&e!=e)while(r>o){a=n[o++];if(a!=a)return true}else for(;r>o;o++){if((s||o in n)&&n[o]===e)return s||o||0}return!s&&-1}};var Ct={includes:bt(true),indexOf:bt(false)};var wt=Ct.indexOf;var St=function t(e,i){var n=v(e);var r=0;var o=[];var a;for(a in n){!w(J,a)&&w(n,a)&&o.push(a)}while(i.length>r){if(w(n,a=i[r++])){~wt(o,a)||o.push(a)}}return o};var kt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];var zt=kt.concat("length","prototype");var xt=Object.getOwnPropertyNames||function t(e){return St(e,zt)};var Pt={f:xt};var Ot=Object.getOwnPropertySymbols;var Tt={f:Ot};var At=ut("Reflect","ownKeys")||function t(e){var i=Pt.f(A(e));var n=Tt.f;return n?i.concat(n(e)):i};var Dt=function t(e,i){var n=At(i);var r=B.f;var o=T.f;for(var a=0;a<n.length;a++){var s=n[a];if(!w(e,s))r(e,s,o(i,s))}};var jt=/#|\.prototype\./;var Bt=function t(e,i){var n=Mt[Ht(e)];return n==Ft?true:n==Et?false:typeof i=="function"?s(i):!!i};var Ht=Bt.normalize=function(t){return String(t).replace(jt,".").toLowerCase()};var Mt=Bt.data={};var Et=Bt.NATIVE="N";var Ft=Bt.POLYFILL="P";var Lt=Bt;var Nt=T.f;var Rt=function t(e,i){var n=e.target;var r=e.global;var o=e.stat;var a,s,l,h,c,u;if(r){s=f}else if(o){s=f[n]||M(n,{})}else{s=(f[n]||{}).prototype}if(s)for(l in i){c=i[l];if(e.noTargetGet){u=Nt(s,l);h=u&&u.value}else h=s[l];a=Lt(r?l:n+(o?".":"#")+l,e.forced);if(!a&&h!==undefined){if(_typeof(c)===_typeof(h))continue;Dt(c,h)}if(e.sham||h&&h.sham){H(c,"sham",true)}lt(s,l,c,e)}};var It=function t(e){if(typeof e!="function"){throw TypeError(String(e)+" is not a function")}return e};var qt=function t(n,r,e){It(n);if(r===undefined)return n;switch(e){case 0:return function(){return n.call(r)};case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,i){return n.call(r,t,e,i)}}return function(){return n.apply(r,arguments)}};var Vt=function t(e){return Object(p(e))};var Wt=Array.isArray||function t(e){return u(e)=="Array"};var Gt=!!Object.getOwnPropertySymbols&&!s(function(){return!String(Symbol())});var Yt=Gt&&!Symbol.sham&&_typeof(Symbol.iterator)=="symbol";var Kt=V("wks");var Xt=f.Symbol;var Jt=Yt?Xt:Xt&&Xt.withoutSetter||Y;var Qt=function t(e){if(!w(Kt,e)){if(Gt&&w(Xt,e))Kt[e]=Xt[e];else Kt[e]=Jt("Symbol."+e)}return Kt[e]};var Ut=Qt("species");var Zt=function t(e,i){var n;if(Wt(e)){n=e.constructor;if(typeof n=="function"&&(n===Array||Wt(n.prototype)))n=undefined;else if(m(n)){n=n[Ut];if(n===null)n=undefined}}return new(n===undefined?Array:n)(i===0?0:i)};var $t=[].push;var te=function t(d){var _=d==1;var g=d==2;var p=d==3;var v=d==4;var m=d==6;var y=d==7;var b=d==5||m;return function(t,e,i,n){var r=Vt(t);var o=C(r);var a=qt(e,i,3);var s=pt(o.length);var l=0;var h=n||Zt;var c=_?h(t,s):g||y?h(t,0):undefined;var u,f;for(;s>l;l++){if(b||l in o){u=o[l];f=a(u,l,r);if(d){if(_)c[l]=f;else if(f)switch(d){case 3:return true;case 5:return u;case 6:return l;case 2:$t.call(c,u)}else switch(d){case 4:return false;case 7:$t.call(c,u)}}}}return m?-1:p||v?v:c}};var ee={forEach:te(0),map:te(1),filter:te(2),some:te(3),every:te(4),find:te(5),findIndex:te(6),filterOut:te(7)};var ie=Object.keys||function t(e){return St(e,kt)};var ne=d?Object.defineProperties:function t(e,i){A(e);var n=ie(i);var r=n.length;var o=0;var a;while(r>o){B.f(e,a=n[o++],i[a])}return e};var re=ut("document","documentElement");var oe=">";var ae="<";var se="prototype";var le="script";var he=X("IE_PROTO");var ce=function t(){};var ue=function t(e){return ae+le+oe+e+ae+"/"+le+oe};var fe=function t(e){e.write(ue(""));e.close();var i=e.parentWindow.Object;e=null;return i};var de=function t(){var e=z("iframe");var i="java"+le+":";var n;e.style.display="none";re.appendChild(e);e.src=String(i);n=e.contentWindow.document;n.open();n.write(ue("document.F=Object"));n.close();return n.F};var _e;var ge=function t(){try{_e=document.domain&&new ActiveXObject("htmlfile")}catch(t){}ge=_e?fe(_e):de();var e=kt.length;while(e--){delete ge[se][kt[e]]}return ge()};J[he]=true;var pe=Object.create||function t(e,i){var n;if(e!==null){ce[se]=A(e);n=new ce;ce[se]=null;n[he]=e}else n=ge();return i===undefined?n:ne(n,i)};var ve=Qt("unscopables");var me=Array.prototype;if(me[ve]==undefined){B.f(me,ve,{configurable:true,value:pe(null)})}var ye=function t(e){me[ve][e]=true};var be=Object.defineProperty;var Ce={};var we=function t(e){throw e};var Se=function t(e,i){if(w(Ce,e))return Ce[e];if(!i)i={};var n=[][e];var r=w(i,"ACCESSORS")?i.ACCESSORS:false;var o=w(i,0)?i[0]:we;var a=w(i,1)?i[1]:undefined;return Ce[e]=!!n&&!s(function(){if(r&&!d)return true;var t={length:-1};if(r)be(t,1,{enumerable:true,get:we});else t[1]=1;n.call(t,o,a)})};var ke=ee.find;var ze="find";var xe=true;var Pe=Se(ze);if(ze in[])Array(1)[ze](function(){xe=false});Rt({target:"Array",proto:true,forced:xe||!Pe},{find:function t(e){return ke(this,e,arguments.length>1?arguments[1]:undefined)}});ye(ze);var Oe=Ct.includes;var Te=Se("indexOf",{ACCESSORS:true,1:0});Rt({target:"Array",proto:true,forced:!Te},{includes:function t(e){return Oe(this,e,arguments.length>1?arguments[1]:undefined)}});ye("includes");var Ae=Object.assign;var De=Object.defineProperty;var je=!Ae||s(function(){if(d&&Ae({b:1},Ae(De({},"a",{enumerable:true,get:function t(){De(this,"b",{value:3,enumerable:false})}}),{b:2})).b!==1)return true;var t={};var e={};var i=Symbol();var n="abcdefghijklmnopqrst";t[i]=7;n.split("").forEach(function(t){e[t]=t});return Ae({},t)[i]!=7||ie(Ae({},e)).join("")!=n})?function t(e,i){var n=Vt(e);var r=arguments.length;var o=1;var a=Tt.f;var s=_.f;while(r>o){var l=C(arguments[o++]);var h=a?ie(l).concat(a(l)):ie(l);var c=h.length;var u=0;var f;while(c>u){f=h[u++];if(!d||s.call(l,f))n[f]=l[f]}}return n}:Ae;Rt({target:"Object",stat:true,forced:Object.assign!==je},{assign:je});var Be=Qt("match");var He=function t(e){var i;return m(e)&&((i=e[Be])!==undefined?!!i:u(e)=="RegExp")};var Me=function t(e){if(He(e)){throw TypeError("The method doesn't accept regular expressions")}return e};var Ee=Qt("match");var Fe=function t(e){var i=/./;try{"/./"[e](i)}catch(t){try{i[Ee]=false;return"/./"[e](i)}catch(t){}}return false};Rt({target:"String",proto:true,forced:!Fe("includes")},{includes:function t(e){return!!~String(p(this)).indexOf(Me(e),arguments.length>1?arguments[1]:undefined)}});var Le=T.f;var Ne="".startsWith;var Re=Math.min;var Ie=Fe("startsWith");var qe=!Ie&&!!function(){var t=Le(String.prototype,"startsWith");return t&&!t.writable}();Rt({target:"String",proto:true,forced:!qe&&!Ie},{startsWith:function t(e){var i=String(p(this));Me(e);var n=pt(Re(arguments.length>1?arguments[1]:undefined,i.length));var r=String(e);return Ne?Ne.call(i,r,n):i.slice(n,n+r.length)===r}});if(typeof window!=="undefined"){(function(){try{if(typeof SVGElement==="undefined"||Boolean(SVGElement.prototype.innerHTML)){return}}catch(t){return}function i(t){switch(t.nodeType){case 1:return r(t);case 3:return e(t);case 8:return n(t)}}function e(t){return t.textContent.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function n(t){return"\x3c!--"+t.nodeValue+"--\x3e"}function r(t){var e="";e+="<"+t.tagName;if(t.hasAttributes()){[].forEach.call(t.attributes,function(t){e+=" "+t.name+'="'+t.value+'"'})}e+=">";if(t.hasChildNodes()){[].forEach.call(t.childNodes,function(t){e+=i(t)})}e+="</"+t.tagName+">";return e}Object.defineProperty(SVGElement.prototype,"innerHTML",{get:function t(){var e="";[].forEach.call(this.childNodes,function(t){e+=i(t)});return e},set:function t(e){while(this.firstChild){this.removeChild(this.firstChild)}try{var i=new DOMParser;i.async=false;var n="<svg xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'>"+e+"</svg>";var r=i.parseFromString(n,"text/xml").documentElement;[].forEach.call(r.childNodes,function(t){this.appendChild(this.ownerDocument.importNode(t,true))}.bind(this))}catch(t){throw new Error("Error parsing markup string")}}});Object.defineProperty(SVGElement.prototype,"innerSVG",{get:function t(){return this.innerHTML},set:function t(e){this.innerHTML=e}})})()}});(function(t,e){(typeof exports==="undefined"?"undefined":_typeof(exports))==="object"&&typeof module!=="undefined"?e(exports,require("d3-request"),require("d3-array"),require("d3-brush"),require("d3-color"),require("d3-collection"),require("d3-queue"),require("d3-selection"),require("d3-transition"),require("d3-zoom"),require("lrucache"),require("d3plus-axis"),require("d3plus-color"),require("d3plus-common"),require("d3plus-form"),require("d3plus-format"),require("d3plus-legend"),require("d3plus-text"),require("d3plus-timeline"),require("d3plus-tooltip"),require("d3plus-export")):typeof define==="function"&&define.amd?define("d3plus-viz",["exports","d3-request","d3-array","d3-brush","d3-color","d3-collection","d3-queue","d3-selection","d3-transition","d3-zoom","lrucache","d3plus-axis","d3plus-color","d3plus-common","d3plus-form","d3plus-format","d3plus-legend","d3plus-text","d3plus-timeline","d3plus-tooltip","d3plus-export"],e):(t=typeof globalThis!=="undefined"?globalThis:t||self,e(t.d3plus={},t.d3Request,t.d3Array,t.d3Brush,t.d3Color,t.d3Collection,t.d3Queue,t.d3Selection,t.d3Transition,t.d3Zoom,t.lrucache,t.d3plusAxis,t.d3plusColor,t.d3plusCommon,t.d3plusForm,t.d3plusFormat,t.d3plusLegend,t.d3plusText,t.d3plusTimeline,t.d3plusTooltip,t.d3plusExport))})(this,function(t,r,_,n,l,v,d,g,p,f,e,m,h,y,o,b,a,c,u,C,w){"use strict";function i(t){return t&&_typeof(t)==="object"&&"default"in t?t:{default:t}}var S=i(e);var k=function t(e){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"data";return e.reduce(function(t,e){var i=[];if(Array.isArray(e)){i=e}else{if(e[n]){i=e[n]}else{console.warn('d3plus-viz: Please implement a "dataFormat" callback to concat the arrays manually (consider using the d3plus.dataConcat method in your callback). Currently unable to concatenate (using key: "'.concat(n,'") the following response:'),e)}}return t.concat(i)},[])};var z=function t(e){return typeof e==="string"||_typeof(e)==="object"&&e.url&&e.headers};var x=function t(e){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"data";var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"headers";return e[i].map(function(n){return e[r].reduce(function(t,e,i){return t[e]=n[i],t},{})})};function s(o,a,s,l){var h=this;var c;var u=function t(e){var i=e.slice(e.length-4);switch(i){case".csv":return r.csv;case".tsv":return r.tsv;case".txt":return r.text;default:return r.json}};var f=function t(e,i,n){if(i!==r.json&&!e&&n&&n instanceof Array){n.forEach(function(t){for(var e in t){if(!isNaN(t[e]))t[e]=parseFloat(t[e]);else if(t[e].toLowerCase()==="false")t[e]=false;else if(t[e].toLowerCase()==="true")t[e]=true;else if(t[e].toLowerCase()==="null")t[e]=null;else if(t[e].toLowerCase()==="undefined")t[e]=undefined}})}return n};var d=function t(e){return e.reduce(function(t,e){return e?t+1:t},0)};var _=function t(e,i){return i.indexOf(e)};if(!(o instanceof Array))o=[o];var t=o.find(z);var g=new Array(o.length);var p=[];if(t){o.forEach(function(t,e){if(z(t))p.push(t);else g[e]=t})}else{g[0]=o}var v=d(g);p.forEach(function(t){var e={},n=t;if(_typeof(t)==="object"){n=t.url;e=t.headers}c=u(n);var i=c(n);for(var r in e){if({}.hasOwnProperty.call(e,r)){i.header(r,e[r])}}i.get(function(t,e){e=t?[]:e;if(e&&!(e instanceof Array)&&e.data&&e.headers)e=x(e);e=f(t,c,e);g[_(n,o)]=e;if(d(g)-v===p.length){e=d(g)===1?g[0]:g;if(h._cache)h._lrucache.set("".concat(s,"_").concat(n),e);if(a){var i=a(d(g)===1?g[0]:g);if(s==="data"&&!(i instanceof Array)){e=i.data;delete i.data;h.config(i)}else e=i}else if(s==="data"){e=k(g,"data")}if(s&&"_".concat(s)in h)h["_".concat(s)]=e;if(l)l(t,e)}})});if(p.length===0){g=g.map(function(t){if(t&&!(t instanceof Array)&&t.data&&t.headers)t=x(t);return t});var e=d(g)===1?g[0]:g;if(a){var i=a(d(g)===1?g[0]:g);if(s==="data"&&!(i instanceof Array)){e=i.data;delete i.data;this.config(i)}else e=i}else if(s==="data"){e=k(g,"data")}if(s&&"_".concat(s)in this)this["_".concat(s)]=e;if(l)l(null,e)}}function P(t,e,i){if(!(t instanceof Array))t=[t];var n=t.find(z);if(n){var r=this._queue.find(function(t){return t[3]==="data"});var o=[s.bind(this),t,e,"data"];if(r)this._queue[this._queue.indexOf(r)]=o;else this._queue.push(o)}else{this["_".concat(i)]=t}}var O=function(){function t(){_classCallCheck(this,t);this._isVisible=false}_createClass(t,[{key:"exit",value:function t(e,i){e.transition().duration(i).style("opacity",0).transition().remove();this._isVisible=false}},{key:"hide",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=e.duration,n=i===void 0?600:i,r=e.callback;this.mask.call(this.exit.bind(this),n);this.elem.call(this.exit.bind(this),n);if(r)setTimeout(r,n+100);this._isVisible=false;return this}},{key:"render",value:function t(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},i=e.callback,n=e.container,r=n===void 0?"body":n,o=e.duration,a=o===void 0?600:o,s=e.html,l=s===void 0?"Please Wait":s,h=e.mask,c=h===void 0?"rgba(0, 0, 0, 0.05)":h,u=e.style,f=u===void 0?{}:u;var d=g.select(r);this.mask=d.selectAll("div.d3plus-Mask").data(c?[c]:[]);this.mask=this.mask.enter().append("div").attr("class","d3plus-Mask").style("opacity",1).merge(this.mask);this.mask.exit().call(this.exit.bind(this),a);y.stylize(this.mask,{"background-color":String,bottom:"0px",left:"0px",position:"absolute",right:"0px",top:"0px"});this.elem=d.selectAll("div.d3plus-Message").data([l]);this.elem=this.elem.enter().append("div").attr("class","d3plus-Message").style("opacity",1).merge(this.elem).html(String);y.stylize(this.elem,f);if(i)setTimeout(i,100);this._isVisible=true;return this}}]);return t}();function T(){var t=this._history.length;var e=y.elem("g.d3plus-viz-back",{parent:this._select,transition:this._transition,update:{transform:"translate(".concat(this._margin.left,", ").concat(this._margin.top,")")}}).node();this._backClass.data(t?[{text:"← ".concat(this._translate("Back")),x:0,y:0}]:[]).select(e).config(this._backConfig).render();this._margin.top+=t?this._backClass.fontSize()()+this._backClass.padding()()*2:0}function A(){var n=this;var t=this._data;var e=this._colorScalePosition||"bottom";var i=["top","bottom"].includes(e);var r=this._colorScalePadding()?this._padding:{top:0,right:0,bottom:0,left:0};var o=this._width-(this._margin.left+this._margin.right+r.left+r.right);var a=i?_.min([this._colorScaleMaxSize,o]):this._width-(this._margin.left+this._margin.right);var s=this._height-(this._margin.bottom+this._margin.top+r.bottom+r.top);var l=!i?_.min([this._colorScaleMaxSize,s]):this._height-(this._margin.bottom+this._margin.top);var h={opacity:this._colorScalePosition?1:0,transform:"translate(".concat(i?this._margin.left+r.left+(o-a)/2:this._margin.left,", ").concat(i?this._margin.top:this._margin.top+r.top+(s-l)/2,")")};var c=this._colorScale&&t&&t.length>1;var u=y.elem("g.d3plus-viz-colorScale",{condition:c&&!this._colorScaleConfig.select,enter:h,parent:this._select,transition:this._transition,update:h}).node();if(c){var f=t.filter(function(t,e){var i=n._colorScale(t,e);return i!==undefined&&i!==null});this._colorScaleClass.align({bottom:"end",left:"start",right:"end",top:"start"}[e]||"bottom").duration(this._duration).data(f).height(l).locale(this._locale).orient(e).select(u).value(this._colorScale).width(a).config(this._colorScaleConfig).render();var d=this._colorScaleClass.outerBounds();if(this._colorScalePosition&&!this._colorScaleConfig.select&&d.height){if(i)this._margin[e]+=d.height+this._legendClass.padding()*2;else this._margin[e]+=d.width+this._legendClass.padding()*2}}else{this._colorScaleClass.config(this._colorScaleConfig)}}var D={Button:o.Button,Radio:o.Radio,Select:o.Select};function j(){var u=this;var f=this;var d=this._controlPadding()?this._padding:{top:0,right:0,bottom:0,left:0};var _=["left","right","top","bottom"];var t=function t(e){var l=_[e];var h=(u._controls||[]).filter(function(t){return!t.position&&l==="bottom"||t.position===l});if(u._downloadButton&&u._downloadPosition===l){h.push({data:[{text:u._translate("Download"),value:1}],label:"downloadButton",on:{click:function t(){var e=u._detectResize;if(e)u.detectResize(false).render();w.saveElement(u._select.node(),Object.assign({title:u._title||undefined},u._downloadConfig),{callback:function t(){setTimeout(function(){if(e)u.detectResize(e).render()},5e3)}})}},type:"Button"})}var i=l==="top"||l==="bottom";var n={height:i?u._height-(u._margin.top+u._margin.bottom):u._height-(u._margin.top+u._margin.bottom+d.top+d.bottom),width:i?u._width-(u._margin.left+u._margin.right+d.left+d.right):u._width-(u._margin.left+u._margin.right)};n.x=(i?u._margin.left+d.left:u._margin.left)+(l==="right"?u._width-u._margin.bottom:0);n.y=(i?u._margin.top:u._margin.top+d.top)+(l==="bottom"?u._height-u._margin.bottom:0);var r=y.elem("foreignObject.d3plus-viz-controls-".concat(l),{condition:h.length,enter:Object.assign({opacity:0},n),exit:Object.assign({opacity:0},n),parent:u._select,transition:u._transition,update:{height:n.height,opacity:1,width:n.width}});var c=r.selectAll("div.d3plus-viz-controls-container").data([null]);c=c.enter().append("xhtml:div").attr("class","d3plus-viz-controls-container").merge(c);if(h.length){var o=function t(e){var i=Object.assign({},h[e]);var n={};if(i.on){var r=function t(e){if({}.hasOwnProperty.call(i.on,e)){n[e]=function(){i.on[e].bind(f)(this.value)}}};for(var o in i.on){r(o)}}var a=i.label||"".concat(l,"-").concat(e);if(!u._controlCache[a]){var s=i.type&&D[i.type]?i.type:"Select";u._controlCache[a]=(new D[s]).container(c.node());if(i.checked)u._controlCache[a].checked(i.checked);if(i.selected)u._controlCache[a].selected(i.selected)}delete i.checked;delete i.selected;u._controlCache[a].config(i).config({on:n}).config(u._controlConfig).render()};for(var a=0;a<h.length;a++){o(a)}c.style("display",["top","bottom"].includes(l)?"block":"inline-block").style("text-align",["top","bottom"].includes(l)?"center":l);var s=c.node().getBoundingClientRect();r.transition(u._transition).attr("x",n.x-(l==="right"?s.width:0)).attr("y",n.y-(l==="bottom"?s.height:0)).attr("height",i?s.height:n.height).attr("width",i?n.width:s.width);u._margin[l]+=["top","bottom"].includes(l)?s.height:s.width}};for(var e=0;e<_.length;e++){t(e)}}function B(t,e){return this._drawLabel(t,e,this._legendDepth)}function H(){var a=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var e=this._legendClass.outerBounds();var i=this._legendPosition;var n=["top","bottom"].includes(i);var r=this._legendPadding()?this._padding:{top:0,right:0,bottom:0,left:0};var o={transform:"translate(".concat(n?this._margin.left+r.left:this._margin.left,", ").concat(n?this._margin.top:this._margin.top+r.top,")")};var s=y.elem("g.d3plus-viz-legend",{condition:this._legend&&!this._legendConfig.select,enter:o,parent:this._select,transition:this._transition,update:o}).node();var l=[];var h=function t(e,i){var n=a._shape(e,i);var r=n==="Line"?"stroke":"fill";var o=a._shapeConfig[n]&&a._shapeConfig[n][r]?a._shapeConfig[n][r]:a._shapeConfig[r];return typeof o==="function"?o.bind(a)(e,i):o};var c=function t(e,i){var n=a._shape(e,i);var r=a._shapeConfig[n]&&a._shapeConfig[n].opacity?a._shapeConfig[n].opacity:a._shapeConfig.opacity;return typeof r==="function"?r.bind(a)(e,i):r};var u=function t(e,i){return"".concat(h(e,i),"_").concat(c(e,i))};if(this._legend){v.nest().key(u).rollup(function(t){return l.push(y.merge(t,a._aggs))}).entries(this._colorScale?t.filter(function(t,e){return a._colorScale(t,e)===undefined}):t)}l.sort(this._legendSort);var f=l.map(function(t,e){return a._ids(t,e).slice(0,a._drawDepth+1)});this._legendDepth=0;var d=function t(e){var i=f.map(function(t){return t[e]});if(!i.some(function(t){return t instanceof Array})&&Array.from(new Set(i)).length===l.length){a._legendDepth=e;return"break"}};for(var _=0;_<=this._drawDepth;_++){var g=d(_);if(g==="break")break}var p=function t(e,i){var n=a._id(e,i);if(n instanceof Array)n=n[0];return a._hidden.includes(n)||a._solo.length&&!a._solo.includes(n)};this._legendClass.id(u).align(n?"center":i).direction(n?"row":"column").duration(this._duration).data(l.length>this._legendCutoff||this._colorScale?l:[]).height(n?this._height-(this._margin.bottom+this._margin.top):this._height-(this._margin.bottom+this._margin.top+r.bottom+r.top)).locale(this._locale).parent(this).select(s).verticalAlign(!n?"middle":i).width(n?this._width-(this._margin.left+this._margin.right+r.left+r.right):this._width-(this._margin.left+this._margin.right)).shapeConfig(y.configPrep.bind(this)(this._shapeConfig,"legend")).shapeConfig({fill:function t(e,i){return p(e,i)?a._hiddenColor(e,i):h(e,i)},labelConfig:{fontOpacity:function t(e,i){return p(e,i)?a._hiddenOpacity(e,i):1}},opacity:c}).config(this._legendConfig).render();if(!this._legendConfig.select&&e.height){if(n)this._margin[i]+=e.height+this._legendClass.padding()*2;else this._margin[i]+=e.width+this._legendClass.padding()*2}}function M(i){var n=this;if(!(i instanceof Array))i=[i,i];if(JSON.stringify(i)!==JSON.stringify(this._timelineSelection)){this._timelineSelection=i;i=i.map(Number);this.timeFilter(function(t){var e=m.date(n._time(t)).getTime();return e>=i[0]&&e<=i[1]}).render()}}function E(){var e=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var i=this._time&&this._timeline;var n=i?y.unique(this._data.map(this._time)).map(m.date):[];i=i&&n.length>1;var r=this._timelinePadding()?this._padding:{top:0,right:0,bottom:0,left:0};var o={transform:"translate(".concat(this._margin.left+r.left,", 0)")};var a=y.elem("g.d3plus-viz-timeline",{condition:i,enter:o,parent:this._select,transition:this._transition,update:o}).node();if(i){var s=this._timelineClass.domain(_.extent(n)).duration(this._duration).height(this._height-this._margin.bottom).locale(this._locale).select(a).ticks(n.sort(function(t,e){return+t-+e})).width(this._width-(this._margin.left+this._margin.right+r.left+r.right));if(s.selection()===undefined){this._timelineSelection=_.extent(t,this._time).map(m.date);s.selection(this._timelineSelection)}var l=this._timelineConfig;s.config(l).on("end",function(t){M.bind(e)(t);if(l.on&&l.on.end)l.on.end(t)}).render();this._margin.bottom+=s.outerBounds().height+s.padding()*2}}function F(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var e=this._title?this._title(t):false;var i=this._titlePadding()?this._padding:{top:0,right:0,bottom:0,left:0};var n={transform:"translate(".concat(this._margin.left+i.left,", ").concat(this._margin.top,")")};var r=y.elem("g.d3plus-viz-title",{enter:n,parent:this._select,transition:this._transition,update:n}).node();this._titleClass.data(e?[{text:e}]:[]).locale(this._locale).select(r).width(this._width-(this._margin.left+this._margin.right+i.left+i.right)).config(this._titleConfig).render();this._margin.top+=e?r.getBBox().height:0}function L(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var e=typeof this._total==="function"?_.sum(t.map(this._total)):this._total===true&&this._size?_.sum(t.map(this._size)):false;var i=this._totalPadding()?this._padding:{top:0,right:0,bottom:0,left:0};var n={transform:"translate(".concat(this._margin.left+i.left,", ").concat(this._margin.top,")")};var r=y.elem("g.d3plus-viz-total",{enter:n,parent:this._select,transition:this._transition,update:n}).node();this._totalClass.data(e?[{text:this._totalFormat(e)}]:[]).locale(this._locale).select(r).width(this._width-(this._margin.left+this._margin.right+i.left+i.right)).config(this._totalConfig).render();this._margin.top+=e?r.getBBox().height+this._totalConfig.padding*2:0}function N(t,e){if(!t)return undefined;if(t.tagName===undefined||["BODY","HTML"].indexOf(t.tagName)>=0){var i=window["inner".concat(e.charAt(0).toUpperCase()+e.slice(1))];var n=g.select(t);if(e==="width"){i-=parseFloat(n.style("margin-left"),10);i-=parseFloat(n.style("margin-right"),10);i-=parseFloat(n.style("padding-left"),10);i-=parseFloat(n.style("padding-right"),10)}else{i-=parseFloat(n.style("margin-top"),10);i-=parseFloat(n.style("margin-bottom"),10);i-=parseFloat(n.style("padding-top"),10);i-=parseFloat(n.style("padding-bottom"),10)}return i}else{var r=parseFloat(g.select(t).style(e),10);if(typeof r==="number"&&r>0)return r;else return N(t.parentNode,e)}}function R(t){return[N(t,"width"),N(t,"height")]}function I(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var i=window.pageXOffset!==undefined?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft;var n=window.pageYOffset!==undefined?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;var r=t.getBoundingClientRect();var o=r.height,a=r.left+i,s=r.top+n,l=r.width;return n+window.innerHeight>s+e&&n+e<s+o&&i+window.innerWidth>a+e&&i+e<a+l}function q(t,e){this._select.style("cursor","auto");if(this._drawDepth<this._groupBy.length-1){var n=this._groupBy[this._drawDepth],r=n(t,e);this.hover(false);if(this._tooltip(t,e))this._tooltipClass.data([]).render();var o=this._filter;this._history.push({depth:this._depth,filter:o});this.config({depth:this._drawDepth+1,filter:function t(e,i){return(!o||o(e,i))&&n(e,i)===r}}).render()}}function V(t,e){var n=this;this._select.style("cursor","auto");if(this._tooltip(t,e))this._tooltipClass.data([]).render();var i=this._id(t,e);if(!(i instanceof Array))i=[i];var r=this._hidden.indexOf(i[0]);var o=this._solo.indexOf(i[0]);var a=_.merge(this._legendClass.data().map(function(t,e){var i=n._id(t,e);if(!(i instanceof Array))i=[i];return i})).length;if(g.event.shiftKey){if(r<0&&!this._solo.length){this._hidden=this._hidden.concat(i);if(this._solo.length===a)this._solo=[];if(this._hidden.length===a)this._hidden=[];this.render()}else if(o>=0){this._solo=[];this._hidden=[];this.render()}}else{if(o<0&&this._hidden.length<a-1){this._solo=i;this._hidden=[]}else{this._solo=[];this._hidden=[]}this.render()}}var W=function t(e){return e.reduce(function(t,e){if(e instanceof Array){if(t.length){var i=t.slice();t=[];e.forEach(function(e){return t=t.concat(i.map(function(t){return"".concat(t,"_").concat(e)}))})}else{t=e.slice()}}else if(t.length){t=t.map(function(t){return"".concat(t,"_").concat(e)})}else{t.push(e)}return t},[])};function G(t,e){var n=this;if(this._shapeConfig.hoverOpacity!==1){var r=W(this._ids(t,e));this.hover(function(t,e){var i=W(n._ids(t,e));return r.some(function(t){return i.includes(t)})})}}function Y(i,n){var r=this;setTimeout(function(){if(r._shapeConfig.hoverOpacity!==1&&r._hover?r._hover(i,n):true){r.hover(false)}var t=r._tooltipClass.data();if(t.length&&r._tooltip(i,n)){var e=t[0];while(e.__d3plus__&&e.data){e=e.data}if(r._id(e)===r._id(i))r._tooltipClass.data([]).render()}},50);this._select.style("cursor","auto")}function K(t,e,i){var n=this;var r=g.event.touches?[g.event.touches[0].clientX,g.event.touches[0].clientY]:[g.event.clientX,g.event.clientY];var o=_.merge(this._legendClass.data().map(function(t,e){var i=n._id(t,e);if(!(i instanceof Array))i=[i];return i})).length;if(t&&this._tooltip(t,e)){var a=this._id(t,e);if(a instanceof Array)a=a[0];var s=this._translate;this._select.style("cursor","pointer");this._tooltipClass.data([i||t]).footer(this._solo.length&&!this._solo.includes(a)?s("Click to Highlight"):this._solo.length===1&&this._solo.includes(a)||this._hidden.length===o-1?s("Click to Reset"):this._solo.includes(a)?s("Click to Hide"):this._hidden.includes(a)?s("Click to Highlight"):"".concat(s("Click to Highlight"),"<br />").concat(s("Shift+Click to Hide"))).title(this._legendConfig.label?this._legendClass.label():B.bind(this)).position(r).config(y.configPrep.bind(this)(this._tooltipConfig)).config(y.configPrep.bind(this)(this._legendTooltip)).render()}}function X(t,e,i){if(t&&this._tooltip(t,e)){this._select.style("cursor","pointer");var n=g.event.touches?[g.event.touches[0].clientX,g.event.touches[0].clientY]:[g.event.clientX,g.event.clientY];this._tooltipClass.data([i||t]).footer(this._drawDepth<this._groupBy.length-1?this._translate("Click to Expand"):false).title(this._drawLabel).position(n).config(y.configPrep.bind(this)(this._tooltipConfig)).render()}}function J(t){g.event.preventDefault();g.event.stopPropagation();if(!t)this._tooltipClass.data([]).render()}var Q=false;function U(){if(!this._container||!this._zoomGroup)return;var t=this._zoomHeight||this._height-this._margin.top-this._margin.bottom,e=this,i=this._zoomWidth||this._width-this._margin.left-this._margin.right;this._zoomBehavior.extent([[0,0],[i,t]]).scaleExtent([1,this._zoomMax]).translateExtent([[0,0],[i,t]]).on("zoom",$.bind(this));this._zoomToBounds=et.bind(this);var n=g.select(this._select.node().parentNode).selectAll("div.d3plus-zoom-control").data(this._zoom?[0]:[]);var r=n.enter().append("div").attr("class","d3plus-zoom-control");n.exit().remove();n=n.merge(r).style("position","absolute").style("top","".concat(this._margin.top,"px")).style("left","".concat(this._margin.left,"px"));r.append("div").attr("class","zoom-control zoom-in");n.select(".zoom-in").on("click",tt.bind(this,this._zoomFactor)).html("&#65291;");r.append("div").attr("class","zoom-control zoom-out");n.select(".zoom-out").on("click",tt.bind(this,1/this._zoomFactor)).html("&#65293;");r.append("div").attr("class","zoom-control zoom-reset");n.select(".zoom-reset").on("click",tt.bind(this,0)).html("&#8634");r.append("div").attr("class","zoom-control zoom-brush");n.select(".zoom-brush").on("click",function(){g.select(this).classed("active",!Q).call(y.stylize,Q?e._zoomControlStyle||{}:e._zoomControlStyleActive||{});Z.bind(e)(!Q)}).html("&#164");n.selectAll(".zoom-control").call(y.stylize,e._zoomControlStyle).on("mouseenter",function(){g.select(this).call(y.stylize,e._zoomControlStyleHover||{})}).on("mouseleave",function(){g.select(this).call(y.stylize,g.select(this).classed("active")?e._zoomControlStyleActive||{}:e._zoomControlStyle||{})});this._zoomBrush.extent([[0,0],[i,t]]).filter(function(){return!g.event.button&&g.event.detail<2}).handleSize(this._zoomBrushHandleSize).on("start",rt.bind(this)).on("brush",it.bind(this)).on("end",nt.bind(this));var o=this._container.selectAll("g.brush").data([0]);this._brushGroup=o.enter().append("g").attr("class","brush").merge(o).call(this._zoomBrush);Z.bind(this)();if(this._renderTiles)this._renderTiles(f.zoomTransform(this._container.node()),0)}function Z(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;Q=t;if(Q)this._brushGroup.style("display","inline");else this._brushGroup.style("display","none");if(!Q&&this._zoom){this._container.call(this._zoomBehavior);if(!this._zoomScroll){this._container.on("wheel.zoom",null)}if(!this._zoomPan){this._container.on("mousedown.zoom mousemove.zoom",null).on("touchstart.zoom touchmove.zoom touchend.zoom touchcancel.zoom",null)}}else{this._container.on(".zoom",null)}}function $(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;if(this._zoomGroup){if(!e)this._zoomGroup.attr("transform",t||g.event.transform);else this._zoomGroup.transition().duration(e).attr("transform",t||g.event.transform)}if(this._renderTiles)this._renderTiles(f.zoomTransform(this._container.node()),e)}function tt(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;if(!this._container)return;var e=this._zoomBehavior.extent().bind(document)()[1].map(function(t){return t/2}),i=this._zoomBehavior.scaleExtent(),n=f.zoomTransform(this._container.node());if(!t){n.k=i[0];n.x=0;n.y=0}else{var r=[(e[0]-n.x)/n.k,(e[1]-n.y)/n.k];n.k=Math.min(i[1],n.k*t);if(n.k<=i[0]){n.k=i[0];n.x=0;n.y=0}else{n.x+=e[0]-(r[0]*n.k+n.x);n.y+=e[1]-(r[1]*n.k+n.y)}}$.bind(this)(n,this._duration)}function et(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this._duration;var i=this._zoomBehavior.scaleExtent(),n=f.zoomTransform(this._container.node());if(t){var r=_slicedToArray(this._zoomBehavior.translateExtent()[1],2),o=r[0],a=r[1],s=t[1][0]-t[0][0],l=t[1][1]-t[0][1];var h=Math.min(i[1],1/Math.max(s/o,l/a));var c,u;if(s/l<o/a){h*=(a-this._zoomPadding*2)/a;c=(o-s*h)/2/h;u=this._zoomPadding/h}else{h*=(o-this._zoomPadding*2)/o;u=(a-l*h)/2/h;c=this._zoomPadding/h}n.x=(n.x-t[0][0]+c)*(n.k*h/n.k);n.y=(n.y-t[0][1]+u)*(n.k*h/n.k);n.k*=h;if(n.x>0)n.x=0;else if(n.x<o*-n.k+o)n.x=o*-n.k+o;if(n.y>0)n.y=0;else if(n.y<a*-n.k+a)n.y=a*-n.k+a}else{n.k=i[0];n.x=0;n.y=0}$.bind(this)(n,e)}function it(){ot.bind(this)()}function nt(){if(!g.event.selection)return;this._brushGroup.call(this._zoomBrush.move,null);et.bind(this)(g.event.selection)}function rt(){ot.bind(this)()}function ot(){this._brushGroup.selectAll(".selection").call(y.attrize,this._zoomBrushSelectionStyle||{});this._brushGroup.selectAll(".handle").call(y.attrize,this._zoomBrushHandleStyle||{})}function at(){var t=g.select(this._select.node().parentNode).selectAll("div.d3plus-attribution").data(this._attribution?[0]:[]);var e=t.enter().append("div").attr("class","d3plus-attribution");t.exit().remove();t=t.merge(e).style("position","absolute").html(this._attribution).style("right","".concat(this._margin.right,"px")).style("bottom","".concat(this._margin.bottom,"px")).call(y.stylize,this._attributionStyle)}function st(){return typeof window!=="undefined"?window.innerWidth>600:true}function lt(n){return n.reduce(function(t,e,i){if(!i)t+=e;else if(i===n.length-1&&i===1)t+=" and ".concat(e);else if(i===n.length-1)t+=", and ".concat(e);else t+=", ".concat(e);return t},"")}var ht=function(t){_inherits(i,t);var e=_createSuper(i);function i(){var s;_classCallCheck(this,i);s=e.call(this);s._aggs={};s._ariaHidden=true;s._attribution=false;s._attributionStyle={background:"rgba(255, 255, 255, 0.75)",border:"1px solid rgba(0, 0, 0, 0.25)",color:"rgba(0, 0, 0, 0.75)",display:"block",font:"400 11px/11px 'Roboto', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",margin:"5px",opacity:.75,padding:"4px 6px 3px"};s._backClass=(new c.TextBox).on("click",function(){if(s._history.length)s.config(s._history.pop()).render();else s.depth(s._drawDepth-1).filter(false).render()}).on("mousemove",function(){return s._backClass.select().style("cursor","pointer")});s._backConfig={fontSize:10,padding:5,resize:false};s._cache=true;s._color=function(t,e){return s._groupBy[0](t,e)};s._colorScaleClass=new a.ColorScale;s._colorScaleConfig={};s._colorScalePadding=st;s._colorScalePosition="bottom";s._colorScaleMaxSize=600;var t=new o.Select;s._controlCache={};s._controlConfig={selectStyle:Object.assign({margin:"5px"},t.selectStyle())};s._controlPadding=st;s._data=[];s._dataCutoff=100;s._detectResize=true;s._detectResizeDelay=400;s._detectVisible=true;s._detectVisibleInterval=1e3;s._downloadButton=false;s._downloadConfig={type:"png"};s._downloadPosition="top";s._duration=600;s._hidden=[];s._hiddenColor=y.constant("#aaa");s._hiddenOpacity=y.constant(.5);s._history=[];s._groupBy=[y.accessor("id")];s._legend=true;s._legendClass=new a.Legend;s._legendConfig={label:B.bind(_assertThisInitialized(s)),shapeConfig:{ariaLabel:B.bind(_assertThisInitialized(s)),labelConfig:{fontColor:undefined,fontResize:false,padding:0}}};s._legendCutoff=1;s._legendPadding=st;s._legendPosition="bottom";s._legendSort=function(t,e){return s._drawLabel(t).localeCompare(s._drawLabel(e))};s._legendTooltip={};s._loadingHTML=function(){return"\n    <div style=\"left: 50%; top: 50%; position: absolute; transform: translate(-50%, -50%); font-family: 'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif;\">\n      <strong>".concat(s._translate("Loading Visualization"),'</strong>\n      <sub style="bottom: 0; display: block; line-height: 1; margin-top: 5px;"><a href="https://d3plus.org" target="_blank">').concat(s._translate("Powered by D3plus"),"</a></sub>\n    </div>")};s._loadingMessage=true;s._lrucache=S["default"](10);s._messageClass=new O;s._messageMask="rgba(0, 0, 0, 0.05)";s._messageStyle={bottom:"0",left:"0",position:"absolute",right:"0","text-align":"center",top:"0"};s._noDataHTML=function(){return"\n    <div style=\"left: 50%; top: 50%; position: absolute; transform: translate(-50%, -50%); font-family: 'Roboto', 'Helvetica Neue', Helvetica, Arial, sans-serif;\">\n      <strong>".concat(s._translate("No Data Available"),"</strong>\n    </div>")};s._noDataMessage=true;s._on={"click.shape":q.bind(_assertThisInitialized(s)),"click.legend":V.bind(_assertThisInitialized(s)),mouseenter:G.bind(_assertThisInitialized(s)),mouseleave:Y.bind(_assertThisInitialized(s)),"mousemove.shape":X.bind(_assertThisInitialized(s)),"mousemove.legend":K.bind(_assertThisInitialized(s))};s._queue=[];s._scrollContainer=(typeof window==="undefined"?"undefined":_typeof(window))===undefined?"":window;s._shape=y.constant("Rect");s._shapes=[];s._shapeConfig={ariaLabel:function t(e,i){return s._drawLabel(e,i)},fill:function t(e,i){while(e.__d3plus__&&e.data){e=e.data;i=e.i}if(s._colorScale){var n=s._colorScale(e,i);if(n!==undefined&&n!==null){var r=s._colorScaleClass._colorScale;var o=s._colorScaleClass.color();if(!r)return o instanceof Array?o[o.length-1]:o;else if(!r.domain().length)return r.range()[r.range().length-1];return r(n)}}var a=s._color(e,i);if(l.color(a))return a;return h.colorAssign(a)},labelConfig:{fontColor:function t(e,i){var n=typeof s._shapeConfig.fill==="function"?s._shapeConfig.fill(e,i):s._shapeConfig.fill;return h.colorContrast(n)}},opacity:y.constant(1),stroke:function t(e,i){var n=typeof s._shapeConfig.fill==="function"?s._shapeConfig.fill(e,i):s._shapeConfig.fill;return l.color(n).darker()},role:"presentation",strokeWidth:y.constant(0)};s._solo=[];s._svgDesc="";s._svgTitle="";s._timeline=true;s._timelineClass=(new u.Timeline).align("end");s._timelineConfig={brushing:false,padding:5};s._timelinePadding=st;s._threshold=y.constant(1e-4);s._thresholdKey=undefined;s._thresholdName=function(){return s._translate("Values")};s._titleClass=new c.TextBox;s._titleConfig={ariaHidden:true,fontSize:12,padding:5,resize:false,textAnchor:"middle"};s._titlePadding=st;s._tooltip=y.constant(true);s._tooltipClass=new C.Tooltip;s._tooltipConfig={pointerEvents:"none",titleStyle:{"max-width":"200px"}};s._totalClass=new c.TextBox;s._totalConfig={fontSize:10,padding:5,resize:false,textAnchor:"middle"};s._totalFormat=function(t){return"".concat(s._translate("Total"),": ").concat(b.formatAbbreviate(t,s._locale))};s._totalPadding=st;s._zoom=false;s._zoomBehavior=f.zoom();s._zoomBrush=n.brush();s._zoomBrushHandleSize=1;s._zoomBrushHandleStyle={fill:"#444"};s._zoomBrushSelectionStyle={fill:"#777","stroke-width":0};s._zoomControlStyle={background:"rgba(255, 255, 255, 0.75)",border:"1px solid rgba(0, 0, 0, 0.75)",color:"rgba(0, 0, 0, 0.75)",display:"block",font:"900 15px/21px 'Roboto', 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",height:"20px",margin:"5px",opacity:.75,padding:0,"text-align":"center",width:"20px"};s._zoomControlStyleActive={background:"rgba(0, 0, 0, 0.75)",color:"rgba(255, 255, 255, 0.75)",opacity:1};s._zoomControlStyleHover={cursor:"pointer",opacity:1};s._zoomFactor=2;s._zoomMax=16;s._zoomPadding=20;s._zoomPan=true;s._zoomScroll=true;return s}_createClass(i,[{key:"_preDraw",value:function t(){var o=this;var a=this;this._drawDepth=this._depth!==void 0?this._depth:this._groupBy.length-1;this._id=this._groupBy[this._drawDepth];this._ids=function(e,i){return o._groupBy.map(function(t){return!e||e.__d3plus__&&!e.data?undefined:t(e.__d3plus__?e.data:e,e.__d3plus__?e.i:i)}).filter(function(t){return t!==undefined&&t!==null})};this._drawLabel=function(t,e){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:o._drawDepth;if(!t)return"";while(t.__d3plus__&&t.data){t=t.data;e=t.i}if(t._isAggregation){return"".concat(o._thresholdName(t,e)," < ").concat(b.formatAbbreviate(t._threshold*100,o._locale),"%")}if(o._label)return"".concat(o._label(t,e));var n=a._ids(t,e).slice(0,i+1);var r=n.reverse().find(function(t){return!(t instanceof Array)})||n[n.length-1];return r instanceof Array?lt(r):"".concat(r)};if(this._time&&!this._timeFilter&&this._data.length){var e=this._data.map(this._time).map(m.date);var i=this._data[0],n=0;if(this._discrete&&"_".concat(this._discrete)in this&&this["_".concat(this._discrete)](i,n)===this._time(i,n)){this._timeFilter=function(){return true}}else{var r=+_.max(e);this._timeFilter=function(t,e){return+m.date(o._time(t,e))===r}}}this._filteredData=[];this._legendData=[];var s=[];if(this._data.length){s=this._timeFilter?this._data.filter(this._timeFilter):this._data;if(this._filter)s=s.filter(this._filter);var l=v.nest();for(var h=0;h<=this._drawDepth;h++){l.key(this._groupBy[h])}if(this._discrete&&"_".concat(this._discrete)in this)l.key(this["_".concat(this._discrete)]);if(this._discrete&&"_".concat(this._discrete,"2")in this)l.key(this["_".concat(this._discrete,"2")]);var c=l.rollup(function(t){var e=o._data.indexOf(t[0]);var i=o._shape(t[0],e);var n=o._id(t[0],e);var r=y.merge(t,o._aggs);if(!o._hidden.includes(n)&&(!o._solo.length||o._solo.includes(n))){if(!o._discrete&&i==="Line")o._filteredData=o._filteredData.concat(t);else o._filteredData.push(r)}o._legendData.push(r)}).entries(s);this._filteredData=this._thresholdFunction(this._filteredData,c)}var u=v.nest().key(this._id).entries(this._filteredData).length;if(u>this._dataCutoff){if(this._userHover===undefined)this._userHover=this._shapeConfig.hoverOpacity||.5;if(this._userDuration===undefined)this._userDuration=this._shapeConfig.duration||600;this._shapeConfig.hoverOpacity=1;this._shapeConfig.duration=0}else if(this._userHover!==undefined){this._shapeConfig.hoverOpacity=this._userHover;this._shapeConfig.duration=this._userDuration}if(this._noDataMessage&&!this._filteredData.length){this._messageClass.render({container:this._select.node().parentNode,html:this._noDataHTML(this),mask:false,style:this._messageStyle})}}},{key:"_draw",value:function t(){if(this._legendPosition==="left"||this._legendPosition==="right")H.bind(this)(this._filteredData);if(this._colorScalePosition==="left"||this._colorScalePosition==="right"||this._colorScalePosition===false)A.bind(this)(this._filteredData);T.bind(this)();F.bind(this)(this._filteredData);L.bind(this)(this._filteredData);E.bind(this)(this._filteredData);j.bind(this)(this._filteredData);if(this._legendPosition==="top"||this._legendPosition==="bottom")H.bind(this)(this._legendData);if(this._colorScalePosition==="top"||this._colorScalePosition==="bottom")A.bind(this)(this._filteredData);this._shapes=[]}},{key:"_thresholdFunction",value:function t(e){return e}},{key:"render",value:function t(o){var a=this;this._margin={bottom:0,left:0,right:0,top:0};this._padding={bottom:0,left:0,right:0,top:0};this._transition=p.transition().duration(this._duration);if(this._select===void 0||this._select.node().tagName.toLowerCase()!=="svg"){var e=this._select===void 0?g.select("body").append("div"):this._select;var i=e.append("svg");this.select(i.node())}function s(){var t=this._select.style("display");this._select.style("display","none");var e=R(this._select.node().parentNode),i=_slicedToArray(e,2),n=i[0],r=i[1];n-=parseFloat(this._select.style("border-left-width"),10);n-=parseFloat(this._select.style("border-right-width"),10);r-=parseFloat(this._select.style("border-top-width"),10);r-=parseFloat(this._select.style("border-bottom-width"),10);this._select.style("display",t);if(this._autoWidth){this.width(n);this._select.style("width","".concat(this._width,"px")).attr("width","".concat(this._width,"px"))}if(this._autoHeight){this.height(r);this._select.style("height","".concat(this._height,"px")).attr("height","".concat(this._height,"px"))}}if((!this._width||!this._height)&&(!this._detectVisible||I(this._select.node()))){this._autoWidth=this._width===undefined;this._autoHeight=this._height===undefined;s.bind(this)()}this._select.attr("class","d3plus-viz").attr("aria-hidden",this._ariaHidden).attr("aria-labelledby","".concat(this._uuid,"-title ").concat(this._uuid,"-desc")).attr("role","img").attr("xmlns","http://www.w3.org/2000/svg").attr("xmlns:xlink","http://www.w3.org/1999/xlink").transition(p.transition).style("width",this._width!==undefined?"".concat(this._width,"px"):undefined).style("height",this._height!==undefined?"".concat(this._height,"px"):undefined).attr("width",this._width!==undefined?"".concat(this._width,"px"):undefined).attr("height",this._height!==undefined?"".concat(this._height,"px"):undefined);var n=g.select(this._select.node().parentNode);var r=n.style("position");if(r==="static")n.style("position","relative");var l=this._select.selectAll("title").data([0]);var h=l.enter().append("title").attr("id","".concat(this._uuid,"-title"));l.merge(h).text(this._svgTitle);var c=this._select.selectAll("desc").data([0]);var u=c.enter().append("desc").attr("id","".concat(this._uuid,"-desc"));c.merge(u).text(this._svgDesc);this._visiblePoll=clearInterval(this._visiblePoll);this._resizePoll=clearTimeout(this._resizePoll);this._scrollPoll=clearTimeout(this._scrollPoll);g.select(this._scrollContainer).on("scroll.".concat(this._uuid),null);g.select(this._scrollContainer).on("resize.".concat(this._uuid),null);if(this._detectVisible&&this._select.style("visibility")==="hidden"){this._visiblePoll=setInterval(function(){if(a._select.style("visibility")!=="hidden"){a._visiblePoll=clearInterval(a._visiblePoll);a.render(o)}},this._detectVisibleInterval)}else if(this._detectVisible&&this._select.style("display")==="none"){this._visiblePoll=setInterval(function(){if(a._select.style("display")!=="none"){a._visiblePoll=clearInterval(a._visiblePoll);a.render(o)}},this._detectVisibleInterval)}else if(this._detectVisible&&!I(this._select.node())){g.select(this._scrollContainer).on("scroll.".concat(this._uuid),function(){if(!a._scrollPoll){a._scrollPoll=setTimeout(function(){if(I(a._select.node())){g.select(a._scrollContainer).on("scroll.".concat(a._uuid),null);a.render(o)}a._scrollPoll=clearTimeout(a._scrollPoll)},a._detectVisibleInterval)}})}else{var f=d.queue();this._queue.forEach(function(t){var e=a._cache?a._lrucache.get("".concat(t[3],"_").concat(t[1])):undefined;if(!e)f.defer.apply(f,_toConsumableArray(t));else a["_".concat(t[3])]=t[2]?t[2](e):e});this._queue=[];if(this._loadingMessage&&f._tasks.length){this._messageClass.render({container:this._select.node().parentNode,html:this._loadingHTML(this),mask:this._filteredData?this._messageMask:false,style:this._messageStyle})}f.awaitAll(function(){var i=a._data instanceof Array&&a._data.length>0?Object.keys(a._data[0]):[];var t=a._select.selectAll("g.data-table").data(!a._ariaHidden&&a._data instanceof Array&&a._data.length?[0]:[]);var e=t.enter().append("g").attr("class","data-table").attr("role","table");t.exit().remove();var n=t.merge(e).selectAll("text").data(a._data instanceof Array?_.range(0,a._data.length+1):[]);n.exit().remove();var r=n.merge(n.enter().append("text").attr("role","row")).selectAll("tspan").data(function(t,e){return i.map(function(t){return{role:e?"cell":"columnheader",text:e?a._data[e-1][t]:t}})});r.exit().remove();r.merge(r.enter().append("tspan")).attr("role",function(t){return t.role}).attr("dy","-1000px").html(function(t){return t.text});a._preDraw();a._draw(o);U.bind(a)();at.bind(a)();if(a._messageClass._isVisible&&(!a._noDataMessage||a._filteredData.length))a._messageClass.hide();if(a._detectResize&&(a._autoWidth||a._autoHeight)){g.select(a._scrollContainer).on("resize.".concat(a._uuid),function(){a._resizePoll=clearTimeout(a._resizePoll);a._resizePoll=setTimeout(function(){a._resizePoll=clearTimeout(a._resizePoll);s.bind(a)();a.render(o)},a._detectResizeDelay)})}if(o)setTimeout(o,a._duration+100)})}g.select("body").on("touchstart.".concat(this._uuid),J.bind(this));return this}},{key:"active",value:function t(e){this._active=e;if(this._shapeConfig.activeOpacity!==1){this._shapes.forEach(function(t){return t.active(e)});if(this._legend)this._legendClass.active(e)}return this}},{key:"aggs",value:function t(e){return arguments.length?(this._aggs=y.assign(this._aggs,e),this):this._aggs}},{key:"ariaHidden",value:function t(e){return arguments.length?(this._ariaHidden=e,this):this._ariaHidden}},{key:"attribution",value:function t(e){return arguments.length?(this._attribution=e,this):this._attribution}},{key:"attributionStyle",value:function t(e){return arguments.length?(this._attributionStyle=y.assign(this._attributionStyle,e),this):this._attributionStyle}},{key:"backConfig",value:function t(e){return arguments.length?(this._backConfig=y.assign(this._backConfig,e),this):this._backConfig}},{key:"cache",value:function t(e){return arguments.length?(this._cache=e,this):this._cache}},{key:"color",value:function t(e){return arguments.length?(this._color=!e||typeof e==="function"?e:y.accessor(e),this):this._color}},{key:"colorScale",value:function t(e){return arguments.length?(this._colorScale=!e||typeof e==="function"?e:y.accessor(e),this):this._colorScale}},{key:"colorScaleConfig",value:function t(e){return arguments.length?(this._colorScaleConfig=y.assign(this._colorScaleConfig,e),this):this._colorScaleConfig}},{key:"colorScalePadding",value:function t(e){return arguments.length?(this._colorScalePadding=typeof e==="function"?e:y.constant(e),this):this._colorScalePadding}},{key:"colorScalePosition",value:function t(e){return arguments.length?(this._colorScalePosition=e,this):this._colorScalePosition}},{key:"colorScaleMaxSize",value:function t(e){return arguments.length?(this._colorScaleMaxSize=e,this):this._colorScaleMaxSize}},{key:"controls",value:function t(e){return arguments.length?(this._controls=e,this):this._controls}},{key:"controlConfig",value:function t(e){return arguments.length?(this._controlConfig=y.assign(this._controlConfig,e),this):this._controlConfig}},{key:"controlPadding",value:function t(e){return arguments.length?(this._controlPadding=typeof e==="function"?e:y.constant(e),this):this._controlPadding}},{key:"data",value:function t(e,i){if(arguments.length){P.bind(this)(e,i,"data");this._hidden=[];this._solo=[];return this}return this._data}},{key:"dataCutoff",value:function t(e){return arguments.length?(this._dataCutoff=e,this):this._dataCutoff}},{key:"depth",value:function t(e){return arguments.length?(this._depth=e,this):this._depth}},{key:"detectResize",value:function t(e){return arguments.length?(this._detectResize=e,this):this._detectResize}},{key:"detectResizeDelay",value:function t(e){return arguments.length?(this._detectResizeDelay=e,this):this._detectResizeDelay}},{key:"detectVisible",value:function t(e){return arguments.length?(this._detectVisible=e,this):this._detectVisible}},{key:"detectVisibleInterval",value:function t(e){return arguments.length?(this._detectVisibleInterval=e,this):this._detectVisibleInterval}},{key:"discrete",value:function t(e){return arguments.length?(this._discrete=e,this):this._discrete}},{key:"downloadButton",value:function t(e){return arguments.length?(this._downloadButton=e,this):this._downloadButton}},{key:"downloadConfig",value:function t(e){return arguments.length?(this._downloadConfig=y.assign(this._downloadConfig,e),this):this._downloadConfig}},{key:"downloadPosition",value:function t(e){return arguments.length?(this._downloadPosition=e,this):this._downloadPosition}},{key:"duration",value:function t(e){return arguments.length?(this._duration=e,this):this._duration}},{key:"filter",value:function t(e){return arguments.length?(this._filter=e,this):this._filter}},{key:"groupBy",value:function t(e){var i=this;if(!arguments.length)return this._groupBy;if(!(e instanceof Array))e=[e];return this._groupBy=e.map(function(t){if(typeof t==="function")return t;else{if(!i._aggs[t]){i._aggs[t]=function(t,e){var i=y.unique(t.map(e));return i.length===1?i[0]:i}}return y.accessor(t)}}),this}},{key:"height",value:function t(e){return arguments.length?(this._height=e,this):this._height}},{key:"hiddenColor",value:function t(e){return arguments.length?(this._hiddenColor=typeof e==="function"?e:y.constant(e),this):this._hiddenColor}},{key:"hiddenOpacity",value:function t(e){return arguments.length?(this._hiddenOpacity=typeof e==="function"?e:y.constant(e),this):this._hiddenOpacity}},{key:"hover",value:function t(e){var n=this;var i=this._hover=e;if(this._shapeConfig.hoverOpacity!==1){if(typeof e==="function"){var r=_.merge(this._shapes.map(function(t){return t.data()}));r=r.concat(this._legendClass.data());var o=e?r.filter(e):[];var a=[];o.map(this._ids).forEach(function(t){for(var e=1;e<=t.length;e++){a.push(JSON.stringify(t.slice(0,e)))}});a=a.filter(function(t,e){return a.indexOf(t)===e});if(a.length)i=function t(e,i){return a.includes(JSON.stringify(n._ids(e,i)))}}this._shapes.forEach(function(t){return t.hover(i)});if(this._legend)this._legendClass.hover(i)}return this}},{key:"label",value:function t(e){return arguments.length?(this._label=typeof e==="function"?e:y.constant(e),this):this._label}},{key:"legend",value:function t(e){return arguments.length?(this._legend=e,this):this._legend}},{key:"legendConfig",value:function t(e){return arguments.length?(this._legendConfig=y.assign(this._legendConfig,e),this):this._legendConfig}},{key:"legendCutoff",value:function t(e){return arguments.length?(this._legendCutoff=e,this):this._legendCutoff}},{key:"legendTooltip",value:function t(e){return arguments.length?(this._legendTooltip=y.assign(this._legendTooltip,e),this):this._legendTooltip}},{key:"legendPadding",value:function t(e){return arguments.length?(this._legendPadding=typeof e==="function"?e:y.constant(e),this):this._legendPadding}},{key:"legendPosition",value:function t(e){return arguments.length?(this._legendPosition=e,this):this._legendPosition}},{key:"legendSort",value:function t(e){return arguments.length?(this._legendSort=e,this):this._legendSort}},{key:"loadingHTML",value:function t(e){return arguments.length?(this._loadingHTML=typeof e==="function"?e:y.constant(e),this):this._loadingHTML}},{key:"loadingMessage",value:function t(e){return arguments.length?(this._loadingMessage=e,this):this._loadingMessage}},{key:"messageMask",value:function t(e){return arguments.length?(this._messageMask=e,this):this._messageMask}},{key:"messageStyle",value:function t(e){return arguments.length?(this._messageStyle=y.assign(this._messageStyle,e),this):this._messageStyle}},{key:"noDataHTML",value:function t(e){return arguments.length?(this._noDataHTML=typeof e==="function"?e:y.constant(e),this):this._noDataHTML}},{key:"noDataMessage",value:function t(e){return arguments.length?(this._noDataMessage=e,this):this._noDataMessage}},{key:"scrollContainer",value:function t(e){return arguments.length?(this._scrollContainer=e,this):this._scrollContainer}},{key:"select",value:function t(e){return arguments.length?(this._select=g.select(e),this):this._select}},{key:"shape",value:function t(e){return arguments.length?(this._shape=typeof e==="function"?e:y.constant(e),this):this._shape}},{key:"shapeConfig",value:function t(e){return arguments.length?(this._shapeConfig=y.assign(this._shapeConfig,e),this):this._shapeConfig}},{key:"svgDesc",value:function t(e){return arguments.length?(this._svgDesc=e,this):this._svgDesc}},{key:"svgTitle",value:function t(e){return arguments.length?(this._svgTitle=e,this):this._svgTitle}},{key:"threshold",value:function t(e){if(arguments.length){if(typeof e==="function"){this._threshold=e}else if(isFinite(e)&&!isNaN(e)){this._threshold=y.constant(e*1)}return this}else return this._threshold}},{key:"thresholdKey",value:function t(e){if(arguments.length){if(typeof e==="function"){this._thresholdKey=e}else{this._thresholdKey=y.accessor(e)}return this}else return this._thresholdKey}},{key:"thresholdName",value:function t(e){return arguments.length?(this._thresholdName=typeof e==="function"?e:y.constant(e),this):this._thresholdName}},{key:"time",value:function t(e){if(arguments.length){if(typeof e==="function"){this._time=e}else{this._time=y.accessor(e);if(!this._aggs[e]){this._aggs[e]=function(t,e){var i=y.unique(t.map(e));return i.length===1?i[0]:i}}}this._timeFilter=false;return this}else return this._time}},{key:"timeFilter",value:function t(e){return arguments.length?(this._timeFilter=e,this):this._timeFilter}},{key:"timeline",value:function t(e){return arguments.length?(this._timeline=e,this):this._timeline}},{key:"timelineConfig",value:function t(e){return arguments.length?(this._timelineConfig=y.assign(this._timelineConfig,e),this):this._timelineConfig}},{key:"timelinePadding",value:function t(e){return arguments.length?(this._timelinePadding=typeof e==="function"?e:y.constant(e),this):this._timelinePadding}},{key:"title",value:function t(e){return arguments.length?(this._title=typeof e==="function"?e:y.constant(e),this):this._title}},{key:"titleConfig",value:function t(e){return arguments.length?(this._titleConfig=y.assign(this._titleConfig,e),this):this._titleConfig}},{key:"titlePadding",value:function t(e){return arguments.length?(this._titlePadding=typeof e==="function"?e:y.constant(e),this):this._titlePadding}},{key:"tooltip",value:function t(e){return arguments.length?(this._tooltip=typeof e==="function"?e:y.constant(e),this):this._tooltip}},{key:"tooltipConfig",value:function t(e){return arguments.length?(this._tooltipConfig=y.assign(this._tooltipConfig,e),this):this._tooltipConfig}},{key:"total",value:function t(e){if(arguments.length){if(typeof e==="function")this._total=e;else if(e)this._total=y.accessor(e);else this._total=false;return this}else return this._total}},{key:"totalConfig",value:function t(e){return arguments.length?(this._totalConfig=y.assign(this._totalConfig,e),this):this._totalConfig}},{key:"totalFormat",value:function t(e){return arguments.length?(this._totalFormat=e,this):this._totalFormat}},{key:"totalPadding",value:function t(e){return arguments.length?(this._totalPadding=typeof e==="function"?e:y.constant(e),this):this._totalPadding}},{key:"width",value:function t(e){return arguments.length?(this._width=e,this):this._width}},{key:"zoom",value:function t(e){return arguments.length?(this._zoom=e,this):this._zoom}},{key:"zoomBrushHandleSize",value:function t(e){return arguments.length?(this._zoomBrushHandleSize=e,this):this._zoomBrushHandleSize}},{key:"zoomBrushHandleStyle",value:function t(e){return arguments.length?(this._zoomBrushHandleStyle=e,this):this._zoomBrushHandleStyle}},{key:"zoomBrushSelectionStyle",value:function t(e){return arguments.length?(this._zoomBrushSelectionStyle=e,this):this._zoomBrushSelectionStyle}},{key:"zoomControlStyle",value:function t(e){return arguments.length?(this._zoomControlStyle=e,this):this._zoomControlStyle}},{key:"zoomControlStyleActive",value:function t(e){return arguments.length?(this._zoomControlStyleActive=e,this):this._zoomControlStyleActive}},{key:"zoomControlStyleHover",value:function t(e){return arguments.length?(this._zoomControlStyleHover=e,this):this._zoomControlStyleHover}},{key:"zoomFactor",value:function t(e){return arguments.length?(this._zoomFactor=e,this):this._zoomFactor}},{key:"zoomMax",value:function t(e){return arguments.length?(this._zoomMax=e,this):this._zoomMax}},{key:"zoomPan",value:function t(e){return arguments.length?(this._zoomPan=e,this):this._zoomPan}},{key:"zoomPadding",value:function t(e){return arguments.length?(this._zoomPadding=e,this):this._zoomPadding}},{key:"zoomScroll",value:function t(e){return arguments.length?(this._zoomScroll=e,this):this._zoomScroll}}]);return i}(y.BaseClass);t.Viz=ht;t.addToQueue=P;t.dataConcat=k;t.dataFold=x;t.dataLoad=s;t.isData=z;Object.defineProperty(t,"__esModule",{value:true})});