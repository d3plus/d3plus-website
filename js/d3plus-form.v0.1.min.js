/*
  d3plus-form v0.1.1
  Javascript rendered input forms.
  Copyright (c) 2017 D3plus - https://d3plus.org
  @license MIT
*/
(function(t,e){typeof exports==="object"&&typeof module!=="undefined"?e(exports,require("d3-selection"),require("d3plus-common")):typeof define==="function"&&define.amd?define("d3plus-form",["exports","d3-selection","d3plus-common"],e):e(t.d3plus=t.d3plus||{},t.d3Selection,t.d3plusCommon)})(this,function(t,e,n){"use strict";var i=function(t){function i(){t.call(this);this._labelStyle={"font-family":"Verdana","font-size":"12px","margin-right":"5px"};this._options=[];this._optionStyle={"font-family":"Verdana","font-size":"12px"};this._selectStyle=(e={background:"#fafafa",border:"1px solid #ccc","border-radius":"0","font-family":"Verdana","font-size":"12px",outline:"0",padding:"3px 5px 4px"},e[n.prefix()+"appearance"]="none",e);var e;this._text=n.accessor("text");this._value=n.accessor("value")}if(t)i.__proto__=t;i.prototype=Object.create(t&&t.prototype);i.prototype.constructor=i;i.prototype.render=function t(){var i=this;if(this._container===void 0){this.container(e.select("body").append("div").node())}var l=this;var o=this._container.selectAll("select#d3plus-Select-"+this._uuid).data([0]);var s=this._container.node().tagName.toLowerCase()==="foreignobject";o=o.enter().append(s?"xhtml:select":"select").attr("id","d3plus-Select-"+this._uuid).attr("class","d3plus-Select").merge(o).call(n.stylize,this._selectStyle).on("change.d3plus",function(){l.selected(this.value)});for(var r in i._on){if({}.hasOwnProperty.call(i._on,r)){o.on(r,i._on[r])}}var a=o.selectAll("option").data(this._options,function(t,e){return i._value(t,e)});a.exit().remove();a.enter().append("option").attr("class","d3plus-Option").merge(a).call(n.stylize,this._optionStyle).attr("value",function(t,e){return i._value(t,e)}).html(function(t,e){return i._text(t,e)}).property("selected",function(t,e){return i._selected===void 0?!e:""+i._value(t,e)===""+i._selected});var c=this._container.selectAll("label#d3plus-Label-"+this._uuid).data(this._label?[0]:[]);c.exit().remove();c.enter().insert(s?"xhtml:label":"label","#d3plus-Select-"+this._uuid).attr("id","d3plus-Label-"+this._uuid).attr("class","d3plus-Label").attr("for","d3plus-Select-"+this._uuid).merge(c).call(n.stylize,this._labelStyle).html(this._label);return this};i.prototype.container=function t(n){return arguments.length?(this._container=e.select(n),this):this._container};i.prototype.label=function t(e){return arguments.length?(this._label=e,this):this._label};i.prototype.labelStyle=function t(e){return arguments.length?(this._labelStyle=e,this):this._labelStyle};i.prototype.options=function t(e){return arguments.length?(this._options=e,this):this._options};i.prototype.optionStyle=function t(e){return arguments.length?(this._optionStyle=e,this):this._optionStyle};i.prototype.selected=function t(e){return arguments.length?(this._selected=e,this):this._selected};i.prototype.selectStyle=function t(e){return arguments.length?(this._selectStyle=e,this):this._selectStyle};i.prototype.text=function t(e){return arguments.length?(this._text=typeof e==="function"?e:n.constant(e),this):this._text};i.prototype.value=function t(e){return arguments.length?(this._value=e,this):this._value};return i}(n.BaseClass);t.Select=i;Object.defineProperty(t,"__esModule",{value:true})});